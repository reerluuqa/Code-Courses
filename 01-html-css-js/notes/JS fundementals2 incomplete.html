<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Basics Academy üöÄ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Fira+Code:wght@400;500&display=swap');

        :root {
            --primary: #6c5ce7;
            --primary-light: #a29bfe;
            --secondary: #00cec9;
            --accent: #fd79a8;
            --warning: #fdcb6e;
            --success: #00b894;
            --danger: #e17055;
            --dark: #2d3436;
            --darker: #1e272e;
            --light: #dfe6e9;
            --white: #ffffff;
            --bg: #0a0a1a;
            --card-bg: #14142b;
            --card-border: #2a2a4a;
            --glow: rgba(108, 92, 231, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .bg-animation .particle {
            position: absolute;
            border-radius: 50%;
            animation: float linear infinite;
            opacity: 0.1;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.1; }
            90% { opacity: 0.1; }
            100% { transform: translateY(-10vh) rotate(720deg); opacity: 0; }
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--darker), var(--card-bg));
            border-bottom: 2px solid var(--card-border);
            padding: 15px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .logo {
            font-size: 1.5em;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .xp-bar-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .level-badge {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.85em;
            white-space: nowrap;
        }

        .xp-bar {
            width: 200px;
            height: 12px;
            background: var(--card-border);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }

        .xp-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .streak-counter {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
            color: var(--warning);
        }

        /* Main Layout */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            gap: 20px;
            position: relative;
            z-index: 1;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            flex-shrink: 0;
            position: sticky;
            top: 80px;
            height: calc(100vh - 100px);
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--card-border) transparent;
        }

        .sidebar::-webkit-scrollbar {
            width: 4px;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--card-border);
            border-radius: 4px;
        }

        .nav-section {
            margin-bottom: 20px;
        }

        .nav-section-title {
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--primary-light);
            margin-bottom: 10px;
            padding-left: 10px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 4px;
            border: 1px solid transparent;
            position: relative;
        }

        .nav-item:hover {
            background: rgba(108, 92, 231, 0.1);
            border-color: var(--card-border);
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.2), rgba(0, 206, 201, 0.1));
            border-color: var(--primary);
            box-shadow: 0 0 20px var(--glow);
        }

        .nav-item.completed .nav-icon {
            background: var(--success);
            color: white;
        }

        .nav-icon {
            width: 35px;
            height: 35px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1em;
            background: var(--card-border);
            flex-shrink: 0;
        }

        .nav-text {
            font-size: 0.85em;
            font-weight: 500;
        }

        .nav-item .check {
            position: absolute;
            right: 10px;
            color: var(--success);
            font-size: 0.8em;
        }

        /* Content Area */
        .content {
            flex: 1;
            min-width: 0;
        }

        .lesson-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .lesson-card.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
                @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        .slideOutRight {
            animation: slideOutRight 0.5s ease forwards;
        }

        .lesson-header {
            margin-bottom: 30px;
        }

        .lesson-tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .tag-concept { background: rgba(108, 92, 231, 0.2); color: var(--primary-light); }
        .tag-exercise { background: rgba(0, 206, 201, 0.2); color: var(--secondary); }
        .tag-quiz { background: rgba(253, 121, 168, 0.2); color: var(--accent); }
        .tag-pitfall { background: rgba(225, 112, 85, 0.2); color: var(--danger); }

        .lesson-title {
            font-size: 2em;
            font-weight: 800;
            background: linear-gradient(135deg, var(--white), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.3;
        }

        .lesson-subtitle {
            font-size: 1em;
            color: #636e72;
            margin-top: 8px;
        }

        /* Content Blocks */
        .concept-box {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.08), rgba(0, 206, 201, 0.05));
            border: 1px solid rgba(108, 92, 231, 0.2);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
        }

        .concept-box h3 {
            color: var(--primary-light);
            margin-bottom: 12px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analogy-box {
            background: linear-gradient(135deg, rgba(253, 203, 110, 0.08), rgba(253, 121, 168, 0.05));
            border: 1px solid rgba(253, 203, 110, 0.2);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
        }

        .analogy-box h3 {
            color: var(--warning);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pitfall-box {
            background: linear-gradient(135deg, rgba(225, 112, 85, 0.08), rgba(214, 48, 49, 0.05));
            border: 1px solid rgba(225, 112, 85, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
        }

        .pitfall-box h3 {
            color: var(--danger);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tip-box {
            background: linear-gradient(135deg, rgba(0, 184, 148, 0.08), rgba(0, 206, 201, 0.05));
            border: 1px solid rgba(0, 184, 148, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
        }

        .tip-box h3 {
            color: var(--success);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Code Blocks */
        .code-block {
            background: #0d0d1a;
            border: 1px solid var(--card-border);
            border-radius: 12px;
            margin: 15px 0;
            overflow: hidden;
        }

        .code-header {
            background: var(--card-border);
            padding: 8px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8em;
        }

        .code-dots {
            display: flex;
            gap: 6px;
        }

        .code-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .code-dot:nth-child(1) { background: #e17055; }
        .code-dot:nth-child(2) { background: #fdcb6e; }
        .code-dot:nth-child(3) { background: #00b894; }

        .code-content {
            padding: 20px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9em;
            line-height: 1.8;
            overflow-x: auto;
            white-space: pre;
        }

        .code-content .keyword { color: #c792ea; }
        .code-content .string { color: #c3e88d; }
        .code-content .number { color: #f78c6c; }
        .code-content .comment { color: #546e7a; font-style: italic; }
        .code-content .function { color: #82aaff; }
        .code-content .variable { color: #ffcb6b; }
        .code-content .operator { color: #89ddff; }
        .code-content .console { color: #82aaff; }
        .code-content .output { color: #00b894; background: rgba(0,184,148,0.1); padding: 2px 6px; border-radius: 4px; }
        .code-content .error-text { color: #e17055; background: rgba(225,112,85,0.1); padding: 2px 6px; border-radius: 4px; }

        /* Interactive Code Editor */
        .code-editor {
            background: #0d0d1a;
            border: 2px solid var(--card-border);
            border-radius: 12px;
            margin: 20px 0;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }

        .code-editor:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 20px var(--glow);
        }

        .editor-header {
            background: var(--card-border);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-title {
            font-size: 0.85em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .run-btn {
            background: linear-gradient(135deg, var(--success), #00a381);
            color: white;
            border: none;
            padding: 6px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 0.8em;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }

        .run-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.3);
        }

        .editor-textarea {
            width: 100%;
            min-height: 120px;
            background: transparent;
            border: none;
            color: var(--light);
            font-family: 'Fira Code', monospace;
            font-size: 0.9em;
            padding: 20px;
            resize: vertical;
            outline: none;
            line-height: 1.8;
            tab-size: 2;
        }

        .output-area {
            border-top: 1px solid var(--card-border);
            padding: 15px 20px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85em;
            min-height: 50px;
            background: rgba(0, 0, 0, 0.3);
        }

        .output-label {
            font-size: 0.75em;
            color: #636e72;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .output-text {
            color: var(--success);
            white-space: pre-wrap;
            word-break: break-word;
        }

        .output-error {
            color: var(--danger);
        }

        /* Visual Diagrams */
        .visual-container {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }

        .visual-title {
            font-size: 0.9em;
            color: var(--primary-light);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .box-diagram {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .var-box {
            border: 2px solid;
            border-radius: 12px;
            padding: 15px 25px;
            min-width: 120px;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .var-box:hover {
            transform: translateY(-5px);
        }

        .var-box.let-box {
            border-color: var(--secondary);
            background: rgba(0, 206, 201, 0.05);
        }

        .var-box.const-box {
            border-color: var(--accent);
            background: rgba(253, 121, 168, 0.05);
        }

        .var-box.var-type-box {
            border-color: var(--warning);
            background: rgba(253, 203, 110, 0.05);
        }

        .var-box .box-label {
            font-size: 0.7em;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--card-bg);
            padding: 0 8px;
            font-weight: 700;
        }

        .var-box .box-name {
            font-family: 'Fira Code', monospace;
            font-size: 0.9em;
            margin-bottom: 5px;
            color: var(--white);
        }

        .var-box .box-value {
            font-family: 'Fira Code', monospace;
            font-size: 1.2em;
            font-weight: 700;
        }

        .var-box .box-feature {
            font-size: 0.7em;
            margin-top: 8px;
            padding: 3px 10px;
            border-radius: 10px;
            display: inline-block;
        }

        /* Scope Visualization */
        .scope-visual {
            border: 2px dashed var(--card-border);
            border-radius: 16px;
            padding: 20px;
            margin: 10px 0;
            position: relative;
        }

        .scope-visual .scope-label {
            position: absolute;
            top: -12px;
            left: 20px;
            background: var(--card-bg);
            padding: 0 10px;
            font-size: 0.8em;
            font-weight: 600;
            color: var(--primary-light);
        }

        .scope-visual.global { border-color: var(--primary); }
        .scope-visual.function-scope { border-color: var(--secondary); margin: 15px; }
        .scope-visual.block-scope { border-color: var(--accent); margin: 15px; }

        .scope-var {
            display: inline-block;
            background: rgba(108, 92, 231, 0.15);
            padding: 5px 12px;
            border-radius: 8px;
            margin: 4px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85em;
        }

        /* Quiz Styles */
        .quiz-container {
            margin: 25px 0;
        }

        .quiz-question {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.1), rgba(253, 121, 168, 0.05));
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 15px;
        }

        .quiz-q-text {
            font-size: 1em;
            font-weight: 600;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .quiz-q-number {
            display: inline-block;
            background: var(--primary);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            font-size: 0.8em;
            font-weight: 700;
            margin-right: 10px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .quiz-option {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--card-border);
            border-radius: 12px;
            padding: 12px 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.9em;
        }

        .quiz-option:hover:not(.disabled) {
            border-color: var(--primary);
            background: rgba(108, 92, 231, 0.1);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(0, 184, 148, 0.15);
        }

        .quiz-option.wrong {
            border-color: var(--danger);
            background: rgba(225, 112, 85, 0.15);
        }

        .quiz-option .option-letter {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            background: var(--card-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.8em;
            flex-shrink: 0;
        }

        .quiz-option.correct .option-letter {
            background: var(--success);
            color: white;
        }

        .quiz-option.wrong .option-letter {
            background: var(--danger);
            color: white;
        }

        .quiz-explanation {
            display: none;
            margin-top: 12px;
            padding: 15px;
            border-radius: 10px;
            font-size: 0.85em;
            line-height: 1.6;
        }

        .quiz-explanation.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .quiz-explanation.correct-exp {
            background: rgba(0, 184, 148, 0.1);
            border: 1px solid rgba(0, 184, 148, 0.3);
            color: var(--success);
        }

        .quiz-explanation.wrong-exp {
            background: rgba(225, 112, 85, 0.1);
            border: 1px solid rgba(225, 112, 85, 0.3);
            color: var(--danger);
        }

        /* Exercise Styles */
        .exercise-container {
            background: linear-gradient(135deg, rgba(0, 206, 201, 0.05), rgba(108, 92, 231, 0.05));
            border: 2px solid var(--secondary);
            border-radius: 16px;
            padding: 30px;
            margin: 25px 0;
        }

        .exercise-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .exercise-icon {
            font-size: 1.5em;
        }

        .exercise-title {
            font-size: 1.1em;
            font-weight: 700;
            color: var(--secondary);
        }

        .exercise-difficulty {
            display: flex;
            gap: 4px;
            margin-left: auto;
        }

        .difficulty-star {
            color: var(--warning);
            font-size: 0.9em;
        }

        .difficulty-star.empty {
            opacity: 0.3;
        }

        .exercise-description {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .exercise-hints {
            margin-top: 10px;
        }

        .hint-toggle {
            background: rgba(253, 203, 110, 0.1);
            border: 1px solid rgba(253, 203, 110, 0.3);
            color: var(--warning);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-size: 0.85em;
            transition: all 0.3s ease;
        }

        .hint-toggle:hover {
            background: rgba(253, 203, 110, 0.2);
        }

        .hint-content {
            display: none;
            margin-top: 10px;
            padding: 12px;
            background: rgba(253, 203, 110, 0.05);
            border-radius: 8px;
            font-size: 0.9em;
            color: var(--warning);
        }

        .hint-content.show {
            display: block;
        }

        .check-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 0.9em;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(108, 92, 231, 0.3);
        }

        .exercise-result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .exercise-result.show {
            display: block;
        }

        .exercise-result.success {
            background: rgba(0, 184, 148, 0.1);
            border: 1px solid rgba(0, 184, 148, 0.3);
            color: var(--success);
        }

        .exercise-result.fail {
            background: rgba(225, 112, 85, 0.1);
            border: 1px solid rgba(225, 112, 85, 0.3);
            color: var(--danger);
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--card-border);
        }

        .comparison-table th {
            background: var(--card-border);
            padding: 12px 16px;
            text-align: left;
            font-size: 0.85em;
            font-weight: 600;
            color: var(--primary-light);
        }

        .comparison-table td {
            padding: 12px 16px;
            border-top: 1px solid var(--card-border);
            font-size: 0.85em;
        }

        .comparison-table tr:hover td {
            background: rgba(108, 92, 231, 0.05);
        }

        .badge-yes {
            background: rgba(0, 184, 148, 0.2);
            color: var(--success);
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .badge-no {
            background: rgba(225, 112, 85, 0.2);
            color: var(--danger);
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .badge-special {
            background: rgba(253, 203, 110, 0.2);
            color: var(--warning);
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: 600;
        }

        /* Data type cards */
        .type-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .type-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 18px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: default;
        }

        .type-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .type-card .type-emoji {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .type-card .type-name {
            font-family: 'Fira Code', monospace;
            font-weight: 600;
            font-size: 0.85em;
            color: var(--secondary);
            margin-bottom: 4px;
        }

        .type-card .type-example {
            font-family: 'Fira Code', monospace;
            font-size: 0.75em;
            color: #636e72;
        }

        /* Operator visual */
        .operator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 15px 0;
        }

        .operator-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }

        .operator-card .op-symbol {
            font-family: 'Fira Code', monospace;
            font-size: 1.5em;
            font-weight: 700;
            color: var(--primary-light);
            margin-bottom: 5px;
        }

        .operator-card .op-name {
            font-size: 0.75em;
            color: #636e72;
            margin-bottom: 8px;
        }

        .operator-card .op-example {
            font-family: 'Fira Code', monospace;
            font-size: 0.8em;
            color: var(--secondary);
        }

        /* Flow chart styles */
        .flow-chart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            margin: 20px 0;
        }

        .flow-node {
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            text-align: center;
            min-width: 150px;
        }

        .flow-start { background: var(--primary); color: white; border-radius: 25px; }
        .flow-decision { background: var(--warning); color: var(--dark); transform: rotate(0deg); clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); padding: 25px 40px; }
        .flow-action { background: rgba(0, 206, 201, 0.2); border: 1px solid var(--secondary); color: var(--secondary); }
        .flow-end { background: var(--danger); color: white; border-radius: 25px; }

        .flow-arrow {
            color: var(--card-border);
            font-size: 1.5em;
        }

        .flow-branches {
            display: flex;
            gap: 40px;
            align-items: flex-start;
        }

        .flow-branch {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .flow-branch-label {
            font-size: 0.8em;
            font-weight: 600;
            padding: 3px 10px;
            border-radius: 6px;
        }

        .flow-yes { background: rgba(0, 184, 148, 0.2); color: var(--success); }
        .flow-no { background: rgba(225, 112, 85, 0.2); color: var(--danger); }

        /* Navigation buttons */
        .lesson-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--card-border);
        }

        .nav-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px var(--glow);
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .nav-btn.secondary {
            background: var(--card-border);
        }

        /* Progress bar for each section */
        .section-progress {
            display: flex;
            gap: 4px;
            margin: 15px 0;
        }

        .progress-dot {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            background: var(--card-border);
            transition: background 0.3s ease;
        }

        .progress-dot.completed {
            background: var(--success);
        }

        .progress-dot.current {
            background: var(--primary);
        }

        /* Achievement popup */
        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--card-bg), var(--darker));
            border: 2px solid var(--warning);
            border-radius: 16px;
            padding: 20px 25px;
            z-index: 1000;
            display: none;
            animation: slideInRight 0.5s ease;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            max-width: 320px;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .achievement-popup .ach-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .achievement-popup .ach-title {
            color: var(--warning);
            font-weight: 700;
            font-size: 0.9em;
        }

        .achievement-popup .ach-desc {
            font-size: 0.8em;
            color: #636e72;
            margin-top: 4px;
        }

        /* Inline code */
        code {
            background: rgba(108, 92, 231, 0.15);
            padding: 2px 8px;
            border-radius: 6px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85em;
            color: var(--primary-light);
        }

        /* Lists */
        .content-list {
            list-style: none;
            margin: 10px 0;
        }

        .content-list li {
            padding: 6px 0;
            padding-left: 24px;
            position: relative;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .content-list li::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }

        /* Interactive type checker */
        .type-checker {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .type-input {
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 8px;
            padding: 10px 15px;
            color: var(--light);
            font-family: 'Fira Code', monospace;
            font-size: 0.9em;
            width: 100%;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .type-input:focus {
            border-color: var(--primary);
        }

        .type-result {
            margin-top: 10px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85em;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.3);
        }

        /* Mobile responsive */
        @media (max-width: 900px) {
            .sidebar {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 280px;
                height: 100vh;
                background: var(--card-bg);
                z-index: 200;
                padding: 20px;
                border-right: 1px solid var(--card-border);
            }

            .sidebar.mobile-open {
                display: block;
            }

            .main-container {
                padding: 10px;
            }

            .lesson-card {
                padding: 20px;
            }

            .lesson-title {
                font-size: 1.4em;
            }

            .xp-bar {
                width: 120px;
            }

            .mobile-menu-btn {
                display: flex !important;
            }

            .box-diagram {
                flex-direction: column;
                align-items: center;
            }

            .flow-branches {
                flex-direction: column;
                gap: 15px;
            }
        }

        .mobile-menu-btn {
            display: none;
            background: var(--card-border);
            border: none;
            color: var(--light);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 199;
        }

        .overlay.active {
            display: block;
        }

        /* Animated typing indicator */
        .typing-indicator {
            display: inline-flex;
            gap: 4px;
            padding: 5px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--primary-light);
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-8px); }
        }

        /* Smooth scrollbar */
        .content {
            scrollbar-width: thin;
            scrollbar-color: var(--card-border) transparent;
        }

        p {
            line-height: 1.7;
            margin: 10px 0;
            font-size: 0.95em;
        }

        h3 {
            margin: 20px 0 10px;
        }

        .text-highlight {
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.2), rgba(0, 206, 201, 0.1));
            padding: 1px 6px;
            border-radius: 4px;
        }

        /* Confetti canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <canvas id="confetti-canvas"></canvas>

    <!-- Background Animation -->
    <div class="bg-animation" id="bgAnimation"></div>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <div class="ach-icon">üèÜ</div>
        <div class="ach-title" id="achTitle">Achievement Unlocked!</div>
        <div class="ach-desc" id="achDesc">You completed your first lesson!</div>
    </div>

    <!-- Overlay for mobile -->
    <div class="overlay" id="overlay"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
            <div class="logo">‚ö° JS Basics Academy</div>
            <div class="xp-bar-container">
                <div class="streak-counter">
                    üî• <span id="streakCount">0</span>
                </div>
                <div class="level-badge">Level <span id="levelNum">1</span></div>
                <div class="xp-bar">
                    <div class="xp-fill" id="xpFill" style="width: 0%"></div>
                </div>
                <span style="font-size: 0.75em; color: #636e72;"><span id="xpText">0</span>/100 XP</span>
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">üì¶ Variables & Scope</div>
                <div class="nav-item active" data-lesson="welcome" onclick="navigateTo('welcome')">
                    <div class="nav-icon">üëã</div>
                    <div class="nav-text">Welcome!</div>
                </div>
                <div class="nav-item" data-lesson="variables-intro" onclick="navigateTo('variables-intro')">
                    <div class="nav-icon">üì¶</div>
                    <div class="nav-text">What are Variables?</div>
                </div>
                <div class="nav-item" data-lesson="let-const-var" onclick="navigateTo('let-const-var')">
                    <div class="nav-icon">üè∑Ô∏è</div>
                    <div class="nav-text">let, const, var</div>
                </div>
                <div class="nav-item" data-lesson="scope" onclick="navigateTo('scope')">
                    <div class="nav-icon">üî≠</div>
                    <div class="nav-text">Scope Explained</div>
                </div>
                <div class="nav-item" data-lesson="variables-quiz" onclick="navigateTo('variables-quiz')">
                    <div class="nav-icon">‚ùì</div>
                    <div class="nav-text">Variables Quiz</div>
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">üé® Data Types</div>
                <div class="nav-item" data-lesson="data-types" onclick="navigateTo('data-types')">
                    <div class="nav-icon">üß±</div>
                    <div class="nav-text">Data Types</div>
                </div>
                <div class="nav-item" data-lesson="type-conversion" onclick="navigateTo('type-conversion')">
                    <div class="nav-icon">üîÑ</div>
                    <div class="nav-text">Type Conversion</div>
                </div>
                <div class="nav-item" data-lesson="types-quiz" onclick="navigateTo('types-quiz')">
                    <div class="nav-icon">‚ùì</div>
                    <div class="nav-text">Data Types Quiz</div>
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">‚öôÔ∏è Operators</div>
                <div class="nav-item" data-lesson="arithmetic" onclick="navigateTo('arithmetic')">
                    <div class="nav-icon">‚ûï</div>
                    <div class="nav-text">Arithmetic Operators</div>
                </div>
                <div class="nav-item" data-lesson="comparison" onclick="navigateTo('comparison')">
                    <div class="nav-icon">‚öñÔ∏è</div>
                    <div class="nav-text">Comparison Operators</div>
                </div>
                <div class="nav-item" data-lesson="logical" onclick="navigateTo('logical')">
                    <div class="nav-icon">üß†</div>
                    <div class="nav-text">Logical Operators</div>
                </div>
                <div class="nav-item" data-lesson="operators-quiz" onclick="navigateTo('operators-quiz')">
                    <div class="nav-icon">‚ùì</div>
                    <div class="nav-text">Operators Quiz</div>
                </div>
            </div>
            <div class="nav-section">
                <div class="nav-section-title">üîÄ Control Flow</div>
                <div class="nav-item" data-lesson="if-else" onclick="navigateTo('if-else')">
                    <div class="nav-icon">üö¶</div>
                    <div class="nav-text">If/Else Statements</div>
                </div>
                <div class="nav-item" data-lesson="switch" onclick="navigateTo('switch')">
                    <div class="nav-icon">üîÄ</div>
                    <div class="nav-text">Switch Statements</div>
                </div>
                <div class="nav-item" data-lesson="control-exercise" onclick="navigateTo('control-exercise')">
                    <div class="nav-icon">üí™</div>
                    <div class="nav-text">Control Flow Challenge</div>
                </div>
                <div class="nav-item" data-lesson="final-quiz" onclick="navigateTo('final-quiz')">
                    <div class="nav-icon">üèÜ</div>
                    <div class="nav-text">Final Boss Quiz</div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content" id="contentArea">

            <!-- WELCOME -->
            <div class="lesson-card active" id="lesson-welcome">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Getting Started</span>
                    <h1 class="lesson-title">Welcome to JavaScript Basics Academy! üöÄ</h1>
                    <p class="lesson-subtitle">Your journey to becoming a JavaScript developer starts here</p>
                </div>

                <div class="analogy-box">
                    <h3>üéÆ Think of This Like a Video Game</h3>
                    <p>You're about to embark on an epic quest to master JavaScript basics. Each lesson is a new level. Complete quizzes and exercises to earn <strong>XP (experience points)</strong> and level up!</p>
                    <ul class="content-list">
                        <li>üìñ <strong>Lessons</strong> teach you new concepts with fun analogies</li>
                        <li>üíª <strong>Code Editors</strong> let you practice right here in the browser</li>
                        <li>‚ùì <strong>Quizzes</strong> test your understanding</li>
                        <li>üí™ <strong>Exercises</strong> challenge you to write real code</li>
                        <li>‚ö†Ô∏è <strong>Pitfall Warnings</strong> help you avoid common mistakes</li>
                    </ul>
                </div>

                <div class="concept-box">
                    <h3>üìã What You'll Learn</h3>
                    <p>By the end of this course, you'll understand:</p>
                    <ul class="content-list">
                        <li><strong>Variables & Scope</strong> ‚Äî How to store and manage data</li>
                        <li><strong>Data Types</strong> ‚Äî The different kinds of information JS can handle</li>
                        <li><strong>Operators</strong> ‚Äî How to do math, compare things, and make decisions</li>
                        <li><strong>Control Flow</strong> ‚Äî How to make your code make choices with if/else and switch</li>
                    </ul>
                </div>

                <div class="tip-box">
                    <h3>üí° Pro Tip: Use the Code Editors!</h3>
                    <p>Throughout this course, you'll find interactive code editors. <strong>Don't just read the examples ‚Äî type them out, change them, break them!</strong> That's how you truly learn. Click the ‚ñ∂ Run button to see what happens.</p>
                </div>

                <p>Ready? Let's start with the building blocks of every JavaScript program ‚Äî <strong>variables!</strong></p>

                <div class="lesson-nav">
                    <div></div>
                    <button class="nav-btn" onclick="navigateTo('variables-intro')">Let's Go! ‚Üí</button>
                </div>
            </div>

            <!-- VARIABLES INTRO -->
            <div class="lesson-card" id="lesson-variables-intro">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üì¶ What Are Variables?</h1>
                    <p class="lesson-subtitle">The labeled boxes where JavaScript stores stuff</p>
                </div>

                <div class="analogy-box">
                    <h3>üéí The Backpack Analogy</h3>
                    <p>Imagine you have a <strong>backpack with labeled pockets</strong>. Each pocket has a name written on it, and you can put stuff inside.</p>
                    <p>A variable is exactly like that ‚Äî it's a <strong>named container</strong> that holds a value.</p>
                    <ul class="content-list">
                        <li>The <strong>pocket label</strong> = the variable <strong>name</strong></li>
                        <li>The <strong>stuff inside</strong> = the variable's <strong>value</strong></li>
                        <li>You can <strong>peek inside</strong> (read it) or <strong>swap the stuff</strong> (change it)</li>
                    </ul>
                </div>

                <div class="visual-container">
                    <div class="visual-title">üìä Variables are Named Containers</div>
                    <div class="box-diagram">
                        <div class="var-box let-box">
                            <span class="box-label" style="color: var(--secondary);">VARIABLE</span>
                            <div class="box-name">playerName</div>
                            <div class="box-value" style="color: var(--secondary);">"Alex"</div>
                        </div>
                        <div class="var-box const-box">
                            <span class="box-label" style="color: var(--accent);">VARIABLE</span>
                            <div class="box-name">score</div>
                            <div class="box-value" style="color: var(--accent);">42</div>
                        </div>
                        <div class="var-box var-type-box">
                            <span class="box-label" style="color: var(--warning);">VARIABLE</span>
                            <div class="box-name">isAlive</div>
                            <div class="box-value" style="color: var(--warning);">true</div>
                        </div>
                    </div>
                </div>

                <div class="concept-box">
                    <h3>üìù Creating Variables (Declaration)</h3>
                    <p>To create a variable, you use one of three keywords: <code>let</code>, <code>const</code>, or <code>var</code>.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots">
                            <div class="code-dot"></div>
                            <div class="code-dot"></div>
                            <div class="code-dot"></div>
                        </div>
                        <span>example.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// Creating variables ‚Äî think of it as labeling your backpack pockets</span>

<span class="keyword">let</span> <span class="variable">playerName</span> <span class="operator">=</span> <span class="string">"Alex"</span>;       <span class="comment">// A pocket labeled "playerName" containing "Alex"</span>
<span class="keyword">let</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">0</span>;                <span class="comment">// A pocket labeled "score" containing 0</span>
<span class="keyword">const</span> <span class="variable">maxLives</span> <span class="operator">=</span> <span class="number">3</span>;            <span class="comment">// A LOCKED pocket ‚Äî can't change this!</span>

<span class="comment">// Reading variables ‚Äî peeking inside the pocket</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">playerName</span>);       <span class="comment">// <span class="output">‚Üí "Alex"</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">score</span>);             <span class="comment">// <span class="output">‚Üí 0</span></span>

<span class="comment">// Changing variables ‚Äî swapping what's inside</span>
<span class="variable">score</span> <span class="operator">=</span> <span class="number">10</span>;                    <span class="comment">// Now the "score" pocket contains 10</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">score</span>);             <span class="comment">// <span class="output">‚Üí 10</span></span></div>
                </div>

                <h3>üß™ Try It Yourself!</h3>
                <p>Create some variables and see what happens. Try changing their values!</p>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Playground</div>
                        <button class="run-btn" onclick="runCode('editor1')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor1">// Create your own variables!
let myName = "Your Name Here";
let myAge = 10;
let myFavoriteColor = "blue";

// Display them
console.log("Hi! I'm " + myName);
console.log("I'm " + myAge + " years old");
console.log("My favorite color is " + myFavoriteColor);

// Now try changing a value:
myAge = 11;
console.log("Next year I'll be " + myAge);</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor1">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="concept-box">
                    <h3>üìê Variable Naming Rules</h3>
                    <ul class="content-list">
                        <li>‚úÖ Can contain letters, numbers, <code>_</code> (underscore), and <code>$</code> (dollar sign)</li>
                        <li>‚úÖ Must START with a letter, <code>_</code>, or <code>$</code> (never a number!)</li>
                        <li>‚úÖ Are case-sensitive: <code>myName</code> and <code>myname</code> are DIFFERENT</li>
                        <li>‚ùå Cannot use reserved words like <code>let</code>, <code>if</code>, <code>return</code></li>
                        <li>üèÜ Best practice: Use <strong>camelCase</strong> like <code>myFavoriteColor</code></li>
                    </ul>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>naming-examples.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// ‚úÖ GOOD variable names</span>
<span class="keyword">let</span> <span class="variable">userName</span> <span class="operator">=</span> <span class="string">"Alex"</span>;
<span class="keyword">let</span> <span class="variable">player1Score</span> <span class="operator">=</span> <span class="number">100</span>;
<span class="keyword">let</span> <span class="variable">_privateVar</span> <span class="operator">=</span> <span class="string">"secret"</span>;
<span class="keyword">let</span> <span class="variable">$price</span> <span class="operator">=</span> <span class="number">9.99</span>;
<span class="keyword">let</span> <span class="variable">myFavoriteIceCreamFlavor</span> <span class="operator">=</span> <span class="string">"chocolate"</span>;

<span class="comment">// ‚ùå BAD variable names (these will cause errors!)</span>
<span class="comment">// let 1stPlace = "Gold";    ‚Üê starts with a number</span>
<span class="comment">// let my-name = "Alex";    ‚Üê hyphens not allowed</span>
<span class="comment">// let let = "value";       ‚Üê "let" is a reserved word</span></div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('welcome')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('let-const-var')">Next: let, const, var ‚Üí</button>
                </div>
            </div>

            <!-- LET, CONST, VAR -->
            <div class="lesson-card" id="lesson-let-const-var">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üè∑Ô∏è let, const, and var</h1>
                    <p class="lesson-subtitle">Three ways to declare variables ‚Äî but which should you use?</p>
                </div>

                <div class="analogy-box">
                    <h3>üè† The Three Types of Storage</h3>
                    <p>Think of three different kinds of storage containers:</p>
                    <ul class="content-list">
                        <li><strong><code>let</code></strong> = A regular <strong>box</strong> üì¶ ‚Äî You can open it and swap what's inside anytime</li>
                        <li><strong><code>const</code></strong> = A <strong>locked safe</strong> üîí ‚Äî Once you put something in, you can NEVER change it</li>
                        <li><strong><code>var</code></strong> = An old <strong>leaky box</strong> üì§ ‚Äî It works but has weird behaviors. Avoid it!</li>
                    </ul>
                </div>

                <div class="visual-container">
                    <div class="visual-title">üìä Visual Comparison</div>
                    <div class="box-diagram">
                        <div class="var-box let-box">
                            <span class="box-label" style="color: var(--secondary);">LET</span>
                            <div class="box-name">üì¶ Regular Box</div>
                            <div class="box-value" style="color: var(--secondary);">Can change ‚úÖ</div>
                            <div class="box-feature" style="background: rgba(0,206,201,0.1); color: var(--secondary);">Block-scoped</div>
                        </div>
                        <div class="var-box const-box">
                            <span class="box-label" style="color: var(--accent);">CONST</span>
                            <div class="box-name">üîí Locked Safe</div>
                            <div class="box-value" style="color: var(--accent);">Cannot change ‚ùå</div>
                            <div class="box-feature" style="background: rgba(253,121,168,0.1); color: var(--accent);">Block-scoped</div>
                        </div>
                        <div class="var-box var-type-box">
                            <span class="box-label" style="color: var(--warning);">VAR</span>
                            <div class="box-name">üì§ Leaky Box</div>
                            <div class="box-value" style="color: var(--warning);">Can change ‚úÖ</div>
                            <div class="box-feature" style="background: rgba(253,203,110,0.1); color: var(--warning);">Function-scoped</div>
                        </div>
                    </div>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th><code>let</code></th>
                            <th><code>const</code></th>
                            <th><code>var</code></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Can reassign?</td>
                            <td><span class="badge-yes">‚úÖ Yes</span></td>
                            <td><span class="badge-no">‚ùå No</span></td>
                            <td><span class="badge-yes">‚úÖ Yes</span></td>
                        </tr>
                        <tr>
                            <td>Can redeclare?</td>
                            <td><span class="badge-no">‚ùå No</span></td>
                            <td><span class="badge-no">‚ùå No</span></td>
                            <td><span class="badge-yes">‚úÖ Yes</span></td>
                        </tr>
                        <tr>
                            <td>Scope</td>
                            <td><span class="badge-yes">Block</span></td>
                            <td><span class="badge-yes">Block</span></td>
                            <td><span class="badge-special">Function</span></td>
                        </tr>
                        <tr>
                            <td>Hoisted?</td>
                            <td><span class="badge-special">Yes*</span></td>
                            <td><span class="badge-special">Yes*</span></td>
                            <td><span class="badge-yes">Yes</span></td>
                        </tr>
                        <tr>
                            <td>Recommended?</td>
                            <td><span class="badge-yes">‚úÖ Yes!</span></td>
                            <td><span class="badge-yes">‚úÖ Yes! (default)</span></td>
                            <td><span class="badge-no">‚ùå Avoid</span></td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>let-vs-const.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// ‚úÖ let ‚Äî use when the value will CHANGE</span>
<span class="keyword">let</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">0</span>;
<span class="variable">score</span> <span class="operator">=</span> <span class="number">10</span>;        <span class="comment">// ‚úÖ This works! We changed it from 0 to 10</span>
<span class="variable">score</span> <span class="operator">=</span> <span class="number">25</span>;        <span class="comment">// ‚úÖ Changed again! No problem.</span>

<span class="comment">// ‚úÖ const ‚Äî use when the value should NEVER change</span>
<span class="keyword">const</span> <span class="variable">PI</span> <span class="operator">=</span> <span class="number">3.14159</span>;
<span class="keyword">const</span> <span class="variable">MAX_PLAYERS</span> <span class="operator">=</span> <span class="number">4</span>;
<span class="comment">// PI = 3.14;       ‚ùå ERROR! Can't reassign a const!</span>

<span class="comment">// üö´ var ‚Äî the old way (don't use this in modern code)</span>
<span class="keyword">var</span> <span class="variable">oldWay</span> <span class="operator">=</span> <span class="string">"I'm outdated"</span>;
<span class="keyword">var</span> <span class="variable">oldWay</span> <span class="operator">=</span> <span class="string">"I can be redeclared"</span>;  <span class="comment">// ‚úÖ var allows this (confusing!)</span>
<span class="comment">// let oldWay = "nope";  ‚ùå let would NOT allow redeclaring!</span></div>
                </div>

                <div class="tip-box">
                    <h3>üí° Golden Rule</h3>
                    <p><strong>Start with <code>const</code> for everything.</strong> Only switch to <code>let</code> if you realize you need to change the value later. Never use <code>var</code>.</p>
                    <p>Think of it like this: <strong>"Lock everything by default, only unlock what needs to change."</strong></p>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è Pitfall: const with Objects & Arrays</h3>
                    <p><code>const</code> prevents you from <strong>reassigning</strong> the variable, but it does NOT make the <strong>contents</strong> unchangeable! Think of it like: you can't replace the safe, but you can rearrange stuff inside it.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>const-gotcha.js</span>
                    </div>
                    <div class="code-content"><span class="keyword">const</span> <span class="variable">colors</span> <span class="operator">=</span> [<span class="string">"red"</span>, <span class="string">"blue"</span>];
<span class="variable">colors</span>.<span class="function">push</span>(<span class="string">"green"</span>);    <span class="comment">// ‚úÖ This works! We modified the CONTENTS</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">colors</span>);       <span class="comment">// <span class="output">‚Üí ["red", "blue", "green"]</span></span>

<span class="comment">// colors = ["yellow"];   ‚ùå ERROR! Can't REPLACE the whole array</span>

<span class="keyword">const</span> <span class="variable">user</span> <span class="operator">=</span> { <span class="variable">name</span>: <span class="string">"Alex"</span> };
<span class="variable">user</span>.<span class="variable">name</span> <span class="operator">=</span> <span class="string">"Sam"</span>;       <span class="comment">// ‚úÖ This works! Modified a property</span>
<span class="comment">// user = { name: "New" };  ‚ùå ERROR! Can't replace the object</span></div>
                </div>

                <h3>üß™ Try It!</h3>
                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Experiment with let, const, var</div>
                        <button class="run-btn" onclick="runCode('editor2')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor2">// Experiment 1: Try changing a const
const myBirthday = "January 1st";
console.log("Birthday:", myBirthday);

// Uncomment the line below to see the error:
// myBirthday = "February 2nd";

// Experiment 2: let allows changes
let mood = "happy";
console.log("Before:", mood);
mood = "excited";
console.log("After:", mood);

// Experiment 3: const with arrays
const fruits = ["apple", "banana"];
fruits.push("cherry");
console.log("Fruits:", fruits);</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor2">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('variables-intro')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('scope')">Next: Scope ‚Üí</button>
                </div>
            </div>

            <!-- SCOPE -->
            <div class="lesson-card" id="lesson-scope">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üî≠ Scope Explained</h1>
                    <p class="lesson-subtitle">Where your variables can be seen and used</p>
                </div>

                <div class="analogy-box">
                    <h3>üè´ The Classroom Analogy</h3>
                    <p>Imagine your school:</p>
                    <ul class="content-list">
                        <li><strong>Global scope</strong> = The school's PA system üì¢ ‚Äî Everyone in every room can hear it</li>
                        <li><strong>Function scope</strong> = Your classroom üè´ ‚Äî Only students IN that room can hear the teacher</li>
                        <li><strong>Block scope</strong> = A whisper to your desk neighbor ü§´ ‚Äî Only the people at your table hear it</li>
                    </ul>
                </div>

                <div class="visual-container">
                    <div class="visual-title">üìä Scope Visualization</div>
                    <div class="scope-visual global">
                        <span class="scope-label">üåç Global Scope</span>
                        <div class="scope-var">const appName = "MyApp"</div>
                        <div class="scope-var">let userCount = 0</div>
                        <div class="scope-visual function-scope">
                            <span class="scope-label">üì¶ Function Scope</span>
                            <div class="scope-var">let message = "Hello"</div>
                            <div class="scope-var">‚úÖ Can see appName</div>
                            <div class="scope-visual block-scope">
                                <span class="scope-label">üî≤ Block Scope (if/for)</span>
                                <div class="scope-var">let temp = 42</div>
                                <div class="scope-var">‚úÖ Can see message</div>
                                <div class="scope-var">‚úÖ Can see appName</div>
                            </div>
                            <div class="scope-var">‚ùå Cannot see temp</div>
                        </div>
                        <div class="scope-var">‚ùå Cannot see message</div>
                        <div class="scope-var">‚ùå Cannot see temp</div>
                    </div>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>scope-demo.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// üåç GLOBAL SCOPE ‚Äî accessible everywhere</span>
<span class="keyword">let</span> <span class="variable">globalVar</span> <span class="operator">=</span> <span class="string">"I'm global! Everyone sees me!"</span>;

<span class="keyword">function</span> <span class="function">myFunction</span>() {
  <span class="comment">// üì¶ FUNCTION SCOPE ‚Äî only accessible inside this function</span>
  <span class="keyword">let</span> <span class="variable">functionVar</span> <span class="operator">=</span> <span class="string">"I'm only in this function"</span>;
  
  <span class="console">console</span>.<span class="function">log</span>(<span class="variable">globalVar</span>);    <span class="comment">// <span class="output">‚úÖ Works! Can see global</span></span>
  <span class="console">console</span>.<span class="function">log</span>(<span class="variable">functionVar</span>);  <span class="comment">// <span class="output">‚úÖ Works! We're inside the function</span></span>
  
  <span class="keyword">if</span> (<span class="keyword">true</span>) {
    <span class="comment">// üî≤ BLOCK SCOPE ‚Äî only accessible inside these { curly braces }</span>
    <span class="keyword">let</span> <span class="variable">blockVar</span> <span class="operator">=</span> <span class="string">"I'm only in this block"</span>;
    <span class="console">console</span>.<span class="function">log</span>(<span class="variable">blockVar</span>);    <span class="comment">// <span class="output">‚úÖ Works!</span></span>
    <span class="console">console</span>.<span class="function">log</span>(<span class="variable">functionVar</span>);  <span class="comment">// <span class="output">‚úÖ Can see parent scopes</span></span>
  }
  
  <span class="comment">// console.log(blockVar);  ‚ùå ERROR! blockVar doesn't exist here!</span>
}

<span class="function">myFunction</span>();
<span class="comment">// console.log(functionVar);  ‚ùå ERROR! functionVar doesn't exist here!</span></div>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è Pitfall: var Ignores Block Scope!</h3>
                    <p>This is one of the biggest reasons to avoid <code>var</code>. It "leaks" out of blocks like <code>if</code> and <code>for</code>!</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>var-leak.js</span>
                    </div>
                    <div class="code-content"><span class="keyword">if</span> (<span class="keyword">true</span>) {
  <span class="keyword">var</span> <span class="variable">leaky</span> <span class="operator">=</span> <span class="string">"I escaped the block!"</span>;  <span class="comment">// var ignores the block</span>
  <span class="keyword">let</span> <span class="variable">contained</span> <span class="operator">=</span> <span class="string">"I stay inside"</span>;      <span class="comment">// let respects the block</span>
}

<span class="console">console</span>.<span class="function">log</span>(<span class="variable">leaky</span>);       <span class="comment">// <span class="output">‚Üí "I escaped the block!"</span> üò±</span>
<span class="comment">// console.log(contained);  ‚ùå ReferenceError ‚Äî let stays in its block ‚úÖ</span></div>
                </div>

                <h3>üß™ Scope Explorer</h3>
                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Explore Scope</div>
                        <button class="run-btn" onclick="runCode('editor3')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor3">let outside = "üåç I'm global";

function greet() {
  let inside = "üì¶ I'm in the function";
  console.log(outside);  // Can I see the global?
  console.log(inside);   // Can I see my own variable?
  
  if (true) {
    let secret = "ü§´ I'm a secret block variable";
    console.log(secret);   // Can I see block variable?
    console.log(inside);   // Can I see function variable?
  }
  
  // Try uncommenting this:
  // console.log(secret);  // Can function see block variable?
}

greet();
// Try uncommenting this:
// console.log(inside);  // Can global see function variable?</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor3">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('let-const-var')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('variables-quiz')">Next: Variables Quiz ‚Üí</button>
                </div>
            </div>

            <!-- VARIABLES QUIZ -->
            <div class="lesson-card" id="lesson-variables-quiz">
                <div class="lesson-header">
                    <span class="lesson-tag tag-quiz">Quiz</span>
                    <h1 class="lesson-title">‚ùì Variables & Scope Quiz</h1>
                    <p class="lesson-subtitle">Test what you've learned! Each correct answer = 10 XP</p>
                </div>

                <div class="quiz-container" id="quiz-variables">
                    <div class="quiz-question" data-quiz="vq1">
                        <div class="quiz-q-text"><span class="quiz-q-number">1</span> What keyword should you use for a value that will NEVER change?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq1')">
                                <span class="option-letter">A</span> <code>let</code>
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'vq1')">
                                <span class="option-letter">B</span> <code>const</code>
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq1')">
                                <span class="option-letter">C</span> <code>var</code>
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq1')">
                                <span class="option-letter">D</span> <code>fixed</code>
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-vq1">
                            <strong>const</strong> is for constants ‚Äî values that should never be reassigned. It's like a locked safe! Always start with const and only switch to let if needed.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="vq2">
                        <div class="quiz-q-text"><span class="quiz-q-number">2</span> What happens when you run: <code>const name = "Alex"; name = "Sam";</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq2')">
                                <span class="option-letter">A</span> name becomes "Sam"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'vq2')">
                                <span class="option-letter">B</span> You get a TypeError
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq2')">
                                <span class="option-letter">C</span> name stays "Alex" silently
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq2')">
                                <span class="option-letter">D</span> name becomes undefined
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-vq2">
                            You get a <strong>TypeError: Assignment to constant variable</strong>. That's the whole point of const ‚Äî it prevents you from accidentally changing values that shouldn't change!
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="vq3">
                        <div class="quiz-q-text"><span class="quiz-q-number">3</span> Which variable name is INVALID?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq3')">
                                <span class="option-letter">A</span> <code>myVar_1</code>
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq3')">
                                <span class="option-letter">B</span> <code>$price</code>
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'vq3')">
                                <span class="option-letter">C</span> <code>2fast</code>
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq3')">
                                <span class="option-letter">D</span> <code>_hidden</code>
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-vq3">
                            <strong>2fast</strong> is invalid because variable names cannot START with a number! They must begin with a letter, underscore (_), or dollar sign ($).
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="vq4">
                        <div class="quiz-q-text"><span class="quiz-q-number">4</span> What is the scope of a <code>let</code> variable declared inside an <code>if</code> block?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq4')">
                                <span class="option-letter">A</span> Global ‚Äî accessible everywhere
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq4')">
                                <span class="option-letter">B</span> Function ‚Äî accessible in the entire function
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'vq4')">
                                <span class="option-letter">C</span> Block ‚Äî only inside the if block's { }
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq4')">
                                <span class="option-letter">D</span> Module ‚Äî accessible in the file
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-vq4">
                            <strong>let</strong> is block-scoped! It only exists within the nearest pair of curly braces { }. Once you leave that block, the variable is gone. This is much safer than var, which would leak out!
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="vq5">
                        <div class="quiz-q-text"><span class="quiz-q-number">5</span> Why should you avoid using <code>var</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq5')">
                                <span class="option-letter">A</span> It's slower than let/const
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'vq5')">
                                <span class="option-letter">B</span> It ignores block scope and can be redeclared, causing bugs
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq5')">
                                <span class="option-letter">C</span> It doesn't work in modern browsers
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'vq5')">
                                <span class="option-letter">D</span> It can only store strings
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-vq5">
                            <strong>var</strong> ignores block scope (it "leaks" out of if/for blocks), allows redeclaration (which can accidentally overwrite values), and has hoisting behavior that can cause confusing bugs. Use let and const instead!
                        </div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('scope')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('data-types')">Next: Data Types ‚Üí</button>
                </div>
            </div>

            <!-- DATA TYPES -->
            <div class="lesson-card" id="lesson-data-types">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üß± Data Types</h1>
                    <p class="lesson-subtitle">The different kinds of "stuff" JavaScript can store</p>
                </div>

                <div class="analogy-box">
                    <h3>üß∞ The Toolbox Analogy</h3>
                    <p>Imagine your toolbox has different compartments for different tools. You wouldn't put a hammer where the screws go! Similarly, JavaScript has different <strong>types</strong> of data, and each type has its own rules.</p>
                </div>

                <h3>JavaScript has 7 Primitive Types + Objects:</h3>

                <div class="type-cards">
                    <div class="type-card">
                        <div class="type-emoji">üìù</div>
                        <div class="type-name">String</div>
                        <div class="type-example">"Hello World"</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">üî¢</div>
                        <div class="type-name">Number</div>
                        <div class="type-example">42, 3.14</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">‚úÖ</div>
                        <div class="type-name">Boolean</div>
                        <div class="type-example">true / false</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">‚ùì</div>
                        <div class="type-name">Undefined</div>
                        <div class="type-example">undefined</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">üö´</div>
                        <div class="type-name">Null</div>
                        <div class="type-example">null</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">üî£</div>
                        <div class="type-name">Symbol</div>
                        <div class="type-example">Symbol("id")</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">üîü</div>
                        <div class="type-name">BigInt</div>
                        <div class="type-example">9007199254740991n</div>
                    </div>
                    <div class="type-card">
                        <div class="type-emoji">üì¶</div>
                        <div class="type-name">Object</div>
                        <div class="type-example">{name: "Alex"}</div>
                    </div>
                </div>

                <div class="concept-box">
                    <h3>üìù Strings ‚Äî Text Data</h3>
                    <p>Strings are <strong>text</strong> wrapped in quotes. You can use single quotes <code>'hello'</code>, double quotes <code>"hello"</code>, or backticks <code>`hello`</code>.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>strings.js</span>
                    </div>
                    <div class="code-content"><span class="keyword">let</span> <span class="variable">single</span> <span class="operator">=</span> <span class="string">'Hello'</span>;              <span class="comment">// Single quotes</span>
<span class="keyword">let</span> <span class="variable">double</span> <span class="operator">=</span> <span class="string">"World"</span>;              <span class="comment">// Double quotes</span>
<span class="keyword">let</span> <span class="variable">template</span> <span class="operator">=</span> <span class="string">`Hello, ${single}!`</span>; <span class="comment">// Template literals (backticks) ‚Äî SUPER useful!</span>

<span class="console">console</span>.<span class="function">log</span>(<span class="variable">template</span>);   <span class="comment">// <span class="output">‚Üí "Hello, Hello!"</span></span>

<span class="comment">// Template literals let you embed expressions with ${...}</span>
<span class="keyword">let</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"Alex"</span>;
<span class="keyword">let</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">25</span>;
<span class="console">console</span>.<span class="function">log</span>(<span class="string">`My name is ${name} and I'm ${age} years old`</span>);
<span class="comment">// <span class="output">‚Üí "My name is Alex and I'm 25 years old"</span></span>

<span class="comment">// String length</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="string">"JavaScript"</span>.<span class="variable">length</span>);  <span class="comment">// <span class="output">‚Üí 10</span></span></div>
                </div>

                <div class="concept-box">
                    <h3>üî¢ Numbers ‚Äî All Numbers Are the Same Type</h3>
                    <p>Unlike many languages, JavaScript has just ONE number type. Integers, decimals, negatives ‚Äî all <code>number</code>!</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>numbers.js</span>
                    </div>
                    <div class="code-content"><span class="keyword">let</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="number">42</span>;           <span class="comment">// Whole number</span>
<span class="keyword">let</span> <span class="variable">decimal</span> <span class="operator">=</span> <span class="number">3.14</span>;          <span class="comment">// Decimal (float)</span>
<span class="keyword">let</span> <span class="variable">negative</span> <span class="operator">=</span> <span class="number">-10</span>;          <span class="comment">// Negative</span>
<span class="keyword">let</span> <span class="variable">infinity</span> <span class="operator">=</span> <span class="number">Infinity</span>;     <span class="comment">// Special value</span>
<span class="keyword">let</span> <span class="variable">notANum</span> <span class="operator">=</span> <span class="number">NaN</span>;           <span class="comment">// "Not a Number" ‚Äî a weird special value</span>

<span class="console">console</span>.<span class="function">log</span>(<span class="keyword">typeof</span> <span class="number">42</span>);        <span class="comment">// <span class="output">‚Üí "number"</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="keyword">typeof</span> <span class="number">3.14</span>);      <span class="comment">// <span class="output">‚Üí "number"</span> (same type!)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="keyword">typeof</span> <span class="number">NaN</span>);       <span class="comment">// <span class="output">‚Üí "number"</span> (yes, really! üòÖ)</span></div>
                </div>

                <div class="concept-box">
                    <h3>‚úÖ Booleans ‚Äî True or False</h3>
                    <p>Booleans are like light switches ‚Äî they can only be <code>true</code> or <code>false</code>. They're the foundation of all decision-making in code!</p>
                </div>

                <div class="concept-box">
                    <h3>‚ùì Undefined vs Null</h3>
                    <ul class="content-list">
                        <li><code>undefined</code> = "This variable exists but no one put anything in it yet" (like an empty pocket)</li>
                        <li><code>null</code> = "I deliberately put NOTHING in here" (like intentionally emptying a pocket)</li>
                    </ul>
                </div>

                <h3>üïµÔ∏è Interactive Type Checker</h3>
                <p>Type any JavaScript value below and discover its type!</p>
                <div class="type-checker">
                    <input type="text" class="type-input" id="typeCheckerInput" placeholder='Try typing: 42, "hello", true, null, undefined, [1,2], {a:1}' oninput="checkType()">
                    <div class="type-result" id="typeCheckerResult">
                        Type something above to see its type...
                    </div>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è Pitfall: typeof null === "object"</h3>
                    <p>This is a famous bug in JavaScript that's been there since 1995! <code>typeof null</code> returns <code>"object"</code> instead of <code>"null"</code>. It's never been fixed because it would break too many websites. Just remember: <strong>null is NOT an object</strong>, despite what typeof says!</p>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Explore Types with typeof</div>
                        <button class="run-btn" onclick="runCode('editor4')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor4">// typeof tells you what type a value is
console.log(typeof "hello");     // string
console.log(typeof 42);          // number
console.log(typeof true);        // boolean
console.log(typeof undefined);   // undefined
console.log(typeof null);        // object üêõ (famous bug!)
console.log(typeof {});          // object
console.log(typeof []);          // object (arrays ARE objects!)
console.log(typeof function(){}); // function

// Check if something is an array properly:
console.log(Array.isArray([1,2,3])); // true
console.log(Array.isArray("hello")); // false</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor4">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('variables-quiz')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('type-conversion')">Next: Type Conversion ‚Üí</button>
                </div>
            </div>

            <!-- TYPE CONVERSION -->
            <div class="lesson-card" id="lesson-type-conversion">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üîÑ Type Conversion</h1>
                    <p class="lesson-subtitle">Turning one type into another ‚Äî and the traps along the way</p>
                </div>

                <div class="analogy-box">
                    <h3>üé≠ The Shape-Shifter Analogy</h3>
                    <p>Imagine you have a magic wand that can turn things into other things. A number <code>42</code> can become the text <code>"42"</code>. The text <code>"100"</code> can become the number <code>100</code>. But be careful ‚Äî sometimes the magic goes wrong!</p>
                </div>

                <div class="concept-box">
                    <h3>üéØ Explicit Conversion (You Do It On Purpose)</h3>
                    <p>When YOU deliberately convert a type using special functions:</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>explicit-conversion.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// üìù To String</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">String</span>(<span class="number">42</span>));        <span class="comment">// <span class="output">‚Üí "42"</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">String</span>(<span class="keyword">true</span>));      <span class="comment">// <span class="output">‚Üí "true"</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">String</span>(<span class="keyword">null</span>));      <span class="comment">// <span class="output">‚Üí "null"</span></span>
<span class="console">console</span>.<span class="function">log</span>((<span class="number">42</span>).<span class="function">toString</span>());  <span class="comment">// <span class="output">‚Üí "42"</span> (another way)</span>

<span class="comment">// üî¢ To Number</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Number</span>(<span class="string">"42"</span>));      <span class="comment">// <span class="output">‚Üí 42</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Number</span>(<span class="string">"3.14"</span>));   <span class="comment">// <span class="output">‚Üí 3.14</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Number</span>(<span class="keyword">true</span>));      <span class="comment">// <span class="output">‚Üí 1</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Number</span>(<span class="keyword">false</span>));     <span class="comment">// <span class="output">‚Üí 0</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Number</span>(<span class="string">"hello"</span>));   <span class="comment">// <span class="output">‚Üí NaN</span> (can't convert!)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Number</span>(<span class="string">""</span>));        <span class="comment">// <span class="output">‚Üí 0</span> (empty string = 0)</span>

<span class="comment">// ‚úÖ To Boolean</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Boolean</span>(<span class="number">1</span>));        <span class="comment">// <span class="output">‚Üí true</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Boolean</span>(<span class="number">0</span>));        <span class="comment">// <span class="output">‚Üí false</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Boolean</span>(<span class="string">"hello"</span>)); <span class="comment">// <span class="output">‚Üí true</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="function">Boolean</span>(<span class="string">""</span>));      <span class="comment">// <span class="output">‚Üí false</span> (empty string is falsy!)</span></div>
                </div>

                <div class="concept-box">
                    <h3>ü§ñ Implicit Conversion (JavaScript Does It Automatically)</h3>
                    <p>Sometimes JavaScript secretly converts types behind your back. This is called <strong>type coercion</strong> and it's the #1 source of weird bugs!</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>implicit-coercion.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// ü§™ JavaScript's auto-conversion can be WEIRD</span>

<span class="console">console</span>.<span class="function">log</span>(<span class="string">"5"</span> <span class="operator">+</span> <span class="number">3</span>);       <span class="comment">// <span class="output">‚Üí "53"</span> üò± String + Number = String (concatenation!)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="string">"5"</span> <span class="operator">-</span> <span class="number">3</span>);       <span class="comment">// <span class="output">‚Üí 2</span>   ü§î String - Number = Number (subtraction!)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="string">"5"</span> <span class="operator">*</span> <span class="number">3</span>);       <span class="comment">// <span class="output">‚Üí 15</span>  Same, converts to number</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="string">"5"</span> <span class="operator">/</span> <span class="number">2</span>);       <span class="comment">// <span class="output">‚Üí 2.5</span> Same</span>

<span class="comment">// The + operator is two-faced:</span>
<span class="comment">// With strings ‚Üí concatenation (joins them)</span>
<span class="comment">// With numbers ‚Üí addition (adds them)</span>

<span class="console">console</span>.<span class="function">log</span>(<span class="keyword">true</span> <span class="operator">+</span> <span class="keyword">true</span>);   <span class="comment">// <span class="output">‚Üí 2</span>   (true = 1, so 1 + 1 = 2)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="keyword">true</span> <span class="operator">+</span> <span class="string">"hi"</span>);   <span class="comment">// <span class="output">‚Üí "truehi"</span> (converts to string)</span></div>
                </div>

                <div class="concept-box">
                    <h3>üé≠ Truthy & Falsy Values</h3>
                    <p>In JavaScript, every value can be treated as true or false. Values that act like <code>false</code> are called <strong>falsy</strong>:</p>
                </div>

                <div class="visual-container">
                    <div class="visual-title">The 6 Falsy Values in JavaScript</div>
                    <div class="box-diagram">
                        <div class="var-box" style="border-color: var(--danger); background: rgba(225,112,85,0.05);">
                            <div class="box-name" style="font-size:1.2em; color: var(--danger);">false</div>
                        </div>
                        <div class="var-box" style="border-color: var(--danger); background: rgba(225,112,85,0.05);">
                            <div class="box-name" style="font-size:1.2em; color: var(--danger);">0</div>
                        </div>
                        <div class="var-box" style="border-color: var(--danger); background: rgba(225,112,85,0.05);">
                            <div class="box-name" style="font-size:1.2em; color: var(--danger);">""</div>
                            <div class="box-value" style="font-size:0.7em; color:#636e72">empty string</div>
                        </div>
                        <div class="var-box" style="border-color: var(--danger); background: rgba(225,112,85,0.05);">
                            <div class="box-name" style="font-size:1.2em; color: var(--danger);">null</div>
                        </div>
                        <div class="var-box" style="border-color: var(--danger); background: rgba(225,112,85,0.05);">
                            <div class="box-name" style="font-size:1.2em; color: var(--danger);">undefined</div>
                        </div>
                        <div class="var-box" style="border-color: var(--danger); background: rgba(225,112,85,0.05);">
                            <div class="box-name" style="font-size:1.2em; color: var(--danger);">NaN</div>
                        </div>
                    </div>
                    <p style="margin-top: 15px; font-size: 0.9em;">Everything else is <strong style="color: var(--success);">truthy</strong>! Even <code>"0"</code>, <code>"false"</code>, <code>[]</code>, and <code>{}</code> are truthy!</p>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Type Conversion Lab</div>
                        <button class="run-btn" onclick="runCode('editor5')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor5">// Test truthy/falsy values
const testValues = [0, 1, "", "hello", null, undefined, NaN, [], {}, false, true, "0", "false"];

testValues.forEach(val => {
  if (val) {
    console.log(`${JSON.stringify(val)} is TRUTHY ‚úÖ`);
  } else {
    console.log(`${JSON.stringify(val)} is FALSY ‚ùå`);
  }
});

// Surprise! Try these:
console.log("\n--- Surprises ---");
console.log('"0" is truthy?', Boolean("0"));      // true! It's a non-empty string
console.log('"false" is truthy?', Boolean("false")); // true! Still a non-empty string
console.log('[] is truthy?', Boolean([]));          // true! Empty array is truthy</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor5">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('data-types')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('types-quiz')">Next: Data Types Quiz ‚Üí</button>
                </div>
            </div>

            <!-- TYPES QUIZ -->
            <div class="lesson-card" id="lesson-types-quiz">
                <div class="lesson-header">
                    <span class="lesson-tag tag-quiz">Quiz</span>
                    <h1 class="lesson-title">‚ùì Data Types Quiz</h1>
                    <p class="lesson-subtitle">Can you spot the type tricks? 10 XP per correct answer!</p>
                </div>

                <div class="quiz-container" id="quiz-types">
                    <div class="quiz-question" data-quiz="tq1">
                        <div class="quiz-q-text"><span class="quiz-q-number">1</span> What is <code>"5" + 3</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq1')">
                                <span class="option-letter">A</span> 8
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'tq1')">
                                <span class="option-letter">B</span> "53"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq1')">
                                <span class="option-letter">C</span> NaN
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq1')">
                                <span class="option-letter">D</span> Error
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-tq1">
                            When you use <code>+</code> with a string, JavaScript converts everything to strings and <strong>concatenates</strong> (joins) them. So <code>"5" + 3</code> becomes <code>"5" + "3"</code> = <code>"53"</code>. The + operator is the tricky one!
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="tq2">
                        <div class="quiz-q-text"><span class="quiz-q-number">2</span> What does <code>typeof null</code> return?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq2')">
                                <span class="option-letter">A</span> "null"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'tq2')">
                                <span class="option-letter">B</span> "object"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq2')">
                                <span class="option-letter">C</span> "undefined"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq2')">
                                <span class="option-letter">D</span> "boolean"
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-tq2">
                            This is JavaScript's most famous bug! <code>typeof null</code> returns <code>"object"</code> even though null is NOT an object. This bug has existed since JavaScript was created in 1995 and was never fixed.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="tq3">
                        <div class="quiz-q-text"><span class="quiz-q-number">3</span> Which of these is FALSY?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq3')">
                                <span class="option-letter">A</span> <code>"0"</code> (string zero)
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq3')">
                                <span class="option-letter">B</span> <code>[]</code> (empty array)
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'tq3')">
                                <span class="option-letter">C</span> <code>""</code> (empty string)
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq3')">
                                <span class="option-letter">D</span> <code>"false"</code> (the word false as a string)
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-tq3">
                            An empty string <code>""</code> is one of the 6 falsy values. The others (A, B, D) are all truthy because they're non-empty strings or objects! Remember: <code>"0"</code> and <code>"false"</code> are truthy because they're non-empty strings.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="tq4">
                        <div class="quiz-q-text"><span class="quiz-q-number">4</span> What is <code>Number("")</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'tq4')">
                                <span class="option-letter">A</span> 0
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq4')">
                                <span class="option-letter">B</span> NaN
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq4')">
                                <span class="option-letter">C</span> undefined
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'tq4')">
                                <span class="option-letter">D</span> ""
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-tq4">
                            An empty string converts to <code>0</code> when converted to a number. This is another JavaScript quirk to remember! <code>Number("hello")</code> would give NaN, but <code>Number("")</code> gives 0.
                        </div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('type-conversion')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('arithmetic')">Next: Arithmetic Operators ‚Üí</button>
                </div>
            </div>

            <!-- ARITHMETIC OPERATORS -->
            <div class="lesson-card" id="lesson-arithmetic">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">‚ûï Arithmetic Operators</h1>
                    <p class="lesson-subtitle">Math in JavaScript ‚Äî your calculator on steroids!</p>
                </div>

                <div class="analogy-box">
                    <h3>üßÆ Think of Math Class</h3>
                    <p>JavaScript can do all the math you learned in school, plus a few extra tricks! It's like having a super calculator.</p>
                </div>

                <div class="operator-grid">
                    <div class="operator-card">
                        <div class="op-symbol">+</div>
                        <div class="op-name">Addition</div>
                        <div class="op-example">5 + 3 ‚Üí 8</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">-</div>
                        <div class="op-name">Subtraction</div>
                        <div class="op-example">10 - 4 ‚Üí 6</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">*</div>
                        <div class="op-name">Multiplication</div>
                        <div class="op-example">6 * 7 ‚Üí 42</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">/</div>
                        <div class="op-name">Division</div>
                        <div class="op-example">20 / 4 ‚Üí 5</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">%</div>
                        <div class="op-name">Modulo (Remainder)</div>
                        <div class="op-example">10 % 3 ‚Üí 1</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">**</div>
                        <div class="op-name">Exponentiation</div>
                        <div class="op-example">2 ** 3 ‚Üí 8</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">++</div>
                        <div class="op-name">Increment</div>
                        <div class="op-example">x++ ‚Üí x + 1</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">--</div>
                        <div class="op-name">Decrement</div>
                        <div class="op-example">x-- ‚Üí x - 1</div>
                    </div>
                </div>

                <div class="concept-box">
                    <h3>üéØ The Modulo Operator (%) ‚Äî The Remainder Trick</h3>
                    <p>Modulo gives you the <strong>remainder</strong> after division. It's incredibly useful!</p>
                    <ul class="content-list">
                        <li><code>10 % 3 = 1</code> ‚Üí 10 √∑ 3 = 3 remainder <strong>1</strong></li>
                        <li><code>15 % 5 = 0</code> ‚Üí 15 √∑ 5 = 3 remainder <strong>0</strong> (divides evenly!)</li>
                        <li><code>7 % 2 = 1</code> ‚Üí Use this to check if a number is odd! (result ‚â† 0 = odd)</li>
                    </ul>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>arithmetic.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// Basic arithmetic</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">10</span> <span class="operator">+</span> <span class="number">5</span>);     <span class="comment">// <span class="output">‚Üí 15</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">10</span> <span class="operator">-</span> <span class="number">5</span>);     <span class="comment">// <span class="output">‚Üí 5</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">10</span> <span class="operator">*</span> <span class="number">5</span>);     <span class="comment">// <span class="output">‚Üí 50</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">10</span> <span class="operator">/</span> <span class="number">3</span>);     <span class="comment">// <span class="output">‚Üí 3.3333...</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">10</span> <span class="operator">%</span> <span class="number">3</span>);     <span class="comment">// <span class="output">‚Üí 1</span> (remainder)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">2</span> <span class="operator">**</span> <span class="number">10</span>);    <span class="comment">// <span class="output">‚Üí 1024</span> (2 to the power of 10)</span>

<span class="comment">// Shorthand assignment operators (super common!)</span>
<span class="keyword">let</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">100</span>;
<span class="variable">score</span> <span class="operator">+=</span> <span class="number">10</span>;     <span class="comment">// Same as: score = score + 10 ‚Üí 110</span>
<span class="variable">score</span> <span class="operator">-=</span> <span class="number">5</span>;      <span class="comment">// Same as: score = score - 5  ‚Üí 105</span>
<span class="variable">score</span> <span class="operator">*=</span> <span class="number">2</span>;      <span class="comment">// Same as: score = score * 2  ‚Üí 210</span>
<span class="variable">score</span> <span class="operator">/=</span> <span class="number">3</span>;      <span class="comment">// Same as: score = score / 3  ‚Üí 70</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">score</span>);  <span class="comment">// <span class="output">‚Üí 70</span></span></div>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è Pitfall: Floating Point Weirdness</h3>
                    <p>Computers store decimal numbers in binary, which can lead to tiny rounding errors:</p>
                    <p><code>0.1 + 0.2</code> does NOT equal <code>0.3</code>! It equals <code>0.30000000000000004</code> ü§Ø</p>
                    <p><strong>Fix:</strong> Use <code>(0.1 + 0.2).toFixed(1)</code> to round, or multiply by 100, do the math, then divide.</p>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Math Playground</div>
                        <button class="run-btn" onclick="runCode('editor6')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor6">// Try these arithmetic operations!
console.log("=== Basic Math ===");
console.log("5 + 3 =", 5 + 3);
console.log("10 - 7 =", 10 - 7);
console.log("4 * 6 =", 4 * 6);
console.log("15 / 4 =", 15 / 4);
console.log("17 % 5 =", 17 % 5);
console.log("3 ** 4 =", 3 ** 4);

console.log("\n=== Is it Even or Odd? ===");
let num = 42;
console.log(num + " is " + (num % 2 === 0 ? "EVEN" : "ODD"));

num = 37;
console.log(num + " is " + (num % 2 === 0 ? "EVEN" : "ODD"));

console.log("\n=== Floating Point Trap ===");
console.log("0.1 + 0.2 =", 0.1 + 0.2);
console.log("Fixed:", (0.1 + 0.2).toFixed(1));</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor6">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('types-quiz')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('comparison')">Next: Comparison Operators ‚Üí</button>
                </div>
            </div>

            <!-- COMPARISON OPERATORS -->
            <div class="lesson-card" id="lesson-comparison">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">‚öñÔ∏è Comparison Operators</h1>
                    <p class="lesson-subtitle">Comparing values ‚Äî the foundation of decision-making!</p>
                </div>

                <div class="analogy-box">
                    <h3>‚öñÔ∏è The Judge Analogy</h3>
                    <p>Comparison operators are like a judge in a courtroom. You ask a question, and the judge answers <strong>true</strong> or <strong>false</strong>. "Is 5 greater than 3?" ‚Üí <strong>true</strong>! "Is 10 equal to 20?" ‚Üí <strong>false</strong>!</p>
                </div>

                <div class="operator-grid">
                    <div class="operator-card">
                        <div class="op-symbol">===</div>
                        <div class="op-name">Strict Equal</div>
                        <div class="op-example">5 === 5 ‚Üí true</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">!==</div>
                        <div class="op-name">Strict Not Equal</div>
                        <div class="op-example">5 !== 3 ‚Üí true</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">></div>
                        <div class="op-name">Greater Than</div>
                        <div class="op-example">10 > 5 ‚Üí true</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol"><</div>
                        <div class="op-name">Less Than</div>
                        <div class="op-example">3 < 7 ‚Üí true</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol">>=</div>
                        <div class="op-name">Greater or Equal</div>
                        <div class="op-example">5 >= 5 ‚Üí true</div>
                    </div>
                    <div class="operator-card">
                        <div class="op-symbol"><=</div>
                        <div class="op-name">Less or Equal</div>
                        <div class="op-example">3 <= 4 ‚Üí true</div>
                    </div>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è CRITICAL Pitfall: == vs === (The Biggest JavaScript Trap!)</h3>
                    <p>This is probably the #1 source of bugs for JavaScript beginners:</p>
                    <ul class="content-list">
                        <li><code>==</code> (loose equality) ‚Äî Converts types before comparing. <strong>AVOID THIS!</strong></li>
                        <li><code>===</code> (strict equality) ‚Äî Compares value AND type. <strong>ALWAYS USE THIS!</strong></li>
                    </ul>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>equality-trap.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// üö´ == (loose equality) ‚Äî DON'T use this!</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">5</span> <span class="operator">==</span> <span class="string">"5"</span>);     <span class="comment">// <span class="output">‚Üí true</span>  üò± Converts "5" to 5, then compares</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">0</span> <span class="operator">==</span> <span class="string">""</span>);      <span class="comment">// <span class="output">‚Üí true</span>  üò± Both become 0</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">0</span> <span class="operator">==</span> <span class="keyword">false</span>);   <span class="comment">// <span class="output">‚Üí true</span>  üò± false becomes 0</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="keyword">null</span> <span class="operator">==</span> <span class="keyword">undefined</span>); <span class="comment">// <span class="output">‚Üí true</span>  üò± Bizarre!</span>

<span class="comment">// ‚úÖ === (strict equality) ‚Äî ALWAYS use this!</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">5</span> <span class="operator">===</span> <span class="string">"5"</span>);    <span class="comment">// <span class="output">‚Üí false</span> ‚úÖ Different types!</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">0</span> <span class="operator">===</span> <span class="string">""</span>);     <span class="comment">// <span class="output">‚Üí false</span> ‚úÖ Different types!</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">0</span> <span class="operator">===</span> <span class="keyword">false</span>);  <span class="comment">// <span class="output">‚Üí false</span> ‚úÖ Different types!</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="number">5</span> <span class="operator">===</span> <span class="number">5</span>);      <span class="comment">// <span class="output">‚Üí true</span>  ‚úÖ Same value AND type</span></div>
                </div>

                <div class="tip-box">
                    <h3>üí° Golden Rule</h3>
                    <p><strong>ALWAYS use <code>===</code> and <code>!==</code></strong>. Pretend that <code>==</code> and <code>!=</code> don't exist. Seriously. This one rule will save you from SO many bugs.</p>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Comparison Lab</div>
                        <button class="run-btn" onclick="runCode('editor7')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor7">// Play with comparisons!
console.log("=== Strict Equality ===");
console.log('5 === 5:', 5 === 5);
console.log('5 === "5":', 5 === "5");
console.log('"hello" === "hello":', "hello" === "hello");

console.log("\n=== Comparisons ===");
console.log("10 > 5:", 10 > 5);
console.log("3 < 1:", 3 < 1);
console.log("5 >= 5:", 5 >= 5);
console.log("4 <= 3:", 4 <= 3);

console.log("\n=== Tricky Cases ===");
console.log('null === undefined:', null === undefined);
console.log('null == undefined:', null == undefined);
console.log('NaN === NaN:', NaN === NaN);  // WHAT?! ü§Ø

// NaN is the only value that's NOT equal to itself!
console.log("Use Number.isNaN() instead:", Number.isNaN(NaN));</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor7">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('arithmetic')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('logical')">Next: Logical Operators ‚Üí</button>
                </div>
            </div>

            <!-- LOGICAL OPERATORS -->
            <div class="lesson-card" id="lesson-logical">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üß† Logical Operators</h1>
                    <p class="lesson-subtitle">Combining conditions ‚Äî the brain of your code!</p>
                </div>

                <div class="analogy-box">
                    <h3>üö™ The Bouncer Analogy</h3>
                    <p>Imagine a nightclub bouncer with rules:</p>
                    <ul class="content-list">
                        <li><code>&&</code> (AND) = "You need ID <strong>AND</strong> you need to be on the list" ‚Äî BOTH must be true</li>
                        <li><code>||</code> (OR) = "You need ID <strong>OR</strong> you need to be a VIP" ‚Äî at least ONE must be true</li>
                        <li><code>!</code> (NOT) = "You are <strong>NOT</strong> banned" ‚Äî flips true‚Üîfalse</li>
                    </ul>
                </div>

                <div class="visual-container">
                    <div class="visual-title">Truth Tables ‚Äî How Logical Operators Work</div>

                    <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                        <table class="comparison-table" style="width: auto;">
                            <thead><tr><th>A</th><th>B</th><th>A && B</th></tr></thead>
                            <tbody>
                                <tr><td><span class="badge-yes">true</span></td><td><span class="badge-yes">true</span></td><td><span class="badge-yes">true ‚úÖ</span></td></tr>
                                <tr><td><span class="badge-yes">true</span></td><td><span class="badge-no">false</span></td><td><span class="badge-no">false</span></td></tr>
                                <tr><td><span class="badge-no">false</span></td><td><span class="badge-yes">true</span></td><td><span class="badge-no">false</span></td></tr>
                                <tr><td><span class="badge-no">false</span></td><td><span class="badge-no">false</span></td><td><span class="badge-no">false</span></td></tr>
                            </tbody>
                        </table>

                        <table class="comparison-table" style="width: auto;">
                            <thead><tr><th>A</th><th>B</th><th>A || B</th></tr></thead>
                            <tbody>
                                <tr><td><span class="badge-yes">true</span></td><td><span class="badge-yes">true</span></td><td><span class="badge-yes">true</span></td></tr>
                                <tr><td><span class="badge-yes">true</span></td><td><span class="badge-no">false</span></td><td><span class="badge-yes">true</span></td></tr>
                                <tr><td><span class="badge-no">false</span></td><td><span class="badge-yes">true</span></td><td><span class="badge-yes">true</span></td></tr>
                                <tr><td><span class="badge-no">false</span></td><td><span class="badge-no">false</span></td><td><span class="badge-no">false ‚ùå</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>logical.js</span>
                    </div>
                    <div class="code-content"><span class="keyword">let</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">25</span>;
<span class="keyword">let</span> <span class="variable">hasTicket</span> <span class="operator">=</span> <span class="keyword">true</span>;
<span class="keyword">let</span> <span class="variable">isBanned</span> <span class="operator">=</span> <span class="keyword">false</span>;

<span class="comment">// && (AND) ‚Äî ALL conditions must be true</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">age</span> <span class="operator">>=</span> <span class="number">18</span> <span class="operator">&&</span> <span class="variable">hasTicket</span>);    <span class="comment">// <span class="output">‚Üí true</span> (both true!)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">age</span> <span class="operator">>=</span> <span class="number">18</span> <span class="operator">&&</span> <span class="variable">isBanned</span>);     <span class="comment">// <span class="output">‚Üí false</span> (one is false)</span>

<span class="comment">// || (OR) ‚Äî At least ONE must be true</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">age</span> <span class="operator">>=</span> <span class="number">21</span> <span class="operator">||</span> <span class="variable">hasTicket</span>);    <span class="comment">// <span class="output">‚Üí true</span> (hasTicket is true)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">age</span> <span class="operator"><</span> <span class="number">10</span> <span class="operator">||</span> <span class="variable">isBanned</span>);     <span class="comment">// <span class="output">‚Üí false</span> (both false)</span>

<span class="comment">// ! (NOT) ‚Äî Flips true to false, and false to true</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="operator">!</span><span class="keyword">true</span>);              <span class="comment">// <span class="output">‚Üí false</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="operator">!</span><span class="keyword">false</span>);             <span class="comment">// <span class="output">‚Üí true</span></span>
<span class="console">console</span>.<span class="function">log</span>(<span class="operator">!</span><span class="variable">isBanned</span>);           <span class="comment">// <span class="output">‚Üí true</span> (not banned = good!)</span></div>
                </div>

                <div class="concept-box">
                    <h3>‚ö° Short-Circuit Evaluation</h3>
                    <p>JavaScript is <strong>lazy</strong> (in a good way). It stops evaluating as soon as it knows the answer:</p>
                    <ul class="content-list">
                        <li><code>&&</code> stops at the first <strong>falsy</strong> value (if the first is false, why check the rest?)</li>
                        <li><code>||</code> stops at the first <strong>truthy</strong> value (if the first is true, we're done!)</li>
                    </ul>
                    <p>This is super useful for setting default values!</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>short-circuit.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// Using || for default values</span>
<span class="keyword">let</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">""</span>;    <span class="comment">// empty string is falsy!</span>
<span class="keyword">let</span> <span class="variable">displayName</span> <span class="operator">=</span> <span class="variable">username</span> <span class="operator">||</span> <span class="string">"Anonymous"</span>;
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">displayName</span>);  <span class="comment">// <span class="output">‚Üí "Anonymous"</span></span>

<span class="comment">// Using && for conditional execution</span>
<span class="keyword">let</span> <span class="variable">isLoggedIn</span> <span class="operator">=</span> <span class="keyword">true</span>;
<span class="variable">isLoggedIn</span> <span class="operator">&&</span> <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Welcome back!"</span>);
<span class="comment">// Only prints if isLoggedIn is true</span>

<span class="comment">// Nullish coalescing (??) ‚Äî modern alternative to ||</span>
<span class="keyword">let</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">count</span> <span class="operator">||</span> <span class="number">10</span>);   <span class="comment">// <span class="output">‚Üí 10</span> (0 is falsy, so uses 10 üò±)</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">count</span> <span class="operator">??</span> <span class="number">10</span>);   <span class="comment">// <span class="output">‚Üí 0</span>  (?? only replaces null/undefined ‚úÖ)</span></div>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Logic Lab</div>
                        <button class="run-btn" onclick="runCode('editor8')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor8">// Can this person ride the roller coaster?
let height = 140;  // cm
let age = 12;
let hasParent = true;

// Rule: Must be at least 130cm AND (at least 14 OR have a parent)
let canRide = height >= 130 && (age >= 14 || hasParent);
console.log("Can ride?", canRide);

// Try changing the values!
console.log("\n--- Default Values ---");
let name1 = "";
let name2 = "Alex";
console.log("Name1:", name1 || "Guest");  // Guest (empty string is falsy)
console.log("Name2:", name2 || "Guest");  // Alex (has a value)

console.log("\n--- NOT operator ---");
console.log("!true =", !true);
console.log("!false =", !false);
console.log("!0 =", !0);          // true (0 is falsy)
console.log('!"" =', !"");        // true (empty string is falsy)
console.log('!"hello" =', !"hello"); // false (non-empty string is truthy)</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor8">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('comparison')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('operators-quiz')">Next: Operators Quiz ‚Üí</button>
                </div>
            </div>

            <!-- OPERATORS QUIZ -->
            <div class="lesson-card" id="lesson-operators-quiz">
                <div class="lesson-header">
                    <span class="lesson-tag tag-quiz">Quiz</span>
                    <h1 class="lesson-title">‚ùì Operators Quiz</h1>
                    <p class="lesson-subtitle">Prove your operator mastery! 10 XP per correct answer!</p>
                </div>

                <div class="quiz-container" id="quiz-operators">
                    <div class="quiz-question" data-quiz="oq1">
                        <div class="quiz-q-text"><span class="quiz-q-number">1</span> What is <code>17 % 5</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq1')">
                                <span class="option-letter">A</span> 3.4
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'oq1')">
                                <span class="option-letter">B</span> 2
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq1')">
                                <span class="option-letter">C</span> 3
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq1')">
                                <span class="option-letter">D</span> 12
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-oq1">
                            The modulo operator gives the <strong>remainder</strong>. 17 √∑ 5 = 3 with a remainder of <strong>2</strong>. (5 √ó 3 = 15, and 17 - 15 = 2)
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="oq2">
                        <div class="quiz-q-text"><span class="quiz-q-number">2</span> What does <code>5 === "5"</code> return?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq2')">
                                <span class="option-letter">A</span> true
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'oq2')">
                                <span class="option-letter">B</span> false
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq2')">
                                <span class="option-letter">C</span> undefined
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq2')">
                                <span class="option-letter">D</span> Error
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-oq2">
                            <code>===</code> (strict equality) checks both value AND type. 5 is a number, "5" is a string ‚Äî different types, so it's <strong>false</strong>! This is why === is safer than ==.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="oq3">
                        <div class="quiz-q-text"><span class="quiz-q-number">3</span> What is <code>true && false || true</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'oq3')">
                                <span class="option-letter">A</span> true
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq3')">
                                <span class="option-letter">B</span> false
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq3')">
                                <span class="option-letter">C</span> undefined
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq3')">
                                <span class="option-letter">D</span> Error
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-oq3">
                            && has higher precedence than ||, so it evaluates as: <code>(true && false) || true</code> ‚Üí <code>false || true</code> ‚Üí <strong>true</strong>.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="oq4">
                        <div class="quiz-q-text"><span class="quiz-q-number">4</span> What is <code>"" || "default"</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq4')">
                                <span class="option-letter">A</span> ""
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'oq4')">
                                <span class="option-letter">B</span> "default"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq4')">
                                <span class="option-letter">C</span> true
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq4')">
                                <span class="option-letter">D</span> false
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-oq4">
                            The <code>||</code> operator returns the first truthy value. An empty string <code>""</code> is falsy, so it moves to the next value: <code>"default"</code>, which is truthy. This pattern is commonly used for setting default values!
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="oq5">
                        <div class="quiz-q-text"><span class="quiz-q-number">5</span> What does <code>0.1 + 0.2 === 0.3</code> return?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq5')">
                                <span class="option-letter">A</span> true
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'oq5')">
                                <span class="option-letter">B</span> false
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq5')">
                                <span class="option-letter">C</span> NaN
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'oq5')">
                                <span class="option-letter">D</span> undefined
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-oq5">
                            This is the famous floating-point trap! <code>0.1 + 0.2</code> equals <code>0.30000000000000004</code>, not exactly <code>0.3</code>. So the strict comparison returns <strong>false</strong>. Always be careful with decimal arithmetic in JavaScript!
                        </div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('logical')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('if-else')">Next: If/Else Statements ‚Üí</button>
                </div>
            </div>

            <!-- IF/ELSE -->
            <div class="lesson-card" id="lesson-if-else">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üö¶ If/Else Statements</h1>
                    <p class="lesson-subtitle">Making your code make decisions!</p>
                </div>

                <div class="analogy-box">
                    <h3>üö¶ The Traffic Light Analogy</h3>
                    <p>Think of a traffic light:</p>
                    <ul class="content-list">
                        <li><strong>If</strong> the light is green ‚Üí Go!</li>
                        <li><strong>Else if</strong> the light is yellow ‚Üí Slow down!</li>
                        <li><strong>Else</strong> (it must be red) ‚Üí Stop!</li>
                    </ul>
                    <p>That's exactly how <code>if/else</code> works in JavaScript ‚Äî your code checks conditions and takes different paths!</p>
                </div>

                <div class="visual-container">
                    <div class="visual-title">üìä If/Else Flow</div>
                    <div class="flow-chart">
                        <div class="flow-node flow-start">Start</div>
                        <div class="flow-arrow">‚Üì</div>
                        <div class="flow-node" style="background: var(--warning); color: var(--dark); padding: 15px 25px;">Is age >= 18?</div>
                        <div class="flow-branches">
                            <div class="flow-branch">
                                <span class="flow-branch-label flow-yes">‚úÖ YES</span>
                                <div class="flow-arrow">‚Üì</div>
                                <div class="flow-node flow-action">"You can vote!"</div>
                            </div>
                            <div class="flow-branch">
                                <span class="flow-branch-label flow-no">‚ùå NO</span>
                                <div class="flow-arrow">‚Üì</div>
                                <div class="flow-node flow-action">"Too young!"</div>
                            </div>
                        </div>
                        <div class="flow-arrow">‚Üì</div>
                        <div class="flow-node flow-end">Continue</div>
                    </div>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>if-else-basics.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// Simple if</span>
<span class="keyword">let</span> <span class="variable">temperature</span> <span class="operator">=</span> <span class="number">35</span>;

<span class="keyword">if</span> (<span class="variable">temperature</span> <span class="operator">></span> <span class="number">30</span>) {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"It's hot! üåû"</span>);
}

<span class="comment">// if...else</span>
<span class="keyword">let</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">16</span>;

<span class="keyword">if</span> (<span class="variable">age</span> <span class="operator">>=</span> <span class="number">18</span>) {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"You can vote! üó≥Ô∏è"</span>);
} <span class="keyword">else</span> {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Sorry, too young to vote"</span>);
}

<span class="comment">// if...else if...else (multiple conditions)</span>
<span class="keyword">let</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">85</span>;

<span class="keyword">if</span> (<span class="variable">score</span> <span class="operator">>=</span> <span class="number">90</span>) {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Grade: A ‚≠ê"</span>);
} <span class="keyword">else if</span> (<span class="variable">score</span> <span class="operator">>=</span> <span class="number">80</span>) {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Grade: B üëç"</span>);
} <span class="keyword">else if</span> (<span class="variable">score</span> <span class="operator">>=</span> <span class="number">70</span>) {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Grade: C üôÇ"</span>);
} <span class="keyword">else if</span> (<span class="variable">score</span> <span class="operator">>=</span> <span class="number">60</span>) {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Grade: D üò¨"</span>);
} <span class="keyword">else</span> {
  <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Grade: F üò¢"</span>);
}</div>
                </div>

                <div class="concept-box">
                    <h3>‚ö° Ternary Operator ‚Äî if/else Shortcut</h3>
                    <p>For simple if/else, there's a one-liner shortcut: the <strong>ternary operator</strong>!</p>
                    <p>Syntax: <code>condition ? valueIfTrue : valueIfFalse</code></p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>ternary.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// Long way (if/else)</span>
<span class="keyword">let</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;
<span class="keyword">let</span> <span class="variable">status</span>;
<span class="keyword">if</span> (<span class="variable">age</span> <span class="operator">>=</span> <span class="number">18</span>) {
  <span class="variable">status</span> <span class="operator">=</span> <span class="string">"adult"</span>;
} <span class="keyword">else</span> {
  <span class="variable">status</span> <span class="operator">=</span> <span class="string">"minor"</span>;
}

<span class="comment">// Short way (ternary) ‚Äî same result!</span>
<span class="keyword">let</span> <span class="variable">status2</span> <span class="operator">=</span> <span class="variable">age</span> <span class="operator">>=</span> <span class="number">18</span> <span class="operator">?</span> <span class="string">"adult"</span> <span class="operator">:</span> <span class="string">"minor"</span>;

<span class="console">console</span>.<span class="function">log</span>(<span class="variable">status2</span>);  <span class="comment">// <span class="output">‚Üí "adult"</span></span>

<span class="comment">// Great for inline expressions:</span>
<span class="console">console</span>.<span class="function">log</span>(<span class="string">`You are ${age >= 18 ? "an adult" : "a minor"}`</span>);</div>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è Pitfall: Assignment vs Comparison</h3>
                    <p>One of the most common beginner mistakes:</p>
                    <ul class="content-list">
                        <li><code>=</code> is <strong>assignment</strong> (puts a value INTO a variable)</li>
                        <li><code>===</code> is <strong>comparison</strong> (checks if two values are equal)</li>
                    </ul>
                    <p>Writing <code>if (x = 5)</code> instead of <code>if (x === 5)</code> will SET x to 5 instead of checking it! üò±</p>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Decision Making Lab</div>
                        <button class="run-btn" onclick="runCode('editor9')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor9">// Build a simple ticket price calculator!
let age = 15;
let isStudent = true;
let isWeekend = false;

let price;

if (age < 5) {
  price = 0;          // Free for under 5
} else if (age < 13) {
  price = 8;          // Kids price
} else if (age < 18 || isStudent) {
  price = 12;         // Teen/student price
} else if (age >= 65) {
  price = 10;         // Senior price
} else {
  price = 20;         // Adult price
}

// Weekend surcharge
if (isWeekend) {
  price += 5;
}

console.log(`Age: ${age}`);
console.log(`Student: ${isStudent}`);
console.log(`Weekend: ${isWeekend}`);
console.log(`Ticket price: $${price}`);

// Try changing age, isStudent, and isWeekend!</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor9">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('operators-quiz')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('switch')">Next: Switch Statements ‚Üí</button>
                </div>
            </div>

            <!-- SWITCH -->
            <div class="lesson-card" id="lesson-switch">
                <div class="lesson-header">
                    <span class="lesson-tag tag-concept">Concept</span>
                    <h1 class="lesson-title">üîÄ Switch Statements</h1>
                    <p class="lesson-subtitle">When you have many specific options to choose from</p>
                </div>

                <div class="analogy-box">
                    <h3>üé∞ The Vending Machine Analogy</h3>
                    <p>A switch statement is like a vending machine:</p>
                    <ul class="content-list">
                        <li>You press a button (the value being checked)</li>
                        <li>The machine matches your button to a slot (the case)</li>
                        <li>It gives you the item from that slot (runs the code)</li>
                        <li>If no button matches, it returns your money (the default case)</li>
                    </ul>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>switch-basics.js</span>
                    </div>
                    <div class="code-content"><span class="keyword">let</span> <span class="variable">day</span> <span class="operator">=</span> <span class="string">"Monday"</span>;

<span class="keyword">switch</span> (<span class="variable">day</span>) {
  <span class="keyword">case</span> <span class="string">"Monday"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Start of the week! üò©"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="string">"Tuesday"</span>:
  <span class="keyword">case</span> <span class="string">"Wednesday"</span>:
  <span class="keyword">case</span> <span class="string">"Thursday"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Midweek grind üí™"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="string">"Friday"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"TGIF! üéâ"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">case</span> <span class="string">"Saturday"</span>:
  <span class="keyword">case</span> <span class="string">"Sunday"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"Weekend! üèñÔ∏è"</span>);
    <span class="keyword">break</span>;
  <span class="keyword">default</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"That's not a day! ü§î"</span>);
}</div>
                </div>

                <div class="pitfall-box">
                    <h3>‚ö†Ô∏è CRITICAL Pitfall: Forgetting break!</h3>
                    <p>If you forget the <code>break</code> keyword, JavaScript will "fall through" and execute ALL the cases below the matching one! This is usually a bug.</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><div class="code-dot"></div><div class="code-dot"></div><div class="code-dot"></div></div>
                        <span>break-pitfall.js</span>
                    </div>
                    <div class="code-content"><span class="comment">// ‚ùå WRONG ‚Äî missing break statements!</span>
<span class="keyword">let</span> <span class="variable">fruit</span> <span class="operator">=</span> <span class="string">"apple"</span>;

<span class="keyword">switch</span> (<span class="variable">fruit</span>) {
  <span class="keyword">case</span> <span class="string">"apple"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"üçé"</span>);
    <span class="comment">// No break! Falls through to next case! üò±</span>
  <span class="keyword">case</span> <span class="string">"banana"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"üçå"</span>);
    <span class="comment">// No break! Falls through again!</span>
  <span class="keyword">case</span> <span class="string">"cherry"</span>:
    <span class="console">console</span>.<span class="function">log</span>(<span class="string">"üçí"</span>);
    <span class="keyword">break</span>;
}
<span class="comment">// OUTPUT: üçé üçå üçí ‚Äî printed ALL THREE! Not what we wanted!</span></div>
                </div>

                <div class="concept-box">
                    <h3>ü§î When to Use switch vs if/else</h3>
                    <ul class="content-list">
                        <li>Use <strong>switch</strong> when checking ONE variable against MANY specific values</li>
                        <li>Use <strong>if/else</strong> when checking ranges, multiple conditions, or complex logic</li>
                        <li>Switch uses <code>===</code> (strict comparison) internally</li>
                    </ul>
                </div>

                <div class="code-editor">
                    <div class="editor-header">
                        <div class="editor-title">üß™ Switch Lab</div>
                        <button class="run-btn" onclick="runCode('editor10')">‚ñ∂ Run</button>
                    </div>
                    <textarea class="editor-textarea" id="editor10">// Build a simple chatbot response system!
let userMessage = "hello";  // Try: "hello", "help", "bye", "joke", anything else

switch (userMessage.toLowerCase()) {
  case "hello":
  case "hi":
  case "hey":
    console.log("ü§ñ Hello! How can I help you today?");
    break;
  case "help":
    console.log("ü§ñ I can tell jokes, say hello, or say goodbye!");
    break;
  case "joke":
    console.log("ü§ñ Why do programmers prefer dark mode?");
    console.log("   Because light attracts bugs! üêõüòÑ");
    break;
  case "bye":
  case "goodbye":
    console.log("ü§ñ Goodbye! Have a great day! üëã");
    break;
  default:
    console.log(`ü§ñ Sorry, I don't understand "${userMessage}"`);
    console.log('   Try "hello", "help", "joke", or "bye"');
}

// Try changing userMessage to different values!</textarea>
                    <div class="output-area">
                        <div class="output-label">Output</div>
                        <div class="output-text" id="output-editor10">Click "Run" to see the output! üöÄ</div>
                    </div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('if-else')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('control-exercise')">Next: Control Flow Challenge ‚Üí</button>
                </div>
            </div>

            <!-- CONTROL FLOW EXERCISE -->
            <div class="lesson-card" id="lesson-control-exercise">
                <div class="lesson-header">
                    <span class="lesson-tag tag-exercise">Exercise</span>
                    <h1 class="lesson-title">üí™ Control Flow Challenges</h1>
                    <p class="lesson-subtitle">Put everything together! Earn bonus XP!</p>
                </div>

                <!-- Exercise 1 -->
                <div class="exercise-container">
                    <div class="exercise-header">
                        <span class="exercise-icon">üèãÔ∏è</span>
                        <span class="exercise-title">Challenge 1: Age Group Classifier</span>
                        <div class="exercise-difficulty">
                            <span class="difficulty-star">‚≠ê</span>
                            <span class="difficulty-star empty">‚≠ê</span>
                            <span class="difficulty-star empty">‚≠ê</span>
                        </div>
                    </div>
                    <div class="exercise-description">
                        <p>Write code that takes an age and prints the age group:</p>
                        <ul class="content-list">
                            <li>0-2: "Baby"</li>
                            <li>3-12: "Child"</li>
                            <li>13-17: "Teenager"</li>
                            <li>18-64: "Adult"</li>
                            <li>65+: "Senior"</li>
                        </ul>
                    </div>
                    <div class="exercise-hints">
                        <button class="hint-toggle" onclick="toggleHint('hint1')">üí° Need a hint?</button>
                        <div class="hint-content" id="hint1">Use if/else if/else chain. Start from the lowest range and work up, OR start from the highest. Remember to use >= and <= for ranges!</div>
                    </div>

                    <div class="code-editor">
                        <div class="editor-header">
                            <div class="editor-title">‚úèÔ∏è Your Code</div>
                            <button class="run-btn" onclick="runCode('exercise1')">‚ñ∂ Run</button>
                        </div>
                        <textarea class="editor-textarea" id="exercise1">// Challenge: Classify the age into a group
let age = 15; // Try different ages!

// Write your if/else code below:


// Expected output for age=15: "Teenager"</textarea>
                        <div class="output-area">
                            <div class="output-label">Output</div>
                            <div class="output-text" id="output-exercise1">Write your code and click Run! üí™</div>
                        </div>
                    </div>

                    <button class="check-btn" onclick="checkExercise1()">‚úÖ Check My Answer</button>
                    <div class="exercise-result" id="result-exercise1"></div>
                </div>

                <!-- Exercise 2 -->
                <div class="exercise-container">
                    <div class="exercise-header">
                        <span class="exercise-icon">üèãÔ∏è</span>
                        <span class="exercise-title">Challenge 2: FizzBuzz (Classic Interview Question!)</span>
                        <div class="exercise-difficulty">
                            <span class="difficulty-star">‚≠ê</span>
                            <span class="difficulty-star">‚≠ê</span>
                            <span class="difficulty-star empty">‚≠ê</span>
                        </div>
                    </div>
                    <div class="exercise-description">
                        <p>For a given number:</p>
                        <ul class="content-list">
                            <li>If divisible by 3 AND 5: print "FizzBuzz"</li>
                            <li>If divisible by 3 only: print "Fizz"</li>
                            <li>If divisible by 5 only: print "Buzz"</li>
                            <li>Otherwise: print the number</li>
                        </ul>
                        <p><strong>Hint:</strong> Use the modulo operator <code>%</code> to check divisibility! <code>n % 3 === 0</code> means n is divisible by 3.</p>
                    </div>
                    <div class="exercise-hints">
                        <button class="hint-toggle" onclick="toggleHint('hint2')">üí° Need a hint?</button>
                        <div class="hint-content" id="hint2">Check FizzBuzz (divisible by both) FIRST! If you check for 3 or 5 first, you'll never reach the "both" condition. Use: if (num % 3 === 0 && num % 5 === 0)</div>
                    </div>

                    <div class="code-editor">
                        <div class="editor-header">
                            <div class="editor-title">‚úèÔ∏è Your Code</div>
                            <button class="run-btn" onclick="runCode('exercise2')">‚ñ∂ Run</button>
                        </div>
                        <textarea class="editor-textarea" id="exercise2">// Challenge: FizzBuzz!
// Test with numbers: 15, 9, 10, 7

let num = 15;

// Write your solution below:


// Expected: 15 ‚Üí "FizzBuzz", 9 ‚Üí "Fizz", 10 ‚Üí "Buzz", 7 ‚Üí 7</textarea>
                        <div class="output-area">
                            <div class="output-label">Output</div>
                            <div class="output-text" id="output-exercise2">Write your code and click Run! üí™</div>
                        </div>
                    </div>

                    <button class="check-btn" onclick="checkExercise2()">‚úÖ Check My Answer</button>
                    <div class="exercise-result" id="result-exercise2"></div>
                </div>

                <!-- Exercise 3 -->
                <div class="exercise-container">
                    <div class="exercise-header">
                        <span class="exercise-icon">üèãÔ∏è</span>
                        <span class="exercise-title">Challenge 3: Season Detector</span>
                        <div class="exercise-difficulty">
                            <span class="difficulty-star">‚≠ê</span>
                            <span class="difficulty-star">‚≠ê</span>
                            <span class="difficulty-star">‚≠ê</span>
                        </div>
                    </div>
                    <div class="exercise-description">
                        <p>Use a switch statement to determine the season from a month number (1-12):</p>
                        <ul class="content-list">
                            <li>12, 1, 2: "Winter ‚ùÑÔ∏è"</li>
                            <li>3, 4, 5: "Spring üå∏"</li>
                            <li>6, 7, 8: "Summer ‚òÄÔ∏è"</li>
                            <li>9, 10, 11: "Autumn üçÇ"</li>
                            <li>Anything else: "Invalid month!"</li>
                        </ul>
                    </div>
                    <div class="exercise-hints">
                        <button class="hint-toggle" onclick="toggleHint('hint3')">üí° Need a hint?</button>
                        <div class="hint-content" id="hint3">You can "stack" cases in switch! Like: case 12: case 1: case 2: console.log("Winter"); break; ‚Äî this makes all three cases run the same code.</div>
                    </div>

                    <div class="code-editor">
                        <div class="editor-header">
                            <div class="editor-title">‚úèÔ∏è Your Code</div>
                            <button class="run-btn" onclick="runCode('exercise3')">‚ñ∂ Run</button>
                        </div>
                        <textarea class="editor-textarea" id="exercise3">// Challenge: What season is it?
let month = 7; // Try different months!

// Write your switch statement below:


// Expected: month=7 ‚Üí "Summer ‚òÄÔ∏è"</textarea>
                        <div class="output-area">
                            <div class="output-label">Output</div>
                            <div class="output-text" id="output-exercise3">Write your code and click Run! üí™</div>
                        </div>
                    </div>

                    <button class="check-btn" onclick="checkExercise3()">‚úÖ Check My Answer</button>
                    <div class="exercise-result" id="result-exercise3"></div>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('switch')">‚Üê Back</button>
                    <button class="nav-btn" onclick="navigateTo('final-quiz')">Next: Final Boss Quiz ‚Üí</button>
                </div>
            </div>

            <!-- FINAL QUIZ -->
            <div class="lesson-card" id="lesson-final-quiz">
                <div class="lesson-header">
                    <span class="lesson-tag tag-quiz">üèÜ Final Boss</span>
                    <h1 class="lesson-title">üèÜ Final Boss Quiz</h1>
                    <p class="lesson-subtitle">The ultimate test! Can you defeat the boss? 15 XP per question!</p>
                </div>

                <div class="concept-box">
                    <h3>‚öîÔ∏è Rules of Engagement</h3>
                    <p>This quiz covers EVERYTHING you've learned. There are tricky questions designed to test your deep understanding. Think carefully before answering!</p>
                </div>

                <div class="quiz-container" id="quiz-final">
                    <div class="quiz-question" data-quiz="fq1">
                        <div class="quiz-q-text"><span class="quiz-q-number">1</span> What is the output of this code?
                        <div class="code-block" style="margin: 10px 0;">
                            <div class="code-content" style="padding: 10px 15px; font-size: 0.85em;"><span class="keyword">let</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;
<span class="keyword">if</span> (<span class="keyword">true</span>) {
  <span class="keyword">let</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">20</span>;
}
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">x</span>);</div>
                        </div>
                        </div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'fq1', 15)">
                                <span class="option-letter">A</span> 10
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq1', 15)">
                                <span class="option-letter">B</span> 20
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq1', 15)">
                                <span class="option-letter">C</span> undefined
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq1', 15)">
                                <span class="option-letter">D</span> Error
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-fq1">
                            The answer is <strong>10</strong>! The <code>let x = 20</code> inside the if block creates a NEW variable that only exists in that block (block scope). It doesn't affect the outer <code>x</code>. When we log <code>x</code> outside the block, we see the original value: 10.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="fq2">
                        <div class="quiz-q-text"><span class="quiz-q-number">2</span> What does <code>typeof typeof 42</code> return?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq2', 15)">
                                <span class="option-letter">A</span> "number"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'fq2', 15)">
                                <span class="option-letter">B</span> "string"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq2', 15)">
                                <span class="option-letter">C</span> "typeof"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq2', 15)">
                                <span class="option-letter">D</span> undefined
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-fq2">
                            Think step by step: <code>typeof 42</code> returns the string <code>"number"</code>. Then <code>typeof "number"</code> returns <code>"string"</code>! The typeof operator always returns a string, so typeof of any typeof result is always "string".
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="fq3">
                        <div class="quiz-q-text"><span class="quiz-q-number">3</span> What is the output of: <code>console.log(3 + 4 + "5")</code>?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq3', 15)">
                                <span class="option-letter">A</span> "345"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'fq3', 15)">
                                <span class="option-letter">B</span> "75"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq3', 15)">
                                <span class="option-letter">C</span> 12
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq3', 15)">
                                <span class="option-letter">D</span> "12"
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-fq3">
                            JavaScript evaluates left to right: <code>3 + 4</code> = <code>7</code> (both numbers, so addition). Then <code>7 + "5"</code> = <code>"75"</code> (number + string = string concatenation). Order matters!
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="fq4">
                        <div class="quiz-q-text"><span class="quiz-q-number">4</span> What does this code print?
                        <div class="code-block" style="margin: 10px 0;">
                            <div class="code-content" style="padding: 10px 15px; font-size: 0.85em;"><span class="keyword">let</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">"0"</span>;
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">a</span> <span class="operator">==</span> <span class="variable">b</span>, <span class="variable">a</span> <span class="operator">===</span> <span class="variable">b</span>);</div>
                        </div>
                        </div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'fq4', 15)">
                                <span class="option-letter">A</span> true false
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq4', 15)">
                                <span class="option-letter">B</span> false false
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq4', 15)">
                                <span class="option-letter">C</span> true true
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq4', 15)">
                                <span class="option-letter">D</span> false true
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-fq4">
                            <code>0 == "0"</code> is <strong>true</strong> because loose equality converts "0" to 0 first. <code>0 === "0"</code> is <strong>false</strong> because strict equality checks type too ‚Äî number vs string. This is exactly why we always use ===!
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="fq5">
                        <div class="quiz-q-text"><span class="quiz-q-number">5</span> What happens with this code?
                        <div class="code-block" style="margin: 10px 0;">
                            <div class="code-content" style="padding: 10px 15px; font-size: 0.85em;"><span class="keyword">const</span> <span class="variable">arr</span> <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
<span class="variable">arr</span>.<span class="function">push</span>(<span class="number">4</span>);
<span class="console">console</span>.<span class="function">log</span>(<span class="variable">arr</span>);</div>
                        </div>
                        </div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq5', 15)">
                                <span class="option-letter">A</span> TypeError ‚Äî can't modify const
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'fq5', 15)">
                                <span class="option-letter">B</span> [1, 2, 3, 4]
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq5', 15)">
                                <span class="option-letter">C</span> [1, 2, 3]
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq5', 15)">
                                <span class="option-letter">D</span> undefined
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-fq5">
                            <code>const</code> prevents <strong>reassignment</strong>, not <strong>mutation</strong>! <code>arr.push(4)</code> modifies the array's contents (mutation), which is allowed. Only <code>arr = [1,2,3,4]</code> would fail because that's reassignment. The output is <strong>[1, 2, 3, 4]</strong>.
                        </div>
                    </div>

                    <div class="quiz-question" data-quiz="fq6">
                        <div class="quiz-q-text"><span class="quiz-q-number">6</span> What's the value of <code>result</code>?
                        <div class="code-block" style="margin: 10px 0;">
                            <div class="code-content" style="padding: 10px 15px; font-size: 0.85em;"><span class="keyword">let</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">null</span> <span class="operator">??</span> <span class="string">"default"</span> <span class="operator">??</span> <span class="string">"other"</span>;</div>
                        </div>
                        </div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq6', 15)">
                                <span class="option-letter">A</span> null
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, true, 'fq6', 15)">
                                <span class="option-letter">B</span> "default"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq6', 15)">
                                <span class="option-letter">C</span> "other"
                            </div>
                            <div class="quiz-option" onclick="checkQuizAnswer(this, false, 'fq6', 15)">
                                <span class="option-letter">D</span> undefined
                            </div>
                        </div>
                        <div class="quiz-explanation" id="exp-fq6">
                            The nullish coalescing operator <code>??</code> returns the first value that is NOT null or undefined. <code>null</code> is null, so skip it. <code>"default"</code> is not null/undefined, so return <strong>"default"</strong>. It never reaches "other".
                        </div>
                    </div>
                </div>

                <div class="tip-box" id="completionMessage" style="display: none;">
                    <h3>üéâ Congratulations!</h3>
                    <p>You've completed the JavaScript Basics Academy! You now understand variables, scope, data types, type conversion, operators, and control flow. These are the building blocks for EVERYTHING you'll build with JavaScript.</p>
                    <p><strong>Next steps:</strong> Learn about functions, arrays, objects, and loops to continue your JavaScript journey!</p>
                </div>

                <div class="lesson-nav">
                    <button class="nav-btn secondary" onclick="navigateTo('control-exercise')">‚Üê Back</button>
                    <button class="nav-btn" onclick="showCompletion()">üéì Finish Course</button>
                </div>
            </div>

        </main>
    </div>

    <script>
        // ============================
        // STATE MANAGEMENT
        // ============================
        let state = {
            currentLesson: 'welcome',
            xp: 0,
            level: 1,
            streak: 0,
            completedLessons: new Set(),
            answeredQuestions: new Set(),
            achievements: [],
            maxXP: 100
        };

        // Load state from localStorage
        function loadState() {
            try {
                const saved = localStorage.getItem('jsAcademyState');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    state.xp = parsed.xp || 0;
                    state.level = parsed.level || 1;
                    state.streak = parsed.streak || 0;
                    state.completedLessons = new Set(parsed.completedLessons || []);
                    state.answeredQuestions = new Set(parsed.answeredQuestions || []);
                    state.achievements = parsed.achievements || [];
                }
            } catch (e) {}
            updateUI();
        }

        function saveState() {
            try {
                localStorage.setItem('jsAcademyState', JSON.stringify({
                    xp: state.xp,
                    level: state.level,
                    streak: state.streak,
                    completedLessons: [...state.completedLessons],
                    answeredQuestions: [...state.answeredQuestions],
                    achievements: state.achievements
                }));
            } catch (e) {}
        }

        // ============================
        // NAVIGATION
        // ============================
        const lessonOrder = [
            'welcome', 'variables-intro', 'let-const-var', 'scope', 'variables-quiz',
            'data-types', 'type-conversion', 'types-quiz',
            'arithmetic', 'comparison', 'logical', 'operators-quiz',
            'if-else', 'switch', 'control-exercise', 'final-quiz'
        ];

        function navigateTo(lessonId) {
            // Mark current lesson as completed
            state.completedLessons.add(state.currentLesson);
            state.currentLesson = lessonId;

            // Hide all lessons
            document.querySelectorAll('.lesson-card').forEach(card => {
                card.classList.remove('active');
            });

            // Show target lesson
            const target = document.getElementById('lesson-' + lessonId);
            if (target) {
                target.classList.add('active');
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.lesson === lessonId) {
                    item.classList.add('active');
                }
                if (state.completedLessons.has(item.dataset.lesson)) {
                    item.classList.add('completed');
                }
            });

            // Award XP for visiting new lessons
            if (!state.completedLessons.has(lessonId)) {
                addXP(5);
            }

            // Close mobile menu
            document.getElementById('sidebar').classList.remove('mobile-open');
            document.getElementById('overlay').classList.remove('active');

            updateUI();
            saveState();
        }

        // ============================
        // XP & LEVEL SYSTEM
        // ============================
        function addXP(amount) {
            state.xp += amount;
            state.streak++;

            // Level up check
            while (state.xp >= state.maxXP) {
                state.xp -= state.maxXP;
                state.level++;
                state.maxXP = Math.floor(state.maxXP * 1.3);
                showAchievement('üéâ Level Up!', `You reached Level ${state.level}!`);
                launchConfetti();
            }

            // Streak achievements
            if (state.streak === 5 && !state.achievements.includes('streak5')) {
                state.achievements.push('streak5');
                showAchievement('üî• On Fire!', '5 correct answers in a row!');
            }
            if (state.streak === 10 && !state.achievements.includes('streak10')) {
                state.achievements.push('streak10');
                showAchievement('‚ö° Unstoppable!', '10 correct answers in a row!');
            }

            updateUI();
            saveState();
        }

        function updateUI() {
            document.getElementById('xpFill').style.width = (state.xp / state.maxXP * 100) + '%';
            document.getElementById('xpText').textContent = state.xp;
            document.getElementById('levelNum').textContent = state.level;
            document.getElementById('streakCount').textContent = state.streak;
        }

        // ============================
        // CODE EDITOR
        // ============================
        function runCode(editorId) {
            const textarea = document.getElementById(editorId);
            const outputDiv = document.getElementById('output-' + editorId);
            const code = textarea.value;
            let output = '';

            // Override console.log
            const originalLog = console.log;
            console.log = function (...args) {
                const formatted = args.map(arg => {
                    if (arg === null) return 'null';
                    if (arg === undefined) return 'undefined';
                    if (typeof arg === 'object') {
                        try { return JSON.stringify(arg); } catch (e) { return String(arg); }
                    }
                    return String(arg);
                }).join(' ');
                output += formatted + '\n';
            };

            try {
                // Use Function constructor to evaluate the code
                new Function(code)();
                outputDiv.innerHTML = '<span class="output-text">' + escapeHTML(output || '(no output)') + '</span>';
            } catch (error) {
                outputDiv.innerHTML = '<span class="output-error">‚ùå Error: ' + escapeHTML(error.message) + '</span>';
            }

            // Restore console.log
            console.log = originalLog;
        }

        function escapeHTML(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        // ============================
        // QUIZ SYSTEM
        // ============================
        function checkQuizAnswer(element, isCorrect, quizId, xpAmount = 10) {
            // Prevent answering twice
            if (state.answeredQuestions.has(quizId)) return;
            state.answeredQuestions.add(quizId);

            const question = element.closest('.quiz-question');
            const options = question.querySelectorAll('.quiz-option');
            const explanation = document.getElementById('exp-' + quizId);

            // Disable all options
            options.forEach(opt => {
                opt.classList.add('disabled');
                opt.style.pointerEvents = 'none';
            });

            if (isCorrect) {
                element.classList.add('correct');
                explanation.classList.add('show', 'correct-exp');
                explanation.innerHTML = '‚úÖ Correct! ' + explanation.innerHTML;
                addXP(xpAmount);
            } else {
                element.classList.add('wrong');
                state.streak = 0;
                // Show correct answer
                options.forEach(opt => {
                    // Find the correct option by checking all click handlers
                    // Highlight correct one
                });
                explanation.classList.add('show', 'wrong-exp');
                explanation.innerHTML = '‚ùå Not quite! ' + explanation.innerHTML;
                updateUI();
            }

            saveState();
        }

        // ============================
        // EXERCISE CHECKING
        // ============================
        function checkExercise1() {
            const code = document.getElementById('exercise1').value;
            const resultDiv = document.getElementById('result-exercise1');

            // Test with multiple ages
            const tests = [
                { age: 1, expected: 'baby' },
                { age: 5, expected: 'child' },
                { age: 15, expected: 'teenager' },
                { age: 25, expected: 'adult' },
                { age: 70, expected: 'senior' }
            ];

            let allPassed = true;
            let output = '';

            for (const test of tests) {
                try {
                    let capturedOutput = '';
                    const origLog = console.log;
                    console.log = (...args) => { capturedOutput += args.join(' '); };
                    new Function('let age = ' + test.age + ';\n' + code.replace(/let age.*?;/g, ''))();
                    console.log = origLog;

                    if (capturedOutput.toLowerCase().includes(test.expected)) {
                        output += `‚úÖ age=${test.age}: "${capturedOutput}" ‚Äî Correct!\n`;
                    } else {
                        output += `‚ùå age=${test.age}: Expected "${test.expected}" but got "${capturedOutput}"\n`;
                        allPassed = false;
                    }
                } catch (e) {
                    output += `‚ùå age=${test.age}: Error ‚Äî ${e.message}\n`;
                    allPassed = false;
                }
            }

            resultDiv.classList.add('show');
            if (allPassed) {
                resultDiv.className = 'exercise-result show success';
                resultDiv.innerHTML = 'üéâ <strong>Perfect!</strong> All test cases passed!\n\n' + output;
                if (!state.answeredQuestions.has('ex1')) {
                    state.answeredQuestions.add('ex1');
                    addXP(20);
                }
            } else {
                resultDiv.className = 'exercise-result show fail';
                resultDiv.innerHTML = 'üí™ <strong>Keep trying!</strong> Some tests didn\'t pass.\n\n' + output;
            }
        }

        function checkExercise2() {
            const code = document.getElementById('exercise2').value;
            const resultDiv = document.getElementById('result-exercise2');

            const tests = [
                { num: 15, expected: 'fizzbuzz' },
                { num: 9, expected: 'fizz' },
                { num: 10, expected: 'buzz' },
                { num: 7, expected: '7' }
            ];

            let allPassed = true;
            let output = '';

            for (const test of tests) {
                try {
                    let capturedOutput = '';
                    const origLog = console.log;
                    console.log = (...args) => { capturedOutput += args.join(' '); };
                    new Function('let num = ' + test.num + ';\n' + code.replace(/let num.*?;/g, ''))();
                    console.log = origLog;

                    if (capturedOutput.toLowerCase().includes(test.expected.toLowerCase())) {
                        output += `‚úÖ num=${test.num}: "${capturedOutput}" ‚Äî Correct!\n`;
                    } else {
                        output += `‚ùå num=${test.num}: Expected "${test.expected}" but got "${capturedOutput}"\n`;
                        allPassed = false;
                    }
                } catch (e) {
                    output += `‚ùå num=${test.num}: Error ‚Äî ${e.message}\n`;
                    allPassed = false;
                }
            }

            resultDiv.classList.add('show');
            if (allPassed) {
                resultDiv.className = 'exercise-result show success';
                resultDiv.innerHTML = 'üéâ <strong>FizzBuzz Master!</strong> All tests passed!\n\n' + output;
                if (!state.answeredQuestions.has('ex2')) {
                    state.answeredQuestions.add('ex2');
                    addXP(25);
                }
            } else {
                resultDiv.className = 'exercise-result show fail';
                resultDiv.innerHTML = 'üí™ <strong>Almost there!</strong> Check your logic.\n\n' + output;
            }
        }

        function checkExercise3() {
            const code = document.getElementById('exercise3').value;
            const resultDiv = document.getElementById('result-exercise3');

            const tests = [
                { month: 1, expected: 'winter' },
                { month: 4, expected: 'spring' },
                { month: 7, expected: 'summer' },
                { month: 10, expected: 'autumn' },
                { month: 12, expected: 'winter' }
            ];

            let allPassed = true;
            let output = '';

            for (const test of tests) {
                try {
                    let capturedOutput = '';
                    const origLog = console.log;
                    console.log = (...args) => { capturedOutput += args.join(' '); };
                    new Function('let month = ' + test.month + ';\n' + code.replace(/let month.*?;/g, ''))();
                    console.log = origLog;

                    if (capturedOutput.toLowerCase().includes(test.expected)) {
                        output += `‚úÖ month=${test.month}: "${capturedOutput}" ‚Äî Correct!\n`;
                    } else {
                        output += `‚ùå month=${test.month}: Expected "${test.expected}" but got "${capturedOutput}"\n`;
                        allPassed = false;
                    }
                } catch (e) {
                    output += `‚ùå month=${test.month}: Error ‚Äî ${e.message}\n`;
                    allPassed = false;
                }
            }

            resultDiv.classList.add('show');
            if (allPassed) {
                resultDiv.className = 'exercise-result show success';
                resultDiv.innerHTML = 'üéâ <strong>Season Master!</strong> All tests passed!\n\n' + output;
                if (!state.answeredQuestions.has('ex3')) {
                    state.answeredQuestions.add('ex3');
                    addXP(30);
                }
            } else {
                resultDiv.className = 'exercise-result show fail';
                resultDiv.innerHTML = 'üí™ <strong>Keep going!</strong> Check your switch cases.\n\n' + output;
            }
        }

        // ============================
        // TYPE CHECKER
        // ============================
        function checkType() {
            const input = document.getElementById('typeCheckerInput').value;
            const result = document.getElementById('typeCheckerResult');

            if (!input.trim()) {
                result.innerHTML = 'Type something above to see its type...';
                return;
            }

            try {
                const value = new Function('return ' + input)();
                const type = typeof value;
                const isArray = Array.isArray(value);

                let emoji = '';
                switch (type) {
                    case 'string': emoji = 'üìù'; break;
                    case 'number': emoji = 'üî¢'; break;
                    case 'boolean': emoji = '‚úÖ'; break;
                    case 'undefined': emoji = '‚ùì'; break;
                    case 'object':
                        if (value === null) emoji = 'üö´';
                        else if (isArray) emoji = 'üìã';
                        else emoji = 'üì¶';
                        break;
                    case 'function': emoji = '‚öôÔ∏è'; break;
                    default: emoji = 'üî£';
                }

                let display = `${emoji} <strong>typeof</strong> ${escapeHTML(input)} = <strong style="color: var(--secondary);">"${type}"</strong>`;

                              if (value === null) {
                    display += `<br><span style="color: var(--danger); font-size: 0.85em;">‚ö†Ô∏è Note: typeof null is "object" ‚Äî this is a famous JS bug! null is NOT an object, but typeof lies.</span>`;
                }

                result.innerHTML = display;
            } catch (e) {
                result.innerHTML = `‚ùå Could not evaluate: ${escapeHTML(e.message)}`;
            }
        }

        // ============================
        // HINT TOGGLE
        // ============================
        function toggleHint(hintId) {
            const hint = document.getElementById(hintId);
            hint.classList.toggle('show');
        }

        // ============================
        // ACHIEVEMENT POPUP
        // ============================
        function showAchievement(title, description) {
            const popup = document.getElementById('achievementPopup');
            document.getElementById('achTitle').textContent = title;
            document.getElementById('achDesc').textContent = description;
            popup.style.display = 'block';
            popup.classList.remove('slideOutRight');
            popup.classList.add('slideInRight');

            setTimeout(() => {
                popup.classList.add('slideOutRight');
                popup.classList.remove('slideInRight');
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 500);
            }, 4000);
        }

        // ============================
        // CONFETTI
        // ============================
        function launchConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height * 0.5,
                    size: Math.random() * 5 + 2,
                    speedY: Math.random() * 3 + 2,
                    speedX: Math.random() * 2 - 1,
                    color: `hsl(${Math.random() * 360}, 100%, 60%)`
                });
            }

            let frame = 0;
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    ctx.fillStyle = p.color;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();
                    p.y += p.speedY * 0.5;
                    p.x += p.speedX * 0.5;
                });
                frame++;
                if (frame < 150) {
                    requestAnimationFrame(draw);
                } else {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                }
            }
            draw();
        }

        // ============================
        // COMPLETE QUIZ SYSTEM
        // ============================
        // üî¥ IMPORTANT: Delete the old incomplete `checkQuizAnswer` function 
        //     that appears earlier in your file (around line ~1900).
        //     Then replace it with this fully working version.
        function checkQuizAnswer(element, isCorrect, quizId, xpAmount = 10) {
            if (state.answeredQuestions.has(quizId)) return;
            state.answeredQuestions.add(quizId);

            const question = element.closest('.quiz-question');
            const options = question.querySelectorAll('.quiz-option');
            const explanation = document.getElementById('exp-' + quizId);

            options.forEach(opt => {
                opt.classList.add('disabled');
                opt.style.pointerEvents = 'none';
            });

            if (isCorrect) {
                element.classList.add('correct');
                explanation.classList.add('show', 'correct-exp');
                explanation.innerHTML = '‚úÖ Correct! ' + explanation.innerHTML;
                addXP(xpAmount);
            } else {
                element.classList.add('wrong');
                state.streak = 0;
                options.forEach(opt => {
                    const onclickAttr = opt.getAttribute('onclick');
                    if (onclickAttr && onclickAttr.includes('true')) {
                        opt.classList.add('correct');
                    }
                });
                explanation.classList.add('show', 'wrong-exp');
                explanation.innerHTML = '‚ùå Not quite! ' + explanation.innerHTML;
                updateUI();
            }
            saveState();
        }

        // ============================
        // SHOW COMPLETION
        // ============================
        function showCompletion() {
            document.getElementById('completionMessage').style.display = 'block';
            addXP(50);
            showAchievement('üèÜ JavaScript Basics Master!', 'You completed the entire course!');
            launchConfetti();
        }

        // ============================
        // INITIALIZATION
        // ============================
        document.addEventListener('DOMContentLoaded', function() {
            loadState();

            // Mobile menu toggle
            const menuBtn = document.getElementById('mobileMenuBtn');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');

            menuBtn.addEventListener('click', function() {
                sidebar.classList.add('mobile-open');
                overlay.classList.add('active');
            });

            overlay.addEventListener('click', function() {
                sidebar.classList.remove('mobile-open');
                overlay.classList.remove('active');
            });

            // Create background particles
            const bg = document.getElementById('bgAnimation');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.width = particle.style.height = Math.random() * 6 + 2 + 'px';
                particle.style.animationDuration = Math.random() * 10 + 10 + 's';
                particle.style.animationDelay = Math.random() * -20 + 's';
                particle.style.background = `rgba(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, 0.2)`;
                bg.appendChild(particle);
            }

            // Sync active nav with current lesson from state
            if (state.currentLesson) {
                navigateTo(state.currentLesson);
            }
        });
    </script>
</body>
</html>