<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå± Variable Reassignment Adventure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1000px;
            width: 100%;
            padding: 30px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .game-area {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .character-section {
            flex: 2;
            min-width: 300px;
        }

        .code-section {
            flex: 1;
            min-width: 250px;
            background: #1e1e1e;
            border-radius: 15px;
            padding: 20px;
            color: #fff;
            font-family: 'Courier New', monospace;
        }

        .character-card {
            background: linear-gradient(145deg, #f3f4f6, #ffffff);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            transition: transform 0.3s;
        }

        .character-card:hover {
            transform: translateY(-5px);
        }

        .character-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat-box {
            background: white;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .stat-box.changed {
            animation: pulse 0.5s ease;
            background: #e3f2fd;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); background: #bbdefb; }
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #333;
        }

        .stat-unit {
            font-size: 0.8em;
            color: #999;
            margin-left: 2px;
        }

        .progress-bars {
            margin: 20px 0;
        }

        .progress-item {
            margin: 15px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            color: #555;
        }

        .progress-bar-container {
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .bar-xp { background: linear-gradient(90deg, #4facfe, #00f2fe); }
        .bar-hp { background: linear-gradient(90deg, #ff758c, #ff7eb3); }
        .bar-level { background: linear-gradient(90deg, #f9d423, #ff4e50); }

        .character-image {
            text-align: center;
            font-size: 5em;
            animation: bounce 2s infinite;
            margin: 10px 0;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 25px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-reset {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .code-display {
            background: #2d2d2d;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.9em;
            line-height: 1.6;
            overflow-x: auto;
        }

        .code-comment {
            color: #6a9955;
        }

        .code-variable {
            color: #9cdcfe;
        }

        .code-number {
            color: #b5cea8;
        }

        .console-output {
            background: #1e1e1e;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 12px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            color: #0f0;
            min-height: 80px;
        }

        .tip-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .tip-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 5px;
        }

        .quiz-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }

        .quiz-question {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .quiz-question:hover {
            background: #e9ecef;
        }

        .quiz-question.correct {
            background: #d4edda;
            border-left: 5px solid #28a745;
        }

        .quiz-question.incorrect {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
        }

        .feedback {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
        }

        .mistake-alert {
            background: #ffebee;
            border: 2px dashed #f44336;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }

        .mistake-alert.show {
            display: block;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ Variable Reassignment Adventure</h1>
        <p class="subtitle">Learn how variables change by growing your character!</p>

        <div class="game-area">
            <!-- Character Section -->
            <div class="character-section">
                <div class="character-card">
                    <div class="character-image" id="characterEmoji">üßô‚Äç‚ôÇÔ∏è</div>
                    <h2 style="text-align: center; margin-bottom: 20px;" id="characterName">Wizard Khalid</h2>
                    
                    <div class="character-stats">
                        <div class="stat-box" id="statLevel">
                            <div class="stat-label">Level</div>
                            <div class="stat-value" id="levelValue">1</div>
                        </div>
                        <div class="stat-box" id="statXP">
                            <div class="stat-label">XP</div>
                            <div class="stat-value" id="xpValue">0</div>
                            <span class="stat-unit">/100</span>
                        </div>
                        <div class="stat-box" id="statHP">
                            <div class="stat-label">HP</div>
                            <div class="stat-value" id="hpValue">100</div>
                        </div>
                    </div>

                    <div class="progress-bars">
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>XP Progress</span>
                                <span id="xpPercent">0%</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar bar-xp" id="xpBar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="progress-item">
                            <div class="progress-label">
                                <span>Health</span>
                                <span id="hpPercent">100%</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar bar-hp" id="hpBar" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn" onclick="gainXP()">‚ú® Gain XP (+25)</button>
                        <button class="btn" onclick="takeDamage()">‚öîÔ∏è Take Damage (-20)</button>
                        <button class="btn" onclick="drinkPotion()">üß™ Drink Potion (+30 HP)</button>
                        <button class="btn" onclick="specialQuest()">üåü Special Quest (+50 XP)</button>
                        <button class="btn btn-reset" onclick="resetGame()">üîÑ Reset Game</button>
                        <button class="btn" onclick="ageCharacter()">üéÇ Birthday (+1 Year)</button>
                    </div>
                </div>

                <!-- Live Console Output -->
                <div class="console-output" id="consoleOutput">
                    > Game started! Variables initialized...
                </div>
            </div>

            <!-- Code Section -->
            <div class="code-section">
                <h3 style="color: #fff; margin-bottom: 15px;">üìù Current Variables</h3>
                <div class="code-display" id="codeDisplay">
                    <span class="code-comment">// Character Stats</span><br>
                    let level = <span class="code-number" id="codeLevel">1</span>;<br>
                    let xp = <span class="code-number" id="codeXP">0</span>;<br>
                    let hp = <span class="code-number" id="codeHP">100</span>;<br>
                    let age = <span class="code-number" id="codeAge">12</span>;<br><br>
                    <span class="code-comment">// Inventory</span><br>
                    let gold = <span class="code-number" id="codeGold">50</span>;<br>
                    let potions = <span class="code-number" id="codePotions">3</span>;
                </div>

                <!-- Tips Section -->
                <div class="tip-box">
                    <div class="tip-title">üí° Pro Tips</div>
                    <ul style="margin-left: 20px; color: #856404;">
                        <li>Variables change with each action!</li>
                        <li>Use 'let' only when creating variables</li>
                        <li>Reassign without 'let': xp = xp + 25</li>
                        <li>Watch the animations when values change</li>
                    </ul>
                </div>

                <!-- Common Mistakes Alert -->
                <div class="mistake-alert" id="mistakeAlert">
                    <strong>‚ö†Ô∏è Common Mistake Alert!</strong><br>
                    Don't use 'let' again when reassigning!<br>
                    <span style="font-family: monospace;">
                        ‚ùå let xp = xp + 25<br>
                        ‚úÖ xp = xp + 25
                    </span>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-section">
            <h3 style="margin-bottom: 15px;">üìö Quick Quiz (Click to test yourself!)</h3>
            
            <div class="quiz-question" onclick="checkAnswer(this, 'A')" data-correct="A">
                <strong>Q1:</strong> What's the correct way to increase age by 1?<br>
                A) age = age + 1<br>
                B) let age = age + 1<br>
                C) const age = age + 1
            </div>

            <div class="quiz-question" onclick="checkAnswer(this, 'B')" data-correct="B">
                <strong>Q2:</strong> After running: let score = 10; score = 15; let score = 20;<br>
                What happens?<br>
                A) score becomes 20<br>
                B) Error - can't redeclare with let<br>
                C) score becomes 15
            </div>

            <div class="quiz-question" onclick="checkAnswer(this, 'C')" data-correct="C">
                <strong>Q3:</strong> What will console show?<br>
                let xp = 50; xp = 75; console.log("XP: " + xp);<br>
                A) XP: 50<br>
                B) XP: 125<br>
                C) XP: 75
            </div>

            <div class="feedback" id="quizFeedback"></div>
        </div>

        <!-- Exercise Section -->
        <div style="margin-top: 30px; background: #e8f5e9; padding: 20px; border-radius: 15px;">
            <h3 style="color: #2e7d32; margin-bottom: 10px;">üéØ Practice Exercises</h3>
            <ol style="color: #1b5e20; line-height: 1.8;">
                <li>Click "Gain XP" 4 times - what happens when XP reaches 100?</li>
                <li>Try to go below 0 HP - what protection is in place?</li>
                <li>Use "Birthday" 5 times and watch age change</li>
                <li>Find the bug: Why can't we use 'let' when reassigning?</li>
                <li>Challenge: Get to level 5 without dying!</li>
            </ol>
        </div>
    </div>

    <script>
        // ========== VARIABLE DECLARATIONS ==========
        // These are our game variables - they will CHANGE!
        let playerName = "Khalid";
        let level = 1;
        let xp = 0;
        let hp = 100;
        let age = 12;
        let gold = 50;
        let potions = 3;
        
        // Track if we've shown the mistake alert
        let mistakeShown = false;

        // ========== HELPER FUNCTIONS ==========
        function updateDisplay(ChangedStat = null) {
            // Update all displayed values
            document.getElementById('levelValue').textContent = level;
            document.getElementById('xpValue').textContent = xp;
            document.getElementById('hpValue').textContent = hp;
            document.getElementById('characterName').textContent = `Wizard ${playerName}`;
            
            // Update code display
            document.getElementById('codeLevel').textContent = level;
            document.getElementById('codeXP').textContent = xp;
            document.getElementById('codeHP').textContent = hp;
            document.getElementById('codeAge').textContent = age;
            document.getElementById('codeGold').textContent = gold;
            document.getElementById('codePotions').textContent = potions;
            
            // Update progress bars
            let xpPercent = (xp / 100) * 100;
            let hpPercent = (hp / 100) * 100;
            
            document.getElementById('xpBar').style.width = Math.min(xpPercent, 100) + '%';
            document.getElementById('hpBar').style.width = Math.max(hpPercent, 0) + '%';
            document.getElementById('xpPercent').textContent = Math.min(xpPercent, 100) + '%';
            document.getElementById('hpPercent').textContent = Math.max(hpPercent, 0) + '%';
            
            // Animate changed stat
            if (ChangedStat) {
                let statBox = document.getElementById('stat' + ChangedStat);
                if (statBox) {
                    statBox.classList.add('changed');
                    setTimeout(() => statBox.classList.remove('changed'), 500);
                }
            }
            
            // Update character emoji based on level
            updateCharacterEmoji();
        }

        function updateCharacterEmoji() {
            let emoji = 'üßô‚Äç‚ôÇÔ∏è'; // Default wizard
            if (level >= 5) emoji = 'üßù‚Äç‚ôÇÔ∏è'; // Elite
            if (level >= 10) emoji = 'üëë'; // King
            if (hp < 30) emoji = 'üò´'; // Hurt
            document.getElementById('characterEmoji').textContent = emoji;
        }

        function addToConsole(message, isError = false) {
            let consoleDiv = document.getElementById('consoleOutput');
            let color = isError ? '#ff6b6b' : '#0f0';
            consoleDiv.innerHTML = '> ' + message + '<br>' + consoleDiv.innerHTML;
            if (consoleDiv.children.length > 5) {
                consoleDiv.removeChild(consoleDiv.lastChild);
            }
        }

        function showMistakeAlert() {
            if (!mistakeShown) {
                document.getElementById('mistakeAlert').classList.add('show');
                mistakeShown = true;
                setTimeout(() => {
                    document.getElementById('mistakeAlert').classList.remove('show');
                    mistakeShown = false;
                }, 3000);
            }
        }

        // ========== GAME ACTIONS (VARIABLE REASSIGNMENT IN ACTION!) ==========
        
        function gainXP() {
            // REASSIGNMENT: xp changes!
            let oldXP = xp;
            xp = xp + 25;
            
            addToConsole(`Gained 25 XP! (${oldXP} ‚Üí ${xp})`);
            
            // Check for level up!
            if (xp >= 100) {
                // REASSIGNMENT: level and xp both change!
                level = level + 1;
                xp = xp - 100;  // Keep extra XP
                addToConsole(`üéâ LEVEL UP! Now level ${level}!`);
                
                // Level up bonus!
                hp = hp + 20;
                addToConsole(`‚ù§Ô∏è Gained 20 HP from level up!`);
            }
            
            updateDisplay('XP');
        }

        function takeDamage() {
            if (hp <= 0) {
                addToConsole("‚ùå Can't take damage - you're already defeated!", true);
                return;
            }
            
            // REASSIGNMENT: hp decreases
            let oldHP = hp;
            hp = hp - 20;
            
            // Don't go below 0
            if (hp < 0) hp = 0;
            
            addToConsole(`Took 20 damage! (${oldHP} ‚Üí ${hp})`);
            
            if (hp <= 0) {
                addToConsole("üíÄ You've been defeated! Click Reset to play again.");
                document.getElementById('characterEmoji').textContent = 'üíÄ';
            }
            
            updateDisplay('HP');
        }

        function drinkPotion() {
            if (potions <= 0) {
                addToConsole("‚ùå No potions left! Complete quests for more!", true);
                showMistakeAlert(); // Show common mistake example
                return;
            }
            
            // REASSIGNMENT: potions decrease, hp increases
            let oldPotions = potions;
            let oldHP = hp;
            
            potions = potions - 1;
            hp = hp + 30;
            
            // Cap at 100
            if (hp > 100) hp = 100;
            
            addToConsole(`üß™ Used a potion! (${oldPotions} ‚Üí ${potions} potions, HP: ${oldHP} ‚Üí ${hp})`);
            updateDisplay('HP');
        }

        function specialQuest() {
            // REASSIGNMENT: multiple variables change!
            let oldXP = xp;
            let oldGold = gold;
            
            xp = xp + 50;
            gold = gold + 100;
            potions = potions + 2;
            
            addToConsole(`üåü Completed special quest! +50 XP, +100 Gold, +2 Potions!`);
            addToConsole(`   XP: ${oldXP} ‚Üí ${xp}, Gold: ${oldGold} ‚Üí ${gold}`);
            
            // Check for level up from quest
            if (xp >= 100) {
                level = level + 1;
                xp = xp - 100;
                hp = hp + 20;
                addToConsole(`üéâ LEVEL UP from quest! Now level ${level}!`);
            }
            
            updateDisplay('XP');
        }

        function ageCharacter() {
            // REASSIGNMENT: simple age increase
            let oldAge = age;
            age = age + 1;
            
            addToConsole(`üéÇ Happy Birthday! Age: ${oldAge} ‚Üí ${age}`);
            
            // Age affects character
            if (age >= 18) {
                addToConsole(`üåü You're now an adult wizard! New powers unlocked!`);
            }
            
            updateDisplay();
        }

        function resetGame() {
            // RESET all variables to starting values
            level = 1;
            xp = 0;
            hp = 100;
            age = 12;
            gold = 50;
            potions = 3;
            
            addToConsole(`üîÑ Game reset! All variables back to starting values.`);
            updateDisplay();
        }

        // ========== QUIZ FUNCTION ==========
        function checkAnswer(element, selected) {
            let correct = element.getAttribute('data-correct');
            let feedback = document.getElementById('quizFeedback');
            
            // Remove previous highlighting
            document.querySelectorAll('.quiz-question').forEach(q => {
                q.classList.remove('correct', 'incorrect');
            });
            
            if (selected === correct) {
                element.classList.add('correct');
                feedback.className = 'feedback success show';
                feedback.innerHTML = '‚úÖ Correct! Great job understanding variable reassignment!';
                
                // Bonus XP for correct answer!
                xp = xp + 10;
                if (xp >= 100) {
                    level = level + 1;
                    xp = xp - 100;
                }
                updateDisplay('XP');
                addToConsole(`üìö +10 XP for correct answer!`);
            } else {
                element.classList.add('incorrect');
                feedback.className = 'feedback error show';
                feedback.innerHTML = '‚ùå Not quite! Remember: use let only once, then just variable name = new value';
                showMistakeAlert();
            }
            
            setTimeout(() => {
                feedback.classList.remove('show');
            }, 3000);
        }

        // Initialize display
        updateDisplay();
        addToConsole("Game ready! Try clicking the buttons to see variables change!");
    </script>
</body>
</html>