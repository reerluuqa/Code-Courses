<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚öõÔ∏è React Mastery Academy</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0e17;--surface:#111827;--surface2:#1e293b;--surface3:#283548;
  --react:#61dafb;--react2:#087ea4;--green:#10b981;--red:#ef4444;
  --orange:#f59e0b;--purple:#8b5cf6;--pink:#ec4899;
  --text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;
  --code-bg:#0d1117;--radius:12px;
  --font:'Segoe UI',system-ui,-apple-system,sans-serif;
  --mono:'Fira Code','Cascadia Code','JetBrains Mono',monospace;
}
html{scroll-behavior:smooth}
body{font-family:var(--font);background:var(--bg);color:var(--text);min-height:100vh;display:flex;overflow:hidden}

/* Sidebar */
#sidebar{width:280px;min-width:280px;background:var(--surface);border-right:1px solid rgba(97,218,251,.1);display:flex;flex-direction:column;height:100vh;overflow-y:auto;z-index:100;transition:transform .3s}
#sidebar::-webkit-scrollbar{width:4px}
#sidebar::-webkit-scrollbar-thumb{background:var(--react);border-radius:4px}
.logo{padding:24px 20px;text-align:center;border-bottom:1px solid rgba(97,218,251,.1)}
.logo h1{font-size:1.3rem;background:linear-gradient(135deg,var(--react),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:800}
.logo .subtitle{font-size:.75rem;color:var(--text3);margin-top:4px;letter-spacing:2px;text-transform:uppercase}
.xp-bar{margin:16px 20px;padding:12px 16px;background:var(--surface2);border-radius:var(--radius);border:1px solid rgba(97,218,251,.1)}
.xp-bar .xp-label{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text2);margin-bottom:8px}
.xp-bar .xp-label span:last-child{color:var(--react);font-weight:700}
.xp-track{height:6px;background:var(--surface3);border-radius:3px;overflow:hidden}
.xp-fill{height:100%;background:linear-gradient(90deg,var(--react),var(--purple));border-radius:3px;transition:width .5s ease;width:0%}
.nav-section{padding:8px 12px;margin-top:8px}
.nav-section-title{font-size:.65rem;text-transform:uppercase;letter-spacing:2px;color:var(--text3);padding:8px;font-weight:600}
.nav-item{display:flex;align-items:center;gap:12px;padding:10px 16px;border-radius:8px;cursor:pointer;transition:all .2s;color:var(--text2);font-size:.88rem;position:relative;margin:2px 0}
.nav-item:hover{background:rgba(97,218,251,.05);color:var(--text)}
.nav-item.active{background:rgba(97,218,251,.1);color:var(--react);font-weight:600}
.nav-item.active::before{content:'';position:absolute;left:0;top:50%;transform:translateY(-50%);width:3px;height:60%;background:var(--react);border-radius:0 3px 3px 0}
.nav-icon{font-size:1.2rem;width:28px;text-align:center}
.nav-item .check{margin-left:auto;font-size:.8rem;opacity:0;transition:opacity .3s}
.nav-item.completed .check{opacity:1}
.streak-badge{margin:12px 20px;padding:14px;background:linear-gradient(135deg,rgba(245,158,11,.1),rgba(239,68,68,.1));border:1px solid rgba(245,158,11,.2);border-radius:var(--radius);text-align:center}
.streak-badge .streak-num{font-size:1.8rem;font-weight:800;color:var(--orange)}
.streak-badge .streak-label{font-size:.7rem;color:var(--text3);text-transform:uppercase;letter-spacing:1px}

/* Main Content */
#main{flex:1;height:100vh;overflow-y:auto;scroll-behavior:smooth}
#main::-webkit-scrollbar{width:8px}
#main::-webkit-scrollbar-thumb{background:var(--surface3);border-radius:4px}
#main::-webkit-scrollbar-track{background:transparent}
.section{display:none;padding:0;min-height:100vh;animation:fadeIn .4s ease}
.section.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

.section-header{padding:48px 48px 32px;background:linear-gradient(180deg,rgba(97,218,251,.03) 0%,transparent 100%);border-bottom:1px solid rgba(97,218,251,.06)}
.section-header .breadcrumb{font-size:.75rem;color:var(--text3);margin-bottom:12px;display:flex;align-items:center;gap:8px}
.section-header h2{font-size:2.2rem;font-weight:800;margin-bottom:8px;background:linear-gradient(135deg,#fff,var(--react));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.section-header p{color:var(--text2);font-size:1rem;max-width:600px;line-height:1.6}
.section-body{padding:32px 48px 80px;max-width:900px}

/* Content Elements */
.lesson-block{margin-bottom:40px}
.lesson-block h3{font-size:1.4rem;font-weight:700;margin-bottom:16px;color:#fff;display:flex;align-items:center;gap:10px}
.lesson-block h3 .icon{font-size:1.2rem}
.lesson-block p,.lesson-block li{line-height:1.8;color:var(--text2);font-size:.95rem;margin-bottom:12px}
.lesson-block ul,.lesson-block ol{padding-left:20px;margin-bottom:16px}
.lesson-block li{margin-bottom:6px}
.highlight{color:var(--react);font-weight:600}
.keyword{background:rgba(97,218,251,.1);color:var(--react);padding:2px 8px;border-radius:4px;font-family:var(--mono);font-size:.85rem}

/* Code Blocks */
.code-block{background:var(--code-bg);border:1px solid rgba(97,218,251,.1);border-radius:var(--radius);margin:16px 0 24px;overflow:hidden}
.code-header{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:rgba(97,218,251,.03);border-bottom:1px solid rgba(97,218,251,.08)}
.code-header .lang{font-size:.7rem;color:var(--react);text-transform:uppercase;letter-spacing:1px;font-weight:600}
.code-header .copy-btn{background:none;border:1px solid rgba(97,218,251,.2);color:var(--text3);padding:4px 12px;border-radius:6px;font-size:.7rem;cursor:pointer;transition:all .2s}
.code-header .copy-btn:hover{background:rgba(97,218,251,.1);color:var(--react)}
.code-content{padding:20px;font-family:var(--mono);font-size:.85rem;line-height:1.7;overflow-x:auto;white-space:pre;color:var(--text2);tab-size:2}
.code-content::-webkit-scrollbar{height:4px}
.code-content::-webkit-scrollbar-thumb{background:var(--surface3);border-radius:2px}

/* Syntax Colors */
.syn-kw{color:#c678dd}
.syn-fn{color:#61afef}
.syn-str{color:#98c379}
.syn-num{color:#d19a66}
.syn-cm{color:#5c6370;font-style:italic}
.syn-tag{color:#e06c75}
.syn-attr{color:#d19a66}
.syn-comp{color:#61dafb}
.syn-op{color:#56b6c2}
.syn-br{color:#abb2bf}
.syn-prop{color:#e5c07b}

/* Visual Diagrams */
.visual-box{background:var(--surface2);border:1px solid rgba(97,218,251,.1);border-radius:var(--radius);padding:32px;margin:24px 0;text-align:center;position:relative;overflow:hidden}
.visual-box::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--react),var(--purple),var(--pink))}
.visual-title{font-size:.75rem;color:var(--text3);text-transform:uppercase;letter-spacing:2px;margin-bottom:20px}

/* Component Tree Viz */
.tree{display:flex;flex-direction:column;align-items:center;gap:0}
.tree-node{background:linear-gradient(135deg,rgba(97,218,251,.15),rgba(139,92,246,.15));border:2px solid rgba(97,218,251,.3);border-radius:10px;padding:10px 20px;font-family:var(--mono);font-size:.85rem;color:var(--react);font-weight:600;position:relative;transition:all .3s}
.tree-node:hover{transform:scale(1.05);border-color:var(--react)}
.tree-node.highlight-node{background:linear-gradient(135deg,rgba(97,218,251,.25),rgba(139,92,246,.25));border-color:var(--react);box-shadow:0 0 20px rgba(97,218,251,.2)}
.tree-connector{width:2px;height:24px;background:rgba(97,218,251,.3)}
.tree-branch{display:flex;gap:40px;align-items:flex-start;position:relative}
.tree-branch::before{content:'';position:absolute;top:-24px;left:50%;transform:translateX(-50%);width:2px;height:24px;background:rgba(97,218,251,.3)}
.tree-branch-h{position:absolute;top:-24px;height:2px;background:rgba(97,218,251,.3)}

/* Info Boxes */
.info-box{padding:16px 20px;border-radius:var(--radius);margin:16px 0;display:flex;gap:12px;align-items:flex-start}
.info-box.tip{background:rgba(16,185,129,.08);border:1px solid rgba(16,185,129,.2)}
.info-box.tip .info-icon{color:var(--green)}
.info-box.warn{background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.2)}
.info-box.warn .info-icon{color:var(--orange)}
.info-box.danger{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.2)}
.info-box.danger .info-icon{color:var(--red)}
.info-box.info{background:rgba(97,218,251,.05);border:1px solid rgba(97,218,251,.15)}
.info-box.info .info-icon{color:var(--react)}
.info-icon{font-size:1.2rem;flex-shrink:0;margin-top:2px}
.info-content{font-size:.88rem;line-height:1.7;color:var(--text2)}
.info-content strong{color:var(--text)}

/* Pitfall Cards */
.pitfall-card{background:var(--surface2);border:1px solid rgba(239,68,68,.15);border-radius:var(--radius);margin:20px 0;overflow:hidden}
.pitfall-header{display:flex;align-items:center;gap:10px;padding:14px 20px;background:rgba(239,68,68,.05);border-bottom:1px solid rgba(239,68,68,.1);cursor:pointer}
.pitfall-header h4{font-size:.95rem;color:var(--red);font-weight:600;flex:1}
.pitfall-header .toggle-icon{color:var(--text3);transition:transform .3s}
.pitfall-header.open .toggle-icon{transform:rotate(180deg)}
.pitfall-body{padding:0 20px;max-height:0;overflow:hidden;transition:all .3s ease}
.pitfall-body.open{padding:16px 20px;max-height:1000px}
.vs-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:12px 0}
.vs-card{border-radius:8px;overflow:hidden}
.vs-card.wrong{border:1px solid rgba(239,68,68,.2)}
.vs-card.right{border:1px solid rgba(16,185,129,.2)}
.vs-label{padding:6px 12px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;text-align:center}
.vs-card.wrong .vs-label{background:rgba(239,68,68,.1);color:var(--red)}
.vs-card.right .vs-label{background:rgba(16,185,129,.1);color:var(--green)}
.vs-code{padding:12px;background:var(--code-bg);font-family:var(--mono);font-size:.78rem;line-height:1.6;white-space:pre;color:var(--text2)}

/* Quiz */
.quiz-container{margin:24px 0}
.quiz-question{background:var(--surface2);border:1px solid rgba(97,218,251,.1);border-radius:var(--radius);padding:24px;margin-bottom:20px;transition:all .3s}
.quiz-question.answered-correct{border-color:rgba(16,185,129,.3)}
.quiz-question.answered-wrong{border-color:rgba(239,68,68,.3)}
.quiz-q{font-size:1rem;font-weight:600;margin-bottom:16px;color:#fff;display:flex;gap:12px}
.quiz-q .q-num{color:var(--react);font-weight:800;flex-shrink:0}
.quiz-options{display:flex;flex-direction:column;gap:8px}
.quiz-opt{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--surface);border:1px solid rgba(97,218,251,.08);border-radius:8px;cursor:pointer;transition:all .2s;font-size:.9rem;color:var(--text2)}
.quiz-opt:hover:not(.disabled){background:rgba(97,218,251,.05);border-color:rgba(97,218,251,.2);color:var(--text)}
.quiz-opt.selected{background:rgba(97,218,251,.1);border-color:var(--react);color:var(--react)}
.quiz-opt.correct{background:rgba(16,185,129,.1);border-color:var(--green);color:var(--green)}
.quiz-opt.incorrect{background:rgba(239,68,68,.1);border-color:var(--red);color:var(--red)}
.quiz-opt.disabled{cursor:default;opacity:.7}
.quiz-opt .opt-letter{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;flex-shrink:0;background:rgba(97,218,251,.08);color:var(--text3)}
.quiz-opt.correct .opt-letter{background:rgba(16,185,129,.2);color:var(--green)}
.quiz-opt.incorrect .opt-letter{background:rgba(239,68,68,.2);color:var(--red)}
.quiz-explanation{margin-top:12px;padding:12px 16px;border-radius:8px;font-size:.85rem;line-height:1.6;display:none}
.quiz-explanation.show{display:block}
.quiz-explanation.correct{background:rgba(16,185,129,.08);border:1px solid rgba(16,185,129,.15);color:var(--green)}
.quiz-explanation.incorrect{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.15);color:var(--text2)}

/* Exercise */
.exercise-box{background:var(--surface2);border:2px solid rgba(139,92,246,.2);border-radius:var(--radius);padding:24px;margin:24px 0;position:relative;overflow:hidden}
.exercise-box::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--purple),var(--pink))}
.exercise-title{display:flex;align-items:center;gap:10px;font-size:1.1rem;font-weight:700;color:var(--purple);margin-bottom:12px}
.exercise-desc{color:var(--text2);font-size:.9rem;line-height:1.7;margin-bottom:16px}
.exercise-editor{background:var(--code-bg);border:1px solid rgba(97,218,251,.1);border-radius:8px;overflow:hidden;margin:12px 0}
.exercise-editor textarea{width:100%;min-height:150px;padding:16px;background:transparent;border:none;color:var(--text);font-family:var(--mono);font-size:.85rem;line-height:1.7;resize:vertical;outline:none}
.exercise-editor textarea::placeholder{color:var(--text3)}
.exercise-actions{display:flex;gap:12px;margin-top:16px;align-items:center}
.btn{padding:10px 24px;border-radius:8px;border:none;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:var(--font)}
.btn-primary{background:linear-gradient(135deg,var(--react),var(--react2));color:#fff}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(97,218,251,.3)}
.btn-secondary{background:var(--surface3);color:var(--text2);border:1px solid rgba(97,218,251,.1)}
.btn-secondary:hover{color:var(--text);border-color:rgba(97,218,251,.2)}
.exercise-result{margin-top:12px;padding:12px 16px;border-radius:8px;font-size:.88rem;display:none}
.exercise-result.show{display:flex;align-items:center;gap:10px}
.exercise-result.pass{background:rgba(16,185,129,.08);border:1px solid rgba(16,185,129,.15);color:var(--green)}
.exercise-result.fail{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.15);color:var(--red)}

/* Interactive Demos */
.demo-box{background:var(--surface2);border:1px solid rgba(97,218,251,.15);border-radius:var(--radius);overflow:hidden;margin:20px 0}
.demo-header{padding:12px 16px;background:rgba(97,218,251,.03);border-bottom:1px solid rgba(97,218,251,.08);display:flex;align-items:center;justify-content:space-between}
.demo-header .demo-title{font-size:.8rem;color:var(--react);font-weight:600;display:flex;align-items:center;gap:8px}
.demo-header .live-badge{background:var(--green);color:#fff;font-size:.6rem;padding:2px 8px;border-radius:10px;font-weight:700;text-transform:uppercase}
.demo-body{padding:24px;display:flex;gap:24px;flex-wrap:wrap}
.demo-code-side{flex:1;min-width:300px}
.demo-output-side{flex:1;min-width:200px}
.demo-output{background:var(--surface);border:1px solid rgba(97,218,251,.1);border-radius:8px;padding:20px;min-height:100px}
.demo-output-label{font-size:.7rem;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}

/* State Visualizer */
.state-viz{display:flex;align-items:center;justify-content:center;gap:20px;flex-wrap:wrap;margin:16px 0}
.state-box{background:var(--code-bg);border:2px solid rgba(97,218,251,.2);border-radius:12px;padding:16px 24px;text-align:center;transition:all .3s}
.state-box.active-state{border-color:var(--react);box-shadow:0 0 20px rgba(97,218,251,.15)}
.state-box .state-label{font-size:.65rem;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.state-box .state-value{font-size:1.8rem;font-weight:800;color:var(--react);font-family:var(--mono)}
.state-arrow{color:var(--text3);font-size:1.2rem}

/* Counter Demo */
.counter-demo{text-align:center}
.counter-display{font-size:3rem;font-weight:800;color:var(--react);margin:16px 0;font-family:var(--mono);transition:all .2s}
.counter-display.bump{transform:scale(1.2);color:var(--green)}
.counter-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.counter-btn{width:48px;height:48px;border-radius:50%;border:2px solid rgba(97,218,251,.3);background:rgba(97,218,251,.05);color:var(--react);font-size:1.4rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;font-weight:700}
.counter-btn:hover{background:rgba(97,218,251,.15);border-color:var(--react);transform:scale(1.1)}

/* Lifecycle Animation */
.lifecycle-container{position:relative;padding:20px}
.lifecycle-phases{display:flex;justify-content:center;gap:32px;margin:24px 0;flex-wrap:wrap}
.lifecycle-phase{text-align:center;padding:20px 24px;border-radius:var(--radius);border:2px solid transparent;transition:all .5s;cursor:pointer;min-width:140px}
.lifecycle-phase.mount{border-color:rgba(16,185,129,.3);background:rgba(16,185,129,.05)}
.lifecycle-phase.mount.active{border-color:var(--green);background:rgba(16,185,129,.1);box-shadow:0 0 25px rgba(16,185,129,.15)}
.lifecycle-phase.update{border-color:rgba(97,218,251,.3);background:rgba(97,218,251,.05)}
.lifecycle-phase.update.active{border-color:var(--react);background:rgba(97,218,251,.1);box-shadow:0 0 25px rgba(97,218,251,.15)}
.lifecycle-phase.unmount{border-color:rgba(239,68,68,.3);background:rgba(239,68,68,.05)}
.lifecycle-phase.unmount.active{border-color:var(--red);background:rgba(239,68,68,.1);box-shadow:0 0 25px rgba(239,68,68,.15)}
.lifecycle-phase .phase-icon{font-size:2rem;margin-bottom:8px}
.lifecycle-phase .phase-name{font-weight:700;font-size:.85rem;margin-bottom:4px}
.lifecycle-phase .phase-desc{font-size:.7rem;color:var(--text3)}
.lifecycle-log{background:var(--code-bg);border:1px solid rgba(97,218,251,.1);border-radius:8px;padding:16px;margin-top:16px;max-height:200px;overflow-y:auto;font-family:var(--mono);font-size:.8rem}
.log-entry{padding:4px 0;color:var(--text2);opacity:0;animation:logIn .3s ease forwards}
.log-entry .log-time{color:var(--text3);margin-right:8px}
.log-entry.mount-log{color:var(--green)}
.log-entry.update-log{color:var(--react)}
.log-entry.unmount-log{color:var(--red)}
@keyframes logIn{from{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}

/* Tabs */
.tabs{display:flex;gap:4px;margin-bottom:20px;overflow-x:auto;padding-bottom:4px}
.tab{padding:8px 20px;border-radius:8px;font-size:.82rem;color:var(--text3);cursor:pointer;transition:all .2s;white-space:nowrap;font-weight:500;border:1px solid transparent}
.tab:hover{color:var(--text);background:rgba(97,218,251,.05)}
.tab.active{background:rgba(97,218,251,.1);color:var(--react);font-weight:600;border-color:rgba(97,218,251,.2)}
.tab-content{display:none}
.tab-content.active{display:block;animation:fadeIn .3s ease}

/* Cards Grid */
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;margin:20px 0}
.topic-card{background:var(--surface2);border:1px solid rgba(97,218,251,.08);border-radius:var(--radius);padding:24px;cursor:pointer;transition:all .3s;position:relative;overflow:hidden}
.topic-card:hover{border-color:rgba(97,218,251,.2);transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,0,0,.3)}
.topic-card .card-icon{font-size:2rem;margin-bottom:12px}
.topic-card h4{font-size:1rem;font-weight:700;color:#fff;margin-bottom:6px}
.topic-card p{font-size:.8rem;color:var(--text3);line-height:1.5}
.topic-card .card-progress{margin-top:12px;height:4px;background:var(--surface3);border-radius:2px;overflow:hidden}
.topic-card .card-progress-fill{height:100%;background:linear-gradient(90deg,var(--react),var(--purple));border-radius:2px;transition:width .5s}

/* Score */
.quiz-score{text-align:center;padding:40px;background:var(--surface2);border-radius:var(--radius);margin:24px 0}
.quiz-score .score-circle{width:120px;height:120px;border-radius:50%;border:4px solid var(--react);display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:2rem;font-weight:800;color:var(--react)}
.quiz-score .score-text{font-size:1.1rem;font-weight:600;color:var(--text)}
.quiz-score .score-sub{color:var(--text3);font-size:.85rem;margin-top:8px}

/* Floating Particles */
.particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;overflow:hidden}
.particle{position:absolute;background:var(--react);border-radius:50%;opacity:.1;animation:float linear infinite}
@keyframes float{0%{transform:translateY(100vh) rotate(0deg);opacity:0}10%{opacity:.1}90%{opacity:.1}100%{transform:translateY(-100px) rotate(720deg);opacity:0}}

/* Props Flow Diagram */
.flow-diagram{display:flex;align-items:center;justify-content:center;gap:16px;flex-wrap:wrap;margin:20px 0}
.flow-box{padding:14px 24px;border-radius:10px;font-family:var(--mono);font-size:.85rem;font-weight:600;position:relative}
.flow-parent{background:rgba(139,92,246,.1);border:2px solid rgba(139,92,246,.3);color:var(--purple)}
.flow-child{background:rgba(97,218,251,.1);border:2px solid rgba(97,218,251,.3);color:var(--react)}
.flow-arrow{color:var(--text3);font-size:1.5rem;animation:pulse 2s infinite}
.flow-data{background:rgba(16,185,129,.1);border:2px dashed rgba(16,185,129,.3);color:var(--green);font-size:.75rem;padding:6px 14px;border-radius:20px}
@keyframes pulse{0%,100%{opacity:.5}50%{opacity:1}}

/* Responsive */
@media(max-width:768px){
  #sidebar{position:fixed;left:0;top:0;transform:translateX(-100%)}
  #sidebar.open{transform:translateX(0)}
  .section-header{padding:24px 20px 20px}
  .section-body{padding:20px 20px 60px}
  .vs-grid{grid-template-columns:1fr}
  .demo-body{flex-direction:column}
  .mobile-toggle{display:flex!important}
}
.mobile-toggle{display:none;position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;background:var(--react);color:var(--bg);border:none;font-size:1.5rem;cursor:pointer;z-index:200;box-shadow:0 4px 20px rgba(97,218,251,.4);align-items:center;justify-content:center}

/* Animations */
@keyframes slideRight{from{transform:translateX(-20px);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes scaleIn{from{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}
.animate-in{animation:slideRight .4s ease forwards}
.scale-in{animation:scaleIn .3s ease forwards}

/* Progress Steps */
.progress-steps{display:flex;justify-content:center;gap:8px;margin:20px 0;flex-wrap:wrap}
.progress-step{width:32px;height:4px;border-radius:2px;background:var(--surface3);transition:all .3s}
.progress-step.done{background:var(--react)}
.progress-step.current{background:var(--orange)}

/* Badge */
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:20px;font-size:.7rem;font-weight:600}
.badge-easy{background:rgba(16,185,129,.1);color:var(--green)}
.badge-medium{background:rgba(245,158,11,.1);color:var(--orange)}
.badge-hard{background:rgba(239,68,68,.1);color:var(--red)}

/* Comparison Table */
.comp-table{width:100%;border-collapse:collapse;margin:16px 0;font-size:.85rem}
.comp-table th{padding:12px 16px;text-align:left;background:rgba(97,218,251,.05);color:var(--react);font-weight:600;border-bottom:2px solid rgba(97,218,251,.1)}
.comp-table td{padding:10px 16px;border-bottom:1px solid rgba(97,218,251,.05);color:var(--text2)}
.comp-table tr:hover td{background:rgba(97,218,251,.02)}

/* Accordion */
.accordion{margin:16px 0}
.accordion-item{border:1px solid rgba(97,218,251,.1);border-radius:8px;margin-bottom:8px;overflow:hidden}
.accordion-header{padding:14px 20px;background:var(--surface2);cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:all .2s;font-weight:600;font-size:.9rem}
.accordion-header:hover{background:var(--surface3)}
.accordion-body{max-height:0;overflow:hidden;transition:max-height .3s ease;background:var(--surface)}
.accordion-body.open{max-height:800px}
.accordion-body-inner{padding:16px 20px}

.complete-section-btn{margin-top:32px;padding:14px 32px;background:linear-gradient(135deg,var(--green),#059669);border:none;border-radius:var(--radius);color:#fff;font-weight:700;font-size:.95rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:8px;font-family:var(--font)}
.complete-section-btn:hover{transform:translateY(-2px);box-shadow:0 4px 20px rgba(16,185,129,.3)}
.complete-section-btn.completed{background:var(--surface3);color:var(--text3);cursor:default}
.complete-section-btn.completed:hover{transform:none;box-shadow:none}
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞</button>

<nav id="sidebar">
  <div class="logo">
    <h1>‚öõÔ∏è React Mastery</h1>
    <div class="subtitle">Interactive Academy</div>
  </div>
  <div class="xp-bar">
    <div class="xp-label"><span>Progress</span><span id="xp-text">0 / 800 XP</span></div>
    <div class="xp-track"><div class="xp-fill" id="xp-fill"></div></div>
  </div>
  <div class="streak-badge">
    <div class="streak-num" id="streak-num">0</div>
    <div class="streak-label">Correct Streak üî•</div>
  </div>
  <div class="nav-section">
    <div class="nav-section-title">Getting Started</div>
    <div class="nav-item active" onclick="showSection('dashboard')" data-section="dashboard">
      <span class="nav-icon">üè†</span>Dashboard<span class="check">‚úÖ</span>
    </div>
  </div>
  <div class="nav-section">
    <div class="nav-section-title">Core Concepts</div>
    <div class="nav-item" onclick="showSection('components')" data-section="components">
      <span class="nav-icon">üß±</span>Components & JSX<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('props')" data-section="props">
      <span class="nav-icon">üì¶</span>Props<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('state')" data-section="state">
      <span class="nav-icon">üîÑ</span>State & useState<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('useeffect')" data-section="useeffect">
      <span class="nav-icon">‚ö°</span>useEffect<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('lifecycle')" data-section="lifecycle">
      <span class="nav-icon">üîÅ</span>Lifecycle<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('events')" data-section="events">
      <span class="nav-icon">üñ±Ô∏è</span>Event Handling<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('architecture')" data-section="architecture">
      <span class="nav-icon">üèóÔ∏è</span>Architecture<span class="check">‚úÖ</span>
    </div>
  </div>
  <div class="nav-section">
    <div class="nav-section-title">Practice</div>
    <div class="nav-item" onclick="showSection('pitfalls')" data-section="pitfalls">
      <span class="nav-icon">‚ö†Ô∏è</span>Pitfalls & Mistakes<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('quiz')" data-section="quiz">
      <span class="nav-icon">üéØ</span>Quiz Arena<span class="check">‚úÖ</span>
    </div>
    <div class="nav-item" onclick="showSection('challenges')" data-section="challenges">
      <span class="nav-icon">üí™</span>Challenges<span class="check">‚úÖ</span>
    </div>
  </div>
</nav>

<main id="main">

<!-- =================== DASHBOARD =================== -->
<div class="section active" id="sec-dashboard">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Dashboard</div>
    <h2>Welcome, Future React Developer! üöÄ</h2>
    <p>Master React fundamentals through interactive lessons, visual explanations, and hands-on exercises. Let's build something amazing!</p>
  </div>
  <div class="section-body">
    <div class="lesson-block">
      <h3><span class="icon">üìã</span> Your Learning Path</h3>
      <p>Click any topic below to start learning. Complete each section to earn XP and track your progress.</p>
    </div>
    <div class="cards-grid" id="dashboard-cards">
      <div class="topic-card" onclick="showSection('components')">
        <div class="card-icon">üß±</div>
        <h4>Components & JSX</h4>
        <p>Building blocks of React apps - learn to create reusable UI pieces</p>
        <span class="badge badge-easy">Beginner</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('props')">
        <div class="card-icon">üì¶</div>
        <h4>Props</h4>
        <p>Pass data between components like a pro</p>
        <span class="badge badge-easy">Beginner</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('state')">
        <div class="card-icon">üîÑ</div>
        <h4>State & useState</h4>
        <p>Make your components dynamic and interactive</p>
        <span class="badge badge-medium">Intermediate</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('useeffect')">
        <div class="card-icon">‚ö°</div>
        <h4>useEffect</h4>
        <p>Handle side effects, API calls, and more</p>
        <span class="badge badge-medium">Intermediate</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('lifecycle')">
        <div class="card-icon">üîÅ</div>
        <h4>Component Lifecycle</h4>
        <p>Understand when and how components live and die</p>
        <span class="badge badge-medium">Intermediate</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('events')">
        <div class="card-icon">üñ±Ô∏è</div>
        <h4>Event Handling</h4>
        <p>React to user interactions the React way</p>
        <span class="badge badge-easy">Beginner</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('architecture')">
        <div class="card-icon">üèóÔ∏è</div>
        <h4>Component Architecture</h4>
        <p>Design scalable and maintainable component structures</p>
        <span class="badge badge-hard">Advanced</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
      <div class="topic-card" onclick="showSection('quiz')">
        <div class="card-icon">üéØ</div>
        <h4>Quiz Arena</h4>
        <p>Test your knowledge with 20+ questions</p>
        <span class="badge badge-hard">All Levels</span>
        <div class="card-progress"><div class="card-progress-fill" style="width:0%"></div></div>
      </div>
    </div>
  </div>
</div>

<!-- =================== COMPONENTS & JSX =================== -->
<div class="section" id="sec-components">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> Components & JSX</div>
    <h2>üß± Components & JSX</h2>
    <p>Components are the building blocks of any React application. Think of them as custom, reusable HTML elements with superpowers.</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">ü§î</span> What is a Component?</h3>
      <p>A React <span class="highlight">component</span> is a JavaScript function (or class) that returns a piece of UI. It's like creating your own HTML tag!</p>
      <p>Think of it this way: If HTML gives you <span class="keyword">&lt;div&gt;</span>, <span class="keyword">&lt;p&gt;</span>, <span class="keyword">&lt;button&gt;</span>... React lets you create <span class="keyword">&lt;UserCard&gt;</span>, <span class="keyword">&lt;NavBar&gt;</span>, <span class="keyword">&lt;ShoppingCart&gt;</span>!</p>

      <div class="visual-box">
        <div class="visual-title">Component = Function That Returns UI</div>
        <div class="flow-diagram">
          <div class="flow-box flow-parent">JavaScript Function</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-data">returns JSX</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-box flow-child">UI on Screen</div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìù</span> Your First Component</h3>
      <p>Here's the simplest React component you can write:</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-cm">// A simple function component</span>
<span class="syn-kw">function</span> <span class="syn-comp">Welcome</span>() {
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;h1&gt;</span>Hello, React!<span class="syn-tag">&lt;/h1&gt;</span>;
}

<span class="syn-cm">// Using arrow function (same thing!)</span>
<span class="syn-kw">const</span> <span class="syn-comp">Welcome</span> = () <span class="syn-op">=&gt;</span> {
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;h1&gt;</span>Hello, React!<span class="syn-tag">&lt;/h1&gt;</span>;
};</div>
      </div>

      <div class="info-box tip">
        <span class="info-icon">üí°</span>
        <div class="info-content"><strong>Rule #1:</strong> Component names MUST start with a capital letter! React uses this to distinguish between HTML elements (<span class="keyword">div</span>) and components (<span class="keyword">MyComponent</span>).</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">‚ö°</span> What is JSX?</h3>
      <p><span class="highlight">JSX</span> stands for JavaScript XML. It lets you write HTML-like syntax inside JavaScript. It's NOT actually HTML ‚Äî it gets compiled to JavaScript function calls!</p>

      <div class="visual-box">
        <div class="visual-title">JSX Gets Transformed</div>
        <div class="vs-grid">
          <div class="vs-card right">
            <div class="vs-label">What You Write (JSX)</div>
            <div class="vs-code"><span class="syn-tag">&lt;h1</span> <span class="syn-attr">className</span>=<span class="syn-str">"title"</span><span class="syn-tag">&gt;</span>
  Hello!
<span class="syn-tag">&lt;/h1&gt;</span></div>
          </div>
          <div class="vs-card right">
            <div class="vs-label">What React Sees (JavaScript)</div>
            <div class="vs-code">React.<span class="syn-fn">createElement</span>(
  <span class="syn-str">'h1'</span>,
  { <span class="syn-prop">className</span>: <span class="syn-str">'title'</span> },
  <span class="syn-str">'Hello!'</span>
)</div>
          </div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìê</span> JSX Rules</h3>
      <div class="accordion">
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">1Ô∏è‚É£ Return a Single Root Element <span>‚ñº</span></div>
          <div class="accordion-body"><div class="accordion-body-inner">
            <p>Every component must return ONE parent element. Use <span class="keyword">&lt;div&gt;</span> or <span class="keyword">&lt;&gt;...&lt;/&gt;</span> (Fragment) to wrap multiple elements.</p>
            <div class="vs-grid">
              <div class="vs-card wrong">
                <div class="vs-label">‚ùå Wrong</div>
                <div class="vs-code"><span class="syn-kw">return</span> (
  <span class="syn-tag">&lt;h1&gt;</span>Title<span class="syn-tag">&lt;/h1&gt;</span>
  <span class="syn-tag">&lt;p&gt;</span>Text<span class="syn-tag">&lt;/p&gt;</span>
);</div>
              </div>
              <div class="vs-card right">
                <div class="vs-label">‚úÖ Correct</div>
                <div class="vs-code"><span class="syn-kw">return</span> (
  <span class="syn-tag">&lt;&gt;</span>
    <span class="syn-tag">&lt;h1&gt;</span>Title<span class="syn-tag">&lt;/h1&gt;</span>
    <span class="syn-tag">&lt;p&gt;</span>Text<span class="syn-tag">&lt;/p&gt;</span>
  <span class="syn-tag">&lt;/&gt;</span>
);</div>
              </div>
            </div>
          </div></div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">2Ô∏è‚É£ Close All Tags <span>‚ñº</span></div>
          <div class="accordion-body"><div class="accordion-body-inner">
            <p>In JSX, every tag must be closed ‚Äî even self-closing ones!</p>
            <div class="vs-grid">
              <div class="vs-card wrong">
                <div class="vs-label">‚ùå Wrong</div>
                <div class="vs-code"><span class="syn-tag">&lt;img</span> <span class="syn-attr">src</span>=<span class="syn-str">"pic.jpg"</span><span class="syn-tag">&gt;</span>
<span class="syn-tag">&lt;input</span> <span class="syn-attr">type</span>=<span class="syn-str">"text"</span><span class="syn-tag">&gt;</span>
<span class="syn-tag">&lt;br&gt;</span></div>
              </div>
              <div class="vs-card right">
                <div class="vs-label">‚úÖ Correct</div>
                <div class="vs-code"><span class="syn-tag">&lt;img</span> <span class="syn-attr">src</span>=<span class="syn-str">"pic.jpg"</span> <span class="syn-tag">/&gt;</span>
<span class="syn-tag">&lt;input</span> <span class="syn-attr">type</span>=<span class="syn-str">"text"</span> <span class="syn-tag">/&gt;</span>
<span class="syn-tag">&lt;br /&gt;</span></div>
              </div>
            </div>
          </div></div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">3Ô∏è‚É£ Use camelCase for Attributes <span>‚ñº</span></div>
          <div class="accordion-body"><div class="accordion-body-inner">
            <p>HTML attributes become camelCase in JSX. <span class="keyword">class</span> ‚Üí <span class="keyword">className</span>, <span class="keyword">onclick</span> ‚Üí <span class="keyword">onClick</span></p>
            <div class="code-block"><div class="code-header"><span class="lang">jsx</span></div><div class="code-content"><span class="syn-cm">// HTML: class, onclick, for, tabindex</span>
<span class="syn-cm">// JSX:  className, onClick, htmlFor, tabIndex</span>

<span class="syn-tag">&lt;div</span> <span class="syn-attr">className</span>=<span class="syn-str">"container"</span><span class="syn-tag">&gt;</span>
  <span class="syn-tag">&lt;label</span> <span class="syn-attr">htmlFor</span>=<span class="syn-str">"email"</span><span class="syn-tag">&gt;</span>Email<span class="syn-tag">&lt;/label&gt;</span>
  <span class="syn-tag">&lt;button</span> <span class="syn-attr">onClick</span>={handleClick}<span class="syn-tag">&gt;</span>Go<span class="syn-tag">&lt;/button&gt;</span>
<span class="syn-tag">&lt;/div&gt;</span></div></div>
          </div></div>
        </div>
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">4Ô∏è‚É£ JavaScript Expressions in Curly Braces <span>‚ñº</span></div>
          <div class="accordion-body"><div class="accordion-body-inner">
            <p>Use <span class="keyword">{}</span> to embed JavaScript expressions inside JSX:</p>
            <div class="code-block"><div class="code-header"><span class="lang">jsx</span></div><div class="code-content"><span class="syn-kw">const</span> name = <span class="syn-str">"React"</span>;
<span class="syn-kw">const</span> items = [<span class="syn-str">"A"</span>, <span class="syn-str">"B"</span>, <span class="syn-str">"C"</span>];

<span class="syn-kw">return</span> (
  <span class="syn-tag">&lt;div&gt;</span>
    <span class="syn-tag">&lt;h1&gt;</span>Hello, {name}!<span class="syn-tag">&lt;/h1&gt;</span>
    <span class="syn-tag">&lt;p&gt;</span>2 + 2 = {<span class="syn-num">2</span> + <span class="syn-num">2</span>}<span class="syn-tag">&lt;/p&gt;</span>
    <span class="syn-tag">&lt;p&gt;</span>Items: {items.<span class="syn-fn">length</span>}<span class="syn-tag">&lt;/p&gt;</span>
    <span class="syn-tag">&lt;p&gt;</span>{<span class="syn-kw">new</span> <span class="syn-fn">Date</span>().<span class="syn-fn">toLocaleDateString</span>()}<span class="syn-tag">&lt;/p&gt;</span>
  <span class="syn-tag">&lt;/div&gt;</span>
);</div></div>
          </div></div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üèóÔ∏è</span> Component Composition</h3>
      <p>Components can use other components. This is called <span class="highlight">composition</span> ‚Äî and it's how you build complex UIs from simple pieces!</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">Avatar</span>() {
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;img</span> <span class="syn-attr">src</span>=<span class="syn-str">"user.jpg"</span> <span class="syn-attr">alt</span>=<span class="syn-str">"avatar"</span> <span class="syn-tag">/&gt;</span>;
}

<span class="syn-kw">function</span> <span class="syn-comp">UserInfo</span>() {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div&gt;</span>
      <span class="syn-tag">&lt;h2&gt;</span>Jane Doe<span class="syn-tag">&lt;/h2&gt;</span>
      <span class="syn-tag">&lt;p&gt;</span>Frontend Developer<span class="syn-tag">&lt;/p&gt;</span>
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}

<span class="syn-cm">// Composing components together!</span>
<span class="syn-kw">function</span> <span class="syn-comp">UserCard</span>() {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div</span> <span class="syn-attr">className</span>=<span class="syn-str">"card"</span><span class="syn-tag">&gt;</span>
      <span class="syn-tag">&lt;<span class="syn-comp">Avatar</span> /&gt;</span>
      <span class="syn-tag">&lt;<span class="syn-comp">UserInfo</span> /&gt;</span>
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}</div>
      </div>

      <div class="visual-box">
        <div class="visual-title">Component Tree Visualization</div>
        <div class="tree">
          <div class="tree-node highlight-node">&lt;App /&gt;</div>
          <div class="tree-connector"></div>
          <div class="tree-branch">
            <div style="text-align:center">
              <div class="tree-node">&lt;Header /&gt;</div>
            </div>
            <div style="text-align:center">
              <div class="tree-node highlight-node">&lt;UserCard /&gt;</div>
              <div class="tree-connector"></div>
              <div style="display:flex;gap:20px;justify-content:center">
                <div class="tree-node">&lt;Avatar /&gt;</div>
                <div class="tree-node">&lt;UserInfo /&gt;</div>
              </div>
            </div>
            <div style="text-align:center">
              <div class="tree-node">&lt;Footer /&gt;</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quiz for Components -->
    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-components"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('components')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== PROPS =================== -->
<div class="section" id="sec-props">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> Props</div>
    <h2>üì¶ Props ‚Äì Passing Data</h2>
    <p>Props (short for "properties") are how you pass data from a parent component to a child component. Think of them as function arguments for your components!</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">üîΩ</span> Data Flows Down</h3>
      <p>In React, data flows in ONE direction: <span class="highlight">parent ‚Üí child</span>. This is called <strong>one-way data flow</strong> or "unidirectional data flow".</p>

      <div class="visual-box">
        <div class="visual-title">Props Flow: Parent ‚Üí Child</div>
        <div class="flow-diagram">
          <div class="flow-box flow-parent">&lt;App /&gt;</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-data">name="React"</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-box flow-child">&lt;Greeting /&gt;</div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìù</span> Passing & Receiving Props</h3>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-cm">// PARENT: passes props like HTML attributes</span>
<span class="syn-kw">function</span> <span class="syn-comp">App</span>() {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;<span class="syn-comp">Greeting</span></span>
      <span class="syn-attr">name</span>=<span class="syn-str">"Alice"</span>
      <span class="syn-attr">age</span>={<span class="syn-num">25</span>}
      <span class="syn-attr">isAdmin</span>={<span class="syn-kw">true</span>}
    <span class="syn-tag">/&gt;</span>
  );
}

<span class="syn-cm">// CHILD: receives props as an object parameter</span>
<span class="syn-kw">function</span> <span class="syn-comp">Greeting</span>(props) {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div&gt;</span>
      <span class="syn-tag">&lt;h1&gt;</span>Hello, {props.name}!<span class="syn-tag">&lt;/h1&gt;</span>
      <span class="syn-tag">&lt;p&gt;</span>Age: {props.age}<span class="syn-tag">&lt;/p&gt;</span>
      {props.isAdmin <span class="syn-op">&amp;&amp;</span> <span class="syn-tag">&lt;span&gt;</span>üëë Admin<span class="syn-tag">&lt;/span&gt;</span>}
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">‚ú®</span> Destructuring Props (Best Practice!)</h3>
      <p>Instead of writing <span class="keyword">props.name</span>, <span class="keyword">props.age</span> everywhere, destructure them right in the parameter:</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-cm">// ‚úÖ Destructured ‚Äî clean and readable!</span>
<span class="syn-kw">function</span> <span class="syn-comp">Greeting</span>({ name, age, isAdmin }) {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div&gt;</span>
      <span class="syn-tag">&lt;h1&gt;</span>Hello, {name}!<span class="syn-tag">&lt;/h1&gt;</span>
      <span class="syn-tag">&lt;p&gt;</span>Age: {age}<span class="syn-tag">&lt;/p&gt;</span>
      {isAdmin <span class="syn-op">&amp;&amp;</span> <span class="syn-tag">&lt;span&gt;</span>üëë Admin<span class="syn-tag">&lt;/span&gt;</span>}
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}

<span class="syn-cm">// üéÅ Default values</span>
<span class="syn-kw">function</span> <span class="syn-comp">Button</span>({ text = <span class="syn-str">"Click me"</span>, color = <span class="syn-str">"blue"</span> }) {
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;button</span> <span class="syn-attr">style</span>={{ background: color }}<span class="syn-tag">&gt;</span>{text}<span class="syn-tag">&lt;/button&gt;</span>;
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üë∂</span> The Children Prop</h3>
      <p>The special <span class="keyword">children</span> prop lets you pass content BETWEEN the opening and closing tags of a component:</p>
      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">Card</span>({ title, children }) {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div</span> <span class="syn-attr">className</span>=<span class="syn-str">"card"</span><span class="syn-tag">&gt;</span>
      <span class="syn-tag">&lt;h2&gt;</span>{title}<span class="syn-tag">&lt;/h2&gt;</span>
      <span class="syn-tag">&lt;div&gt;</span>{children}<span class="syn-tag">&lt;/div&gt;</span>  <span class="syn-cm">{/* Whatever is between tags */}</span>
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}

<span class="syn-cm">// Usage ‚Äî anything between tags becomes children!</span>
<span class="syn-tag">&lt;<span class="syn-comp">Card</span></span> <span class="syn-attr">title</span>=<span class="syn-str">"Profile"</span><span class="syn-tag">&gt;</span>
  <span class="syn-tag">&lt;p&gt;</span>This is the card content<span class="syn-tag">&lt;/p&gt;</span>
  <span class="syn-tag">&lt;button&gt;</span>Edit<span class="syn-tag">&lt;/button&gt;</span>
<span class="syn-tag">&lt;/<span class="syn-comp">Card</span>&gt;</span></div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üö´</span> Props Are Read-Only!</h3>
      <div class="info-box danger">
        <span class="info-icon">üö®</span>
        <div class="info-content"><strong>NEVER modify props inside a component!</strong> Props are immutable. If you need to change data, use <strong>state</strong> instead (next lesson!).</div>
      </div>
      <div class="vs-grid">
        <div class="vs-card wrong">
          <div class="vs-label">‚ùå Never do this</div>
          <div class="vs-code"><span class="syn-kw">function</span> <span class="syn-comp">Bad</span>(props) {
  props.name = <span class="syn-str">"Changed"</span>; <span class="syn-cm">// üí• NO!</span>
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;p&gt;</span>{props.name}<span class="syn-tag">&lt;/p&gt;</span>;
}</div>
        </div>
        <div class="vs-card right">
          <div class="vs-label">‚úÖ Use as-is or derive</div>
          <div class="vs-code"><span class="syn-kw">function</span> <span class="syn-comp">Good</span>({ name }) {
  <span class="syn-kw">const</span> upper = name.<span class="syn-fn">toUpperCase</span>();
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;p&gt;</span>{upper}<span class="syn-tag">&lt;/p&gt;</span>;
}</div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìã</span> Passing Different Types</h3>
      <table class="comp-table">
        <thead><tr><th>Type</th><th>Example</th><th>Notes</th></tr></thead>
        <tbody>
          <tr><td>String</td><td><span class="keyword">name="Alice"</span></td><td>Can use quotes directly</td></tr>
          <tr><td>Number</td><td><span class="keyword">age={25}</span></td><td>Must use curly braces</td></tr>
          <tr><td>Boolean</td><td><span class="keyword">isActive={true}</span></td><td>Or just <span class="keyword">isActive</span></td></tr>
          <tr><td>Array</td><td><span class="keyword">items={[1,2,3]}</span></td><td>Curly braces required</td></tr>
          <tr><td>Object</td><td><span class="keyword">user={{name:"A"}}</span></td><td>Double braces!</td></tr>
          <tr><td>Function</td><td><span class="keyword">onClick={fn}</span></td><td>For callbacks</td></tr>
        </tbody>
      </table>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-props"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('props')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== STATE & useState =================== -->
<div class="section" id="sec-state">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> State & useState</div>
    <h2>üîÑ State & useState</h2>
    <p>State is a component's memory ‚Äî it lets components "remember" things and update the UI when data changes.</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">üß†</span> Props vs State</h3>
      <table class="comp-table">
        <thead><tr><th>Feature</th><th>Props</th><th>State</th></tr></thead>
        <tbody>
          <tr><td>Who owns it?</td><td>Parent component</td><td>Component itself</td></tr>
          <tr><td>Mutable?</td><td>‚ùå Read-only</td><td>‚úÖ Can change</td></tr>
          <tr><td>Like...</td><td>Function parameters</td><td>Local variables that persist</td></tr>
          <tr><td>Change causes</td><td>Re-render</td><td>Re-render</td></tr>
        </tbody>
      </table>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">ü™ù</span> The useState Hook</h3>
      <p><span class="keyword">useState</span> is a React Hook that lets you add state to function components.</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-kw">import</span> { useState } <span class="syn-kw">from</span> <span class="syn-str">'react'</span>;

<span class="syn-kw">function</span> <span class="syn-comp">Counter</span>() {
  <span class="syn-cm">// Declare state: [currentValue, setterFunction] = useState(initialValue)</span>
  <span class="syn-kw">const</span> [count, setCount] = <span class="syn-fn">useState</span>(<span class="syn-num">0</span>);

  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div&gt;</span>
      <span class="syn-tag">&lt;p&gt;</span>Count: {count}<span class="syn-tag">&lt;/p&gt;</span>
      <span class="syn-tag">&lt;button</span> <span class="syn-attr">onClick</span>={() <span class="syn-op">=&gt;</span> <span class="syn-fn">setCount</span>(count + <span class="syn-num">1</span>)}<span class="syn-tag">&gt;</span>
        Increment
      <span class="syn-tag">&lt;/button&gt;</span>
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}</div>
      </div>

      <div class="visual-box">
        <div class="visual-title">How useState Works</div>
        <div class="flow-diagram">
          <div class="flow-box flow-parent">useState(0)</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-data">[count, setCount]</div>
          <div class="flow-arrow">‚Üí</div>
          <div class="flow-box flow-child">setCount(1) ‚Üí Re-render!</div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéÆ</span> Interactive Demo: Counter</h3>
      <p>Try this working counter ‚Äî see how state changes trigger re-renders:</p>

      <div class="demo-box">
        <div class="demo-header">
          <div class="demo-title">‚ö° Live Demo<span class="live-badge">Interactive</span></div>
        </div>
        <div class="demo-body">
          <div class="demo-output-side" style="flex:1">
            <div class="demo-output">
              <div class="counter-demo">
                <div class="state-viz">
                  <div class="state-box active-state">
                    <div class="state-label">State: count</div>
                    <div class="state-value" id="counter-value">0</div>
                  </div>
                </div>
                <div class="counter-display" id="counter-display">0</div>
                <div class="counter-btns">
                  <button class="counter-btn" onclick="demoCounter(-1)">‚àí</button>
                  <button class="counter-btn" onclick="demoCounter(0)" style="font-size:.7rem">RST</button>
                  <button class="counter-btn" onclick="demoCounter(1)">+</button>
                </div>
                <p style="margin-top:12px;font-size:.75rem;color:var(--text3)">Renders: <span id="counter-renders">1</span></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üì¶</span> State with Objects & Arrays</h3>
      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-cm">// State with object</span>
<span class="syn-kw">const</span> [user, setUser] = <span class="syn-fn">useState</span>({ name: <span class="syn-str">""</span>, age: <span class="syn-num">0</span> });

<span class="syn-cm">// ‚úÖ Always spread to create new object</span>
<span class="syn-fn">setUser</span>({ ...user, name: <span class="syn-str">"Alice"</span> });

<span class="syn-cm">// State with array</span>
<span class="syn-kw">const</span> [todos, setTodos] = <span class="syn-fn">useState</span>([]);

<span class="syn-cm">// ‚úÖ Add item (spread existing + new)</span>
<span class="syn-fn">setTodos</span>([...todos, <span class="syn-str">"New Todo"</span>]);

<span class="syn-cm">// ‚úÖ Remove item (filter creates new array)</span>
<span class="syn-fn">setTodos</span>(todos.<span class="syn-fn">filter</span>(t <span class="syn-op">=&gt;</span> t.id !== idToRemove));

<span class="syn-cm">// ‚úÖ Update item (map creates new array)</span>
<span class="syn-fn">setTodos</span>(todos.<span class="syn-fn">map</span>(t <span class="syn-op">=&gt;</span> t.id === id ? { ...t, done: <span class="syn-kw">true</span> } : t));</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">‚ö°</span> Functional Updates</h3>
      <p>When new state depends on previous state, use the <span class="highlight">functional form</span>:</p>
      <div class="vs-grid">
        <div class="vs-card wrong">
          <div class="vs-label">‚ö†Ô∏è Might be stale</div>
          <div class="vs-code"><span class="syn-cm">// Uses stale closure value</span>
<span class="syn-fn">setCount</span>(count + <span class="syn-num">1</span>);
<span class="syn-fn">setCount</span>(count + <span class="syn-num">1</span>);
<span class="syn-cm">// Result: increments by 1, not 2!</span></div>
        </div>
        <div class="vs-card right">
          <div class="vs-label">‚úÖ Always current</div>
          <div class="vs-code"><span class="syn-cm">// Uses latest state value</span>
<span class="syn-fn">setCount</span>(prev <span class="syn-op">=&gt;</span> prev + <span class="syn-num">1</span>);
<span class="syn-fn">setCount</span>(prev <span class="syn-op">=&gt;</span> prev + <span class="syn-num">1</span>);
<span class="syn-cm">// Result: increments by 2! ‚úÖ</span></div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-state"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('state')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== useEffect =================== -->
<div class="section" id="sec-useeffect">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> useEffect</div>
    <h2>‚ö° useEffect Hook</h2>
    <p>useEffect lets you perform "side effects" in your components ‚Äî things like fetching data, setting up timers, or subscribing to events.</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">ü§î</span> What Are Side Effects?</h3>
      <p>A "side effect" is anything that happens <span class="highlight">outside</span> of rendering UI:</p>
      <ul>
        <li>üåê <strong>Fetching data</strong> from an API</li>
        <li>‚è∞ <strong>Timers</strong> (setTimeout, setInterval)</li>
        <li>üì° <strong>Subscriptions</strong> (WebSocket, event listeners)</li>
        <li>üìù <strong>Updating document</strong> title</li>
        <li>üíæ <strong>localStorage</strong> read/write</li>
      </ul>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìê</span> useEffect Syntax</h3>
      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-kw">import</span> { useEffect } <span class="syn-kw">from</span> <span class="syn-str">'react'</span>;

<span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
  <span class="syn-cm">// 1Ô∏è‚É£ Effect code runs here</span>
  console.<span class="syn-fn">log</span>(<span class="syn-str">"Effect ran!"</span>);

  <span class="syn-cm">// 2Ô∏è‚É£ Cleanup function (optional)</span>
  <span class="syn-kw">return</span> () <span class="syn-op">=&gt;</span> {
    console.<span class="syn-fn">log</span>(<span class="syn-str">"Cleanup!"</span>);
  };
}, [dependencies]); <span class="syn-cm">// 3Ô∏è‚É£ Dependency array</span></div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üîç</span> The Dependency Array ‚Äî The Key to useEffect!</h3>
      <p>The dependency array controls <span class="highlight">WHEN</span> your effect runs:</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-cm">// 1Ô∏è‚É£ No dependency array ‚Üí Runs after EVERY render</span>
<span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
  console.<span class="syn-fn">log</span>(<span class="syn-str">"Runs every time!"</span>);
}); <span class="syn-cm">// ‚ö†Ô∏è Usually NOT what you want</span>

<span class="syn-cm">// 2Ô∏è‚É£ Empty array ‚Üí Runs ONCE after first render (mount)</span>
<span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
  <span class="syn-fn">fetchData</span>(); <span class="syn-cm">// Perfect for API calls!</span>
}, []); <span class="syn-cm">// ‚úÖ Common pattern</span>

<span class="syn-cm">// 3Ô∏è‚É£ With dependencies ‚Üí Runs when dependencies CHANGE</span>
<span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
  document.title = <span class="syn-str">`Count: </span>${count}<span class="syn-str">`</span>;
}, [count]); <span class="syn-cm">// ‚úÖ Only re-runs when count changes</span></div>
      </div>

      <div class="visual-box">
        <div class="visual-title">Dependency Array Cheat Sheet</div>
        <table class="comp-table" style="margin:0">
          <thead><tr><th>Array</th><th>When It Runs</th><th>Use Case</th></tr></thead>
          <tbody>
            <tr><td><span class="keyword">none</span></td><td>Every render</td><td>Rarely needed</td></tr>
            <tr><td><span class="keyword">[]</span></td><td>Once (mount)</td><td>API calls, setup</td></tr>
            <tr><td><span class="keyword">[a, b]</span></td><td>When a or b change</td><td>Reactive effects</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üßπ</span> Cleanup Function</h3>
      <p>The cleanup function prevents <span class="highlight">memory leaks</span>. It runs before the effect re-runs and when the component unmounts.</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">WindowSize</span>() {
  <span class="syn-kw">const</span> [width, setWidth] = <span class="syn-fn">useState</span>(window.innerWidth);

  <span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
    <span class="syn-cm">// Setup: add listener</span>
    <span class="syn-kw">const</span> handleResize = () <span class="syn-op">=&gt;</span> <span class="syn-fn">setWidth</span>(window.innerWidth);
    window.<span class="syn-fn">addEventListener</span>(<span class="syn-str">'resize'</span>, handleResize);

    <span class="syn-cm">// Cleanup: remove listener</span>
    <span class="syn-kw">return</span> () <span class="syn-op">=&gt;</span> {
      window.<span class="syn-fn">removeEventListener</span>(<span class="syn-str">'resize'</span>, handleResize);
    };
  }, []); <span class="syn-cm">// Empty = setup once, cleanup on unmount</span>

  <span class="syn-kw">return</span> <span class="syn-tag">&lt;p&gt;</span>Window width: {width}px<span class="syn-tag">&lt;/p&gt;</span>;
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üåê</span> Real-World Example: Data Fetching</h3>
      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">UserList</span>() {
  <span class="syn-kw">const</span> [users, setUsers] = <span class="syn-fn">useState</span>([]);
  <span class="syn-kw">const</span> [loading, setLoading] = <span class="syn-fn">useState</span>(<span class="syn-kw">true</span>);
  <span class="syn-kw">const</span> [error, setError] = <span class="syn-fn">useState</span>(<span class="syn-kw">null</span>);

  <span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
    <span class="syn-fn">fetch</span>(<span class="syn-str">'https://api.example.com/users'</span>)
      .<span class="syn-fn">then</span>(res <span class="syn-op">=&gt;</span> res.<span class="syn-fn">json</span>())
      .<span class="syn-fn">then</span>(data <span class="syn-op">=&gt;</span> {
        <span class="syn-fn">setUsers</span>(data);
        <span class="syn-fn">setLoading</span>(<span class="syn-kw">false</span>);
      })
      .<span class="syn-fn">catch</span>(err <span class="syn-op">=&gt;</span> {
        <span class="syn-fn">setError</span>(err.message);
        <span class="syn-fn">setLoading</span>(<span class="syn-kw">false</span>);
      });
  }, []); <span class="syn-cm">// Runs once on mount</span>

  <span class="syn-kw">if</span> (loading) <span class="syn-kw">return</span> <span class="syn-tag">&lt;p&gt;</span>Loading...<span class="syn-tag">&lt;/p&gt;</span>;
  <span class="syn-kw">if</span> (error) <span class="syn-kw">return</span> <span class="syn-tag">&lt;p&gt;</span>Error: {error}<span class="syn-tag">&lt;/p&gt;</span>;
  <span class="syn-kw">return</span> <span class="syn-tag">&lt;ul&gt;</span>{users.<span class="syn-fn">map</span>(u <span class="syn-op">=&gt;</span> <span class="syn-tag">&lt;li</span> <span class="syn-attr">key</span>={u.id}<span class="syn-tag">&gt;</span>{u.name}<span class="syn-tag">&lt;/li&gt;</span>)}<span class="syn-tag">&lt;/ul&gt;</span>;
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-useeffect"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('useeffect')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== LIFECYCLE =================== -->
<div class="section" id="sec-lifecycle">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> Lifecycle</div>
    <h2>üîÅ Component Lifecycle</h2>
    <p>Every React component goes through a lifecycle: it's born (mounted), lives (updates), and eventually dies (unmounts).</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">üé¨</span> Interactive Lifecycle Simulator</h3>
      <p>Click the buttons to see how components move through their lifecycle phases:</p>

      <div class="demo-box">
        <div class="demo-header">
          <div class="demo-title">‚ö° Lifecycle Simulator<span class="live-badge">Interactive</span></div>
        </div>
        <div class="demo-body" style="flex-direction:column">
          <div class="lifecycle-phases">
            <div class="lifecycle-phase mount" id="phase-mount">
              <div class="phase-icon">üå±</div>
              <div class="phase-name">Mounting</div>
              <div class="phase-desc">Component is created</div>
            </div>
            <div class="lifecycle-phase update" id="phase-update">
              <div class="phase-icon">üîÑ</div>
              <div class="phase-name">Updating</div>
              <div class="phase-desc">State or props change</div>
            </div>
            <div class="lifecycle-phase unmount" id="phase-unmount">
              <div class="phase-icon">üíÄ</div>
              <div class="phase-name">Unmounting</div>
              <div class="phase-desc">Component is removed</div>
            </div>
          </div>
          <div style="text-align:center;display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
            <button class="btn btn-primary" onclick="simulateMount()">üå± Mount</button>
            <button class="btn btn-primary" onclick="simulateUpdate()">üîÑ Update</button>
            <button class="btn btn-primary" onclick="simulateUnmount()">üíÄ Unmount</button>
            <button class="btn btn-secondary" onclick="clearLifecycleLog()">Clear Log</button>
          </div>
          <div class="lifecycle-log" id="lifecycle-log">
            <div style="color:var(--text3);font-style:italic">Click a button to see lifecycle events...</div>
          </div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üó∫Ô∏è</span> Hooks ‚Üî Lifecycle Mapping</h3>
      <p>With function components, Hooks replace lifecycle methods:</p>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">MyComponent</span>() {
  <span class="syn-cm">// üå± MOUNTING ‚Äî runs once after first render</span>
  <span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
    console.<span class="syn-fn">log</span>(<span class="syn-str">"Mounted! (componentDidMount)"</span>);

    <span class="syn-cm">// üíÄ UNMOUNTING ‚Äî cleanup runs when component is removed</span>
    <span class="syn-kw">return</span> () <span class="syn-op">=&gt;</span> {
      console.<span class="syn-fn">log</span>(<span class="syn-str">"Unmounting! (componentWillUnmount)"</span>);
    };
  }, []);

  <span class="syn-cm">// üîÑ UPDATING ‚Äî runs when 'count' changes</span>
  <span class="syn-fn">useEffect</span>(() <span class="syn-op">=&gt;</span> {
    console.<span class="syn-fn">log</span>(<span class="syn-str">"Count updated! (componentDidUpdate)"</span>);
  }, [count]);

  <span class="syn-kw">return</span> <span class="syn-tag">&lt;div&gt;</span>...<span class="syn-tag">&lt;/div&gt;</span>;
}</div>
      </div>

      <table class="comp-table">
        <thead><tr><th>Class Lifecycle</th><th>Hook Equivalent</th></tr></thead>
        <tbody>
          <tr><td>componentDidMount</td><td><span class="keyword">useEffect(() => {}, [])</span></td></tr>
          <tr><td>componentDidUpdate</td><td><span class="keyword">useEffect(() => {}, [dep])</span></td></tr>
          <tr><td>componentWillUnmount</td><td><span class="keyword">useEffect(() => { return () => {} }, [])</span></td></tr>
        </tbody>
      </table>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-lifecycle"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('lifecycle')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== EVENT HANDLING =================== -->
<div class="section" id="sec-events">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> Event Handling</div>
    <h2>üñ±Ô∏è Event Handling</h2>
    <p>Learn how React handles user interactions ‚Äî clicks, typing, form submissions, and more!</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">üîÑ</span> React Events vs HTML Events</h3>
      <table class="comp-table">
        <thead><tr><th>HTML</th><th>React (JSX)</th></tr></thead>
        <tbody>
          <tr><td><span class="keyword">onclick="handleClick()"</span></td><td><span class="keyword">onClick={handleClick}</span></td></tr>
          <tr><td><span class="keyword">onchange</span></td><td><span class="keyword">onChange</span></td></tr>
          <tr><td><span class="keyword">onsubmit</span></td><td><span class="keyword">onSubmit</span></td></tr>
          <tr><td><span class="keyword">onmouseover</span></td><td><span class="keyword">onMouseOver</span></td></tr>
          <tr><td>String handler</td><td>Function reference</td></tr>
        </tbody>
      </table>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìù</span> Basic Event Handling</h3>
      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span><button class="copy-btn" onclick="copyCode(this)">Copy</button></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">EventExamples</span>() {
  <span class="syn-cm">// 1Ô∏è‚É£ Click handler</span>
  <span class="syn-kw">const</span> <span class="syn-fn">handleClick</span> = () <span class="syn-op">=&gt;</span> {
    <span class="syn-fn">alert</span>(<span class="syn-str">"Button clicked!"</span>);
  };

  <span class="syn-cm">// 2Ô∏è‚É£ With event object</span>
  <span class="syn-kw">const</span> <span class="syn-fn">handleChange</span> = (e) <span class="syn-op">=&gt;</span> {
    console.<span class="syn-fn">log</span>(<span class="syn-str">"Typed:"</span>, e.target.value);
  };

  <span class="syn-cm">// 3Ô∏è‚É£ Form submit (prevent page refresh!)</span>
  <span class="syn-kw">const</span> <span class="syn-fn">handleSubmit</span> = (e) <span class="syn-op">=&gt;</span> {
    e.<span class="syn-fn">preventDefault</span>(); <span class="syn-cm">// Don't refresh page!</span>
    console.<span class="syn-fn">log</span>(<span class="syn-str">"Form submitted!"</span>);
  };

  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;form</span> <span class="syn-attr">onSubmit</span>={handleSubmit}<span class="syn-tag">&gt;</span>
      <span class="syn-tag">&lt;input</span> <span class="syn-attr">onChange</span>={handleChange} <span class="syn-tag">/&gt;</span>
      <span class="syn-tag">&lt;button</span> <span class="syn-attr">onClick</span>={handleClick}<span class="syn-tag">&gt;</span>Submit<span class="syn-tag">&lt;/button&gt;</span>
    <span class="syn-tag">&lt;/form&gt;</span>
  );
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéÆ</span> Interactive Event Demo</h3>
      <div class="demo-box">
        <div class="demo-header">
          <div class="demo-title">‚ö° Event Playground<span class="live-badge">Interactive</span></div>
        </div>
        <div class="demo-body" style="flex-direction:column;gap:16px">
          <div class="demo-output">
            <div style="display:flex;flex-direction:column;gap:12px">
              <div>
                <label style="font-size:.8rem;color:var(--text3);display:block;margin-bottom:4px">onClick:</label>
                <button class="btn btn-primary" onclick="logEvent('onClick','Button was clicked! üñ±Ô∏è')">Click Me</button>
              </div>
              <div>
                <label style="font-size:.8rem;color:var(--text3);display:block;margin-bottom:4px">onChange:</label>
                <input type="text" placeholder="Type something..." oninput="logEvent('onChange','Value: '+this.value)" style="padding:8px 12px;background:var(--code-bg);border:1px solid rgba(97,218,251,.2);color:var(--text);border-radius:6px;font-family:var(--font);width:100%">
              </div>
              <div>
                <label style="font-size:.8rem;color:var(--text3);display:block;margin-bottom:4px">onMouseEnter / onMouseLeave:</label>
                <div style="padding:16px;background:var(--code-bg);border:1px solid rgba(97,218,251,.2);border-radius:6px;text-align:center;font-size:.85rem;color:var(--text2);cursor:pointer" onmouseenter="logEvent('onMouseEnter','Mouse entered! üê≠');this.style.borderColor='var(--react)'" onmouseleave="logEvent('onMouseLeave','Mouse left! üëã');this.style.borderColor='rgba(97,218,251,.2)'">Hover over me!</div>
              </div>
            </div>
          </div>
          <div>
            <div style="font-size:.75rem;color:var(--text3);margin-bottom:6px">Event Log:</div>
            <div id="event-log" style="background:var(--code-bg);border:1px solid rgba(97,218,251,.1);border-radius:8px;padding:12px;font-family:var(--mono);font-size:.78rem;max-height:150px;overflow-y:auto;min-height:60px">
              <div style="color:var(--text3);font-style:italic">Interact with elements above...</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">‚ö†Ô∏è</span> Common Mistake: Calling vs Passing</h3>
      <div class="vs-grid">
        <div class="vs-card wrong">
          <div class="vs-label">‚ùå CALLING the function</div>
          <div class="vs-code"><span class="syn-cm">// Runs IMMEDIATELY on render!</span>
<span class="syn-tag">&lt;button</span> <span class="syn-attr">onClick</span>={<span class="syn-fn">handleClick</span>()}<span class="syn-tag">&gt;</span>
<span class="syn-cm">// ^^^ the () calls it!</span></div>
        </div>
        <div class="vs-card right">
          <div class="vs-label">‚úÖ PASSING the function</div>
          <div class="vs-code"><span class="syn-cm">// Runs when user clicks</span>
<span class="syn-tag">&lt;button</span> <span class="syn-attr">onClick</span>={handleClick}<span class="syn-tag">&gt;</span>
<span class="syn-cm">// ^^^ no (), just reference</span></div>
        </div>
      </div>

      <div class="info-box warn">
        <span class="info-icon">üí°</span>
        <div class="info-content"><strong>Need to pass arguments?</strong> Wrap it in an arrow function: <span class="keyword">onClick={() => handleDelete(id)}</span></div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìù</span> Controlled Forms (State + Events)</h3>
      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-kw">function</span> <span class="syn-comp">LoginForm</span>() {
  <span class="syn-kw">const</span> [email, setEmail] = <span class="syn-fn">useState</span>(<span class="syn-str">""</span>);
  <span class="syn-kw">const</span> [password, setPassword] = <span class="syn-fn">useState</span>(<span class="syn-str">""</span>);

  <span class="syn-kw">const</span> <span class="syn-fn">handleSubmit</span> = (e) <span class="syn-op">=&gt;</span> {
    e.<span class="syn-fn">preventDefault</span>();
    console.<span class="syn-fn">log</span>(<span class="syn-str">"Login:"</span>, { email, password });
  };

  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;form</span> <span class="syn-attr">onSubmit</span>={handleSubmit}<span class="syn-tag">&gt;</span>
      <span class="syn-tag">&lt;input</span>
        <span class="syn-attr">type</span>=<span class="syn-str">"email"</span>
        <span class="syn-attr">value</span>={email}            <span class="syn-cm">{/* State controls value */}</span>
        <span class="syn-attr">onChange</span>={(e) <span class="syn-op">=&gt;</span> <span class="syn-fn">setEmail</span>(e.target.value)}
      <span class="syn-tag">/&gt;</span>
      <span class="syn-tag">&lt;input</span>
        <span class="syn-attr">type</span>=<span class="syn-str">"password"</span>
        <span class="syn-attr">value</span>={password}
        <span class="syn-attr">onChange</span>={(e) <span class="syn-op">=&gt;</span> <span class="syn-fn">setPassword</span>(e.target.value)}
      <span class="syn-tag">/&gt;</span>
      <span class="syn-tag">&lt;button</span> <span class="syn-attr">type</span>=<span class="syn-str">"submit"</span><span class="syn-tag">&gt;</span>Login<span class="syn-tag">&lt;/button&gt;</span>
    <span class="syn-tag">&lt;/form&gt;</span>
  );
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-events"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('events')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== ARCHITECTURE =================== -->
<div class="section" id="sec-architecture">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Core Concepts <span>‚Ä∫</span> Architecture</div>
    <h2>üèóÔ∏è Component Architecture</h2>
    <p>Learn how to structure your components for scalable, maintainable React applications.</p>
  </div>
  <div class="section-body">

    <div class="lesson-block">
      <h3><span class="icon">üìê</span> Key Principles</h3>
      <ul>
        <li>üß© <strong>Single Responsibility:</strong> Each component does ONE thing well</li>
        <li>‚ôªÔ∏è <strong>Reusability:</strong> Design components to be used in multiple places</li>
        <li>üì¶ <strong>Composition over Inheritance:</strong> Build complex UIs by combining simple components</li>
        <li>‚¨ÜÔ∏è <strong>Lift State Up:</strong> When siblings need shared data, move state to parent</li>
      </ul>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">‚¨ÜÔ∏è</span> Lifting State Up</h3>
      <p>When two sibling components need to share data, <span class="highlight">lift the state up</span> to their closest common parent:</p>

      <div class="visual-box">
        <div class="visual-title">Before vs After Lifting State</div>
        <div class="vs-grid">
          <div style="text-align:center">
            <div style="font-size:.75rem;color:var(--red);margin-bottom:12px;font-weight:600">‚ùå Can't share state between siblings</div>
            <div class="tree">
              <div class="tree-node">&lt;Parent /&gt;</div>
              <div class="tree-connector"></div>
              <div style="display:flex;gap:24px;justify-content:center">
                <div class="tree-node" style="border-color:rgba(239,68,68,.3)">&lt;A /&gt; state:üîí</div>
                <div class="tree-node">&lt;B /&gt; needs data?</div>
              </div>
            </div>
          </div>
          <div style="text-align:center">
            <div style="font-size:.75rem;color:var(--green);margin-bottom:12px;font-weight:600">‚úÖ State lifted to parent</div>
            <div class="tree">
              <div class="tree-node highlight-node">&lt;Parent /&gt; state:üì¶</div>
              <div class="tree-connector"></div>
              <div style="display:flex;gap:24px;justify-content:center">
                <div class="tree-node">&lt;A /&gt; props ‚Üì</div>
                <div class="tree-node">&lt;B /&gt; props ‚Üì</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="code-block">
        <div class="code-header"><span class="lang">jsx</span></div>
        <div class="code-content"><span class="syn-cm">// State lives in PARENT</span>
<span class="syn-kw">function</span> <span class="syn-comp">TemperatureConverter</span>() {
  <span class="syn-kw">const</span> [celsius, setCelsius] = <span class="syn-fn">useState</span>(<span class="syn-num">0</span>);

  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;div&gt;</span>
      <span class="syn-cm">{/* Both children share parent's state */}</span>
      <span class="syn-tag">&lt;<span class="syn-comp">CelsiusInput</span></span>
        <span class="syn-attr">value</span>={celsius}
        <span class="syn-attr">onChange</span>={setCelsius}  <span class="syn-cm">{/* Child can update parent */}</span>
      <span class="syn-tag">/&gt;</span>
      <span class="syn-tag">&lt;<span class="syn-comp">FahrenheitDisplay</span></span>
        <span class="syn-attr">value</span>={celsius * <span class="syn-num">9</span>/<span class="syn-num">5</span> + <span class="syn-num">32</span>}  <span class="syn-cm">{/* Derived from same state */}</span>
      <span class="syn-tag">/&gt;</span>
    <span class="syn-tag">&lt;/div&gt;</span>
  );
}</div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üóÇÔ∏è</span> Container vs Presentational</h3>
      <div class="vs-grid">
        <div class="vs-card right">
          <div class="vs-label">üß† Container (Smart)</div>
          <div class="vs-code"><span class="syn-cm">// Handles logic & data</span>
<span class="syn-kw">function</span> <span class="syn-comp">UserListContainer</span>() {
  <span class="syn-kw">const</span> [users] = <span class="syn-fn">useFetch</span>(<span class="syn-str">'/api/users'</span>);

  <span class="syn-kw">return</span> <span class="syn-tag">&lt;<span class="syn-comp">UserList</span></span> <span class="syn-attr">users</span>={users} <span class="syn-tag">/&gt;</span>;
}</div>
        </div>
        <div class="vs-card right">
          <div class="vs-label">üé® Presentational (Dumb)</div>
          <div class="vs-code"><span class="syn-cm">// Just renders UI from props</span>
<span class="syn-kw">function</span> <span class="syn-comp">UserList</span>({ users }) {
  <span class="syn-kw">return</span> (
    <span class="syn-tag">&lt;ul&gt;</span>
      {users.<span class="syn-fn">map</span>(u <span class="syn-op">=&gt;</span>
        <span class="syn-tag">&lt;li</span> <span class="syn-attr">key</span>={u.id}<span class="syn-tag">&gt;</span>{u.name}<span class="syn-tag">&lt;/li&gt;</span>
      )}
    <span class="syn-tag">&lt;/ul&gt;</span>
  );
}</div>
        </div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üìÅ</span> Project Structure Example</h3>
      <div class="code-block">
        <div class="code-header"><span class="lang">folder structure</span></div>
        <div class="code-content"><span class="syn-str">src/</span>
‚îú‚îÄ‚îÄ <span class="syn-str">components/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="syn-str">common/</span>        <span class="syn-cm"># Reusable UI (Button, Input, Card)</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="syn-str">layout/</span>        <span class="syn-cm"># Layout (Header, Footer, Sidebar)</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="syn-str">features/</span>      <span class="syn-cm"># Feature-specific components</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="syn-str">auth/</span>      <span class="syn-cm"># LoginForm, SignupForm</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="syn-str">users/</span>     <span class="syn-cm"># UserList, UserCard, UserProfile</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="syn-str">products/</span>  <span class="syn-cm"># ProductGrid, ProductCard</span>
‚îú‚îÄ‚îÄ <span class="syn-str">hooks/</span>             <span class="syn-cm"># Custom hooks (useFetch, useAuth)</span>
‚îú‚îÄ‚îÄ <span class="syn-str">utils/</span>             <span class="syn-cm"># Helper functions</span>
‚îî‚îÄ‚îÄ <span class="syn-str">App.jsx</span></div>
      </div>
    </div>

    <div class="lesson-block">
      <h3><span class="icon">üéØ</span> Quick Check</h3>
      <div class="quiz-container" id="quiz-architecture"></div>
    </div>

    <button class="complete-section-btn" onclick="completeSection('architecture')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== PITFALLS =================== -->
<div class="section" id="sec-pitfalls">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Practice <span>‚Ä∫</span> Pitfalls & Mistakes</div>
    <h2>‚ö†Ô∏è Common Pitfalls & Mistakes</h2>
    <p>These are the traps that catch beginners (and even experienced devs!). Learn to spot and avoid them.</p>
  </div>
  <div class="section-body">

    <div class="lesson-block" id="pitfalls-container">
      <!-- Pitfalls are dynamically loaded -->
    </div>

    <button class="complete-section-btn" onclick="completeSection('pitfalls')">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== QUIZ ARENA =================== -->
<div class="section" id="sec-quiz">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Practice <span>‚Ä∫</span> Quiz Arena</div>
    <h2>üéØ Quiz Arena</h2>
    <p>Test your React knowledge with these comprehensive questions. Get 80%+ to earn a mastery badge!</p>
  </div>
  <div class="section-body">
    <div id="quiz-arena-score" class="quiz-score" style="display:none"></div>
    <div class="quiz-container" id="quiz-arena"></div>
    <div style="text-align:center;margin-top:24px">
      <button class="btn btn-primary" onclick="scoreQuizArena()" id="score-quiz-btn">üìä Calculate My Score</button>
      <button class="btn btn-secondary" onclick="resetQuizArena()" style="margin-left:12px">üîÑ Reset Quiz</button>
    </div>
    <button class="complete-section-btn" onclick="completeSection('quiz')" style="margin-top:24px">‚úÖ Mark as Complete (+100 XP)</button>
  </div>
</div>

<!-- =================== CHALLENGES =================== -->
<div class="section" id="sec-challenges">
  <div class="section-header">
    <div class="breadcrumb">‚öõÔ∏è React Mastery <span>‚Ä∫</span> Practice <span>‚Ä∫</span> Challenges</div>
    <h2>üí™ Coding Challenges</h2>
    <p>Put your knowledge to the test! Write React code to solve these challenges.</p>
  </div>
  <div class="section-body" id="challenges-container">
    <!-- Challenges loaded dynamically -->
  </div>
</div>

</main>

<script>
// ============ STATE ============
let xp = 0;
let streak = 0;
let completedSections = new Set();
let counterVal = 0;
let counterRenders = 1;

// ============ NAVIGATION ============
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  const sec = document.getElementById('sec-' + id);
  if (sec) {
    sec.classList.add('active');
    document.getElementById('main').scrollTop = 0;
  }
  const nav = document.querySelector(`[data-section="${id}"]`);
  if (nav) nav.classList.add('active');
  if (window.innerWidth < 768) {
    document.getElementById('sidebar').classList.remove('open');
  }
}

function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
}

// ============ XP SYSTEM ============
function addXP(amount) {
  xp += amount;
  const maxXP = 800;
  document.getElementById('xp-text').textContent = `${Math.min(xp, maxXP)} / ${maxXP} XP`;
  document.getElementById('xp-fill').style.width = `${Math.min((xp / maxXP) * 100, 100)}%`;
}

function updateStreak(correct) {
  if (correct) {
    streak++;
  } else {
    streak = 0;
  }
  document.getElementById('streak-num').textContent = streak;
}

function completeSection(id) {
  if (completedSections.has(id)) return;
  completedSections.add(id);
  addXP(100);
  const nav = document.querySelector(`[data-section="${id}"]`);
  if (nav) nav.classList.add('completed');
  const btn = event.target;
  btn.textContent = '‚úÖ Completed!';
  btn.classList.add('completed');
}

// ============ COUNTER DEMO ============
function demoCounter(val) {
  if (val === 0) counterVal = 0;
  else counterVal += val;
  counterRenders++;
  const display = document.getElementById('counter-display');
  const value = document.getElementById('counter-value');
  display.textContent = counterVal;
  value.textContent = counterVal;
  document.getElementById('counter-renders').textContent = counterRenders;
  display.classList.add('bump');
  setTimeout(() => display.classList.remove('bump'), 200);
}

// ============ LIFECYCLE SIMULATOR ============
let logCount = 0;
function addLifecycleLog(text, type) {
  const log = document.getElementById('lifecycle-log');
  if (logCount === 0) log.innerHTML = '';
  logCount++;
  const time = new Date().toLocaleTimeString();
  const entry = document.createElement('div');
  entry.className = `log-entry ${type}-log`;
  entry.innerHTML = `<span class="log-time">[${time}]</span> ${text}`;
  log.appendChild(entry);
  log.scrollTop = log.scrollHeight;
}

function simulateMount() {
  document.getElementById('phase-mount').classList.add('active');
  document.getElementById('phase-update').classList.remove('active');
  document.getElementById('phase-unmount').classList.remove('active');
  addLifecycleLog('üå± Component created (constructor/init)', 'mount');
  setTimeout(() => addLifecycleLog('üå± First render() called', 'mount'), 300);
  setTimeout(() => addLifecycleLog('üå± useEffect(() => {}, []) ‚Äî componentDidMount', 'mount'), 600);
  setTimeout(() => addLifecycleLog('üå± Component is now visible in DOM! ‚úÖ', 'mount'), 900);
}

function simulateUpdate() {
  document.getElementById('phase-mount').classList.remove('active');
  document.getElementById('phase-update').classList.add('active');
  document.getElementById('phase-unmount').classList.remove('active');
  addLifecycleLog('üîÑ State or props changed...', 'update');
  setTimeout(() => addLifecycleLog('üîÑ Re-render() called with new data', 'update'), 300);
  setTimeout(() => addLifecycleLog('üîÑ useEffect cleanup runs (if deps changed)', 'update'), 500);
  setTimeout(() => addLifecycleLog('üîÑ useEffect(() => {}, [dep]) runs again', 'update'), 700);
  setTimeout(() => addLifecycleLog('üîÑ DOM updated! ‚úÖ', 'update'), 900);
}

function simulateUnmount() {
  document.getElementById('phase-mount').classList.remove('active');
  document.getElementById('phase-update').classList.remove('active');
  document.getElementById('phase-unmount').classList.add('active');
  addLifecycleLog('üíÄ Component being removed...', 'unmount');
  setTimeout(() => addLifecycleLog('üíÄ useEffect cleanup runs (return () => {...})', 'unmount'), 300);
  setTimeout(() => addLifecycleLog('üíÄ Event listeners removed', 'unmount'), 500);
  setTimeout(() => addLifecycleLog('üíÄ Timers cleared', 'unmount'), 700);
  setTimeout(() => addLifecycleLog('üíÄ Component removed from DOM üí®', 'unmount'), 900);
}

function clearLifecycleLog() {
  document.getElementById('lifecycle-log').innerHTML = '<div style="color:var(--text3);font-style:italic">Click a button to see lifecycle events...</div>';
  logCount = 0;
  document.querySelectorAll('.lifecycle-phase').forEach(p => p.classList.remove('active'));
}

// ============ EVENT LOG ============
function logEvent(type, msg) {
  const log = document.getElementById('event-log');
  if (log.querySelector('[style*="italic"]')) log.innerHTML = '';
  const time = new Date().toLocaleTimeString();
  const entry = document.createElement('div');
  entry.style.cssText = 'padding:3px 0;color:var(--react)';
  entry.innerHTML = `<span style="color:var(--text3)">[${time}]</span> <span style="color:var(--orange)">${type}</span> ‚Üí ${msg}`;
  log.appendChild(entry);
  log.scrollTop = log.scrollHeight;
}

// ============ ACCORDION ============
function toggleAccordion(header) {
  const body = header.nextElementSibling;
  const isOpen = body.classList.contains('open');
  body.classList.toggle('open');
  header.querySelector('span:last-child').textContent = isOpen ? '‚ñº' : '‚ñ≤';
}

// ============ COPY CODE ============
function copyCode(btn) {
  const code = btn.closest('.code-block').querySelector('.code-content').textContent;
  navigator.clipboard.writeText(code).then(() => {
    btn.textContent = 'Copied!';
    setTimeout(() => btn.textContent = 'Copy', 2000);
  });
}

// ============ QUIZ ENGINE ============
function renderQuiz(containerId, questions) {
  const container = document.getElementById(containerId);
  if (!container) return;
  container.innerHTML = questions.map((q, qi) => `
    <div class="quiz-question" id="${containerId}-q${qi}">
      <div class="quiz-q"><span class="q-num">Q${qi+1}.</span>${q.question}</div>
      <div class="quiz-options">
        ${q.options.map((opt, oi) => `
          <div class="quiz-opt" onclick="answerQuiz('${containerId}',${qi},${oi},${q.correct})" id="${containerId}-q${qi}-o${oi}">
            <span class="opt-letter">${String.fromCharCode(65+oi)}</span>
            <span>${opt}</span>
          </div>
        `).join('')}
      </div>
      <div class="quiz-explanation" id="${containerId}-q${qi}-exp">${q.explanation}</div>
    </div>
  `).join('');
}

function answerQuiz(containerId, qi, oi, correct) {
  const question = document.getElementById(`${containerId}-q${qi}`);
  if (question.classList.contains('answered-correct') || question.classList.contains('answered-wrong')) return;
  const opts = question.querySelectorAll('.quiz-opt');
  opts.forEach(o => o.classList.add('disabled'));
  const selected = document.getElementById(`${containerId}-q${qi}-o${oi}`);
  const exp = document.getElementById(`${containerId}-q${qi}-exp`);
  if (oi === correct) {
    selected.classList.add('correct');
    question.classList.add('answered-correct');
    exp.classList.add('show','correct');
    addXP(10);
    updateStreak(true);
  } else {
    selected.classList.add('incorrect');
    opts[correct].classList.add('correct');
    question.classList.add('answered-wrong');
    exp.classList.add('show','incorrect');
    updateStreak(false);
  }
}

// ============ QUIZ DATA ============
const quizData = {
  components: [
    {
      question: "What must a React component name start with?",
      options: ["lowercase letter", "Uppercase letter", "An underscore", "A number"],
      correct: 1,
      explanation: "‚úÖ React component names MUST start with an uppercase letter. This is how React distinguishes components from regular HTML elements."
    },
    {
      question: "What does JSX get compiled to?",
      options: ["HTML strings", "React.createElement() calls", "DOM nodes", "CSS selectors"],
      correct: 1,
      explanation: "‚úÖ JSX is syntactic sugar for React.createElement() calls. Babel transforms JSX into these function calls."
    },
    {
      question: "Which is the correct way to embed JavaScript in JSX?",
      options: ["{{ expression }}", "{% expression %}", "{ expression }", "${ expression }"],
      correct: 2,
      explanation: "‚úÖ Use single curly braces {} to embed JavaScript expressions in JSX."
    }
  ],
  props: [
    {
      question: "Props in React flow in which direction?",
      options: ["Child ‚Üí Parent", "Parent ‚Üí Child", "Both directions", "Sideways between siblings"],
      correct: 1,
      explanation: "‚úÖ Props flow ONE way: parent to child. This is called unidirectional data flow."
    },
    {
      question: "Can you modify props inside a child component?",
      options: ["Yes, always", "Only with setState", "No, props are read-only", "Only in useEffect"],
      correct: 2,
      explanation: "‚úÖ Props are READ-ONLY (immutable). Never try to change them inside a component."
    },
    {
      question: "How do you pass a number as a prop?",
      options: ['age=\"25\"', 'age={25}', 'age=(25)', 'age=25'],
      correct: 1,
      explanation: "‚úÖ Non-string props must be wrapped in curly braces: age={25}. Using quotes would pass the string \"25\"."
    }
  ],
  state: [
    {
      question: "What does useState return?",
      options: ["Just the value", "An array with [value, setter]", "An object with {get, set}", "A function"],
      correct: 1,
      explanation: "‚úÖ useState returns an array: [currentValue, setterFunction]. We destructure it as [value, setValue]."
    },
    {
      question: "What happens when you call a state setter function?",
      options: ["Nothing visible", "Page refreshes", "Component re-renders", "Only CSS updates"],
      correct: 2,
      explanation: "‚úÖ Calling a state setter triggers a re-render of the component with the new state value."
    },
    {
      question: "How should you update state that depends on the previous state?",
      options: ["setCount(count + 1)", "setCount(prev => prev + 1)", "count++", "this.state.count++"],
      correct: 1,
      explanation: "‚úÖ Use the functional form: setCount(prev => prev + 1). This ensures you always have the latest state value."
    }
  ],
  useeffect: [
    {
      question: "When does useEffect with an empty dependency array [] run?",
      options: ["Every render", "Only on mount (first render)", "Never", "Only on unmount"],
      correct: 1,
      explanation: "‚úÖ useEffect(() => {}, []) runs ONCE after the first render ‚Äî like componentDidMount."
    },
    {
      question: "What is the cleanup function in useEffect used for?",
      options: ["Resetting state", "Preventing memory leaks", "Styling components", "Error handling"],
      correct: 1,
      explanation: "‚úÖ The cleanup function removes event listeners, clears timers, cancels subscriptions ‚Äî preventing memory leaks!"
    },
    {
      question: "What happens if you omit the dependency array entirely?",
      options: ["Effect never runs", "Runs once", "Runs after EVERY render", "Throws an error"],
      correct: 2,
      explanation: "‚úÖ Without a dependency array, the effect runs after every single render ‚Äî usually NOT what you want!"
    }
  ],
  lifecycle: [
    {
      question: "What are the three phases of a React component lifecycle?",
      options: ["Create, Read, Delete", "Mount, Update, Unmount", "Init, Run, Stop", "Build, Deploy, Destroy"],
      correct: 1,
      explanation: "‚úÖ Components go through Mounting (birth), Updating (life), and Unmounting (death)."
    },
    {
      question: "Which Hook maps to componentDidMount?",
      options: ["useState", "useEffect(() => {}, [])", "useRef", "useMemo"],
      correct: 1,
      explanation: "‚úÖ useEffect with an empty dependency array runs once after mount ‚Äî equivalent to componentDidMount."
    }
  ],
  events: [
    {
      question: "What's wrong with: onClick={handleClick()}",
      options: ["Nothing wrong", "Missing arrow function", "It calls the function immediately during render", "Wrong syntax"],
      correct: 2,
      explanation: "‚úÖ The () calls the function immediately! Use onClick={handleClick} (no parentheses) to pass a reference."
    },
    {
      question: "How do you prevent a form from refreshing the page on submit?",
      options: ["return false", "e.preventDefault()", "stopPropagation()", "e.stopDefault()"],
      correct: 1,
      explanation: "‚úÖ Call e.preventDefault() in the onSubmit handler to prevent the default form submission behavior."
    },
    {
      question: "React events are called:",
      options: ["DOM events", "Synthetic events", "Virtual events", "Custom events"],
      correct: 1,
      explanation: "‚úÖ React wraps native DOM events in SyntheticEvent objects for cross-browser compatibility."
    }
  ],
  architecture: [
    {
      question: "When should you 'lift state up'?",
      options: ["When state is too large", "When siblings need to share data", "When you have too many components", "Always"],
      correct: 1,
      explanation: "‚úÖ Lift state up to the nearest common parent when two or more children need access to the same state."
    },
    {
      question: "What is a 'presentational' component?",
      options: ["A component that fetches data", "A component that only renders UI from props", "A component with lots of state", "A component with animations"],
      correct: 1,
      explanation: "‚úÖ Presentational components focus purely on how things LOOK. They receive data via props and don't manage state."
    }
  ]
};

// Arena quiz ‚Äî all topics combined
const arenaQuestions = [
  {question:"What is JSX?",options:["A database","JavaScript XML - syntax extension","A CSS framework","A Node.js package"],correct:1,explanation:"‚úÖ JSX is a syntax extension that lets you write HTML-like code inside JavaScript."},
  {question:"What is the correct way to create a React function component?",options:["function myComponent() {}","function MyComponent() {}","class MyComponent() {}","const MyComponent = class {}"],correct:1,explanation:"‚úÖ Function components are regular functions that start with an uppercase letter and return JSX."},
  {question:"How do you render a list in React?",options:["Using a for loop in JSX","Using array.map()","Using document.createElement","Using innerHTML"],correct:1,explanation:"‚úÖ Use array.map() to transform an array of data into an array of JSX elements."},
  {question:"What is the 'key' prop used for in lists?",options:["Styling","Helping React identify which items changed","Database primary key","CSS selector"],correct:1,explanation:"‚úÖ Keys help React efficiently update the DOM by tracking which items in a list have changed, been added, or removed."},
  {question:"Which is NOT a valid Hook rule?",options:["Call Hooks at top level","Call Hooks in if statements","Call Hooks in function components","Call Hooks in custom hooks"],correct:1,explanation:"‚úÖ Hooks CANNOT be called inside conditions, loops, or nested functions. They must be at the top level of the component."},
  {question:"What does the spread operator do with state objects?",options:["Deletes the object","Creates a shallow copy","Deep clones","Sorts the object"],correct:1,explanation:"‚úÖ The spread operator {...obj} creates a new shallow copy, which is essential for immutable state updates."},
  {question:"How do you pass a callback function from parent to child?",options:["Through state","Through props","Through context only","You can't"],correct:1,explanation:"‚úÖ Pass functions as props! The child calls the function to communicate back to the parent."},
  {question:"What triggers a component re-render?",options:["Only props change","Only state change","State or props change","Page refresh only"],correct:2,explanation:"‚úÖ A component re-renders when its state changes OR when it receives new props from its parent."},
  {question:"What is the virtual DOM?",options:["A hidden HTML file","A lightweight copy of the real DOM","A CSS framework","A browser feature"],correct:1,explanation:"‚úÖ The Virtual DOM is React's lightweight JavaScript representation of the actual DOM, used for efficient updates."},
  {question:"Which Hook would you use to store a value that persists across renders WITHOUT causing re-renders?",options:["useState","useEffect","useRef","useMemo"],correct:2,explanation:"‚úÖ useRef creates a mutable ref object whose .current property persists across renders without triggering re-renders."},
  {question:"What's the correct way to conditionally render in JSX?",options:["if/else inside JSX","Ternary operator {cond ? A : B}","switch statement in JSX","goto statement"],correct:1,explanation:"‚úÖ Use ternary operators or && for conditional rendering inside JSX. if/else must be used outside the return."},
  {question:"How do you handle multiple state values?",options:["One useState per value","Multiple values in one string","Global variables","DOM manipulation"],correct:0,explanation:"‚úÖ Use separate useState calls for each piece of state. This keeps updates independent and code clean."},
];

// ============ PITFALLS DATA ============
const pitfalls = [
  {
    title: "üî¥ Mutating State Directly",
    wrongCode: `const [items, setItems] = useState([1, 2, 3]);\n\n// ‚ùå Mutating the array directly\nitems.push(4);\nsetItems(items); // Won't re-render!`,
    rightCode: `const [items, setItems] = useState([1, 2, 3]);\n\n// ‚úÖ Create a new array\nsetItems([...items, 4]); // New reference ‚Üí re-renders!`,
    explanation: "React uses reference comparison. If you mutate and pass the same array/object, React thinks nothing changed!"
  },
  {
    title: "üî¥ Using State After Setting It",
    wrongCode: `const [count, setCount] = useState(0);\n\nfunction handleClick() {\n  setCount(count + 1);\n  console.log(count); // Still 0! üò±\n}`,
    rightCode: `const [count, setCount] = useState(0);\n\nfunction handleClick() {\n  const newCount = count + 1;\n  setCount(newCount);\n  console.log(newCount); // 1 ‚úÖ\n}`,
    explanation: "State updates are asynchronous! The new value isn't available until the next render."
  },
  {
    title: "üî¥ Infinite Loop in useEffect",
    wrongCode: `// ‚ùå This creates an infinite loop!\nuseEffect(() => {\n  setCount(count + 1); // Updates state\n}); // No dependency array = runs every render`,
    rightCode: `// ‚úÖ Add proper dependencies\nuseEffect(() => {\n  // Only runs when 'id' changes\n  fetchUser(id);\n}, [id]);`,
    explanation: "Without a dependency array, useEffect runs after every render. If it updates state, it triggers another render ‚Üí infinite loop!"
  },
  {
    title: "üî¥ Missing Key in Lists",
    wrongCode: `// ‚ùå No key prop\n{items.map(item =>\n  <li>{item.name}</li>\n)}`,
    rightCode: `// ‚úÖ Unique key for each item\n{items.map(item =>\n  <li key={item.id}>{item.name}</li>\n)}`,
    explanation: "Keys help React identify which items changed. Without keys, React can't efficiently update the list."
  },
  {
    title: "üî¥ Using Index as Key (Sometimes)",
    wrongCode: `// ‚ö†Ô∏è Problematic when list can reorder\n{items.map((item, index) =>\n  <li key={index}>{item.name}</li>\n)}`,
    rightCode: `// ‚úÖ Use stable, unique IDs\n{items.map(item =>\n  <li key={item.id}>{item.name}</li>\n)}`,
    explanation: "Using index as key is fine for static lists, but causes bugs with dynamic lists (reordering, filtering, adding/removing items)."
  },
  {
    title: "üî¥ Forgetting Cleanup in useEffect",
    wrongCode: `useEffect(() => {\n  const timer = setInterval(() => {\n    doSomething();\n  }, 1000);\n  // ‚ùå No cleanup! Timer keeps running\n}, []);`,
    rightCode: `useEffect(() => {\n  const timer = setInterval(() => {\n    doSomething();\n  }, 1000);\n  // ‚úÖ Cleanup!\n  return () => clearInterval(timer);\n}, []);`,
    explanation: "Without cleanup, timers, event listeners, and subscriptions keep running even after the component unmounts ‚Üí memory leaks!"
  },
  {
    title: "üî¥ Calling Handler Instead of Passing",
    wrongCode: `// ‚ùå Calls immediately on render!\n<button onClick={handleClick()}>\n  Click me\n</button>`,
    rightCode: `// ‚úÖ Pass reference\n<button onClick={handleClick}>\n  Click me\n</button>\n\n// ‚úÖ With arguments\n<button onClick={() => handleDelete(id)}>\n  Delete\n</button>`,
    explanation: "handleClick() with parentheses CALLS the function during render. Without parentheses, you PASS the function as a reference."
  },
  {
    title: "üî¥ Not Using Functional Updates",
    wrongCode: `// ‚ùå Stale closure problem\nfunction handleTripleClick() {\n  setCount(count + 1);\n  setCount(count + 1);\n  setCount(count + 1);\n  // Only increments by 1!\n}`,
    rightCode: `// ‚úÖ Functional updates\nfunction handleTripleClick() {\n  setCount(prev => prev + 1);\n  setCount(prev => prev + 1);\n  setCount(prev => prev + 1);\n  // Increments by 3! ‚úÖ\n}`,
    explanation: "When multiple state updates depend on previous state, use the functional form to avoid stale closures."
  }
];

// ============ CHALLENGES DATA ============
const challenges = [
  {
    title: "Challenge 1: Create a Greeting Component",
    difficulty: "easy",
    description: "Write a React component called <code>Greeting</code> that takes a <code>name</code> prop and renders \"Hello, [name]!\" inside an h1 tag.",
    starter: `function Greeting(/* what goes here? */) {\n  return (\n    // Write your JSX here\n  );\n}`,
    solution: `function Greeting({ name }) {\n  return <h1>Hello, {name}!</h1>;\n}`,
    hints: ["Destructure the name from props", "Use curly braces to embed the name in JSX"]
  },
  {
    title: "Challenge 2: Toggle Button",
    difficulty: "medium",
    description: "Create a <code>ToggleButton</code> component that shows \"ON\" or \"OFF\" and toggles when clicked. Use useState.",
    starter: `function ToggleButton() {\n  // Add state here\n\n  return (\n    <button onClick={/* handler */}>\n      {/* show ON or OFF */}\n    </button>\n  );\n}`,
    solution: `function ToggleButton() {\n  const [isOn, setIsOn] = useState(false);\n\n  return (\n    <button onClick={() => setIsOn(!isOn)}>\n      {isOn ? "ON" : "OFF"}\n    </button>\n  );\n}`,
    hints: ["Use useState(false) for the initial state", "Toggle with setIsOn(!isOn) or setIsOn(prev => !prev)", "Use ternary operator for display"]
  },
  {
    title: "Challenge 3: Todo List",
    difficulty: "medium",
    description: "Create a <code>TodoList</code> component with an input to add todos, and a list displaying them. Each todo should have a delete button.",
    starter: `function TodoList() {\n  // State for todos array and input value\n\n  const handleAdd = () => {\n    // Add new todo\n  };\n\n  const handleDelete = (index) => {\n    // Remove todo at index\n  };\n\n  return (\n    <div>\n      {/* Input + Add button */}\n      {/* Todo list with delete buttons */}\n    </div>\n  );\n}`,
    solution: `function TodoList() {\n  const [todos, setTodos] = useState([]);\n  const [input, setInput] = useState("");\n\n  const handleAdd = () => {\n    if (input.trim()) {\n      setTodos([...todos, input]);\n      setInput("");\n    }\n  };\n\n  const handleDelete = (index) => {\n    setTodos(todos.filter((_, i) => i !== index));\n  };\n\n  return (\n    <div>\n      <input\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n      />\n      <button onClick={handleAdd}>Add</button>\n      <ul>\n        {todos.map((todo, i) => (\n          <li key={i}>\n            {todo}\n            <button onClick={() => handleDelete(i)}>‚ùå</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}`,
    hints: ["You need TWO state variables: todos array and input string", "Use spread to add: [...todos, newTodo]", "Use filter to delete: todos.filter((_, i) => i !== index)"]
  },
  {
    title: "Challenge 4: useEffect - Document Title",
    difficulty: "easy",
    description: "Create a <code>Counter</code> component that updates the document title to show the current count whenever it changes.",
    starter: `function Counter() {\n  const [count, setCount] = useState(0);\n\n  // Add useEffect to update document.title\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(count + 1)}>\n        Increment\n      </button>\n    </div>\n  );\n}`,
    solution: `function Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    document.title = \`Count: \${count}\`;\n  }, [count]); // Only re-run when count changes\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(prev => prev + 1)}>\n        Increment\n      </button>\n    </div>\n  );\n}`,
    hints: ["Use useEffect with [count] as dependency", "Set document.title inside the effect"]
  },
  {
    title: "Challenge 5: Lifting State - Temperature Converter",
    difficulty: "hard",
    description: "Create a temperature converter with two inputs (Celsius and Fahrenheit). When one changes, the other should update automatically. Hint: Lift the state to the parent.",
    starter: `function TemperatureConverter() {\n  // Where should state live?\n\n  return (\n    <div>\n      {/* Celsius input */}\n      {/* Fahrenheit input */}\n    </div>\n  );\n}\n\nfunction TemperatureInput({ label, value, onChange }) {\n  // Presentational component\n}`,
    solution: `function TemperatureConverter() {\n  const [celsius, setCelsius] = useState("");\n\n  const fahrenheit = celsius ? (celsius * 9/5 + 32).toFixed(1) : "";\n\n  const handleCelsius = (e) => setCelsius(e.target.value);\n  const handleFahrenheit = (e) => {\n    const f = e.target.value;\n    setCelsius(f ? ((f - 32) * 5/9).toFixed(1) : "");\n  };\n\n  return (\n    <div>\n      <TemperatureInput\n        label="Celsius"\n        value={celsius}\n        onChange={handleCelsius}\n      />\n      <TemperatureInput\n        label="Fahrenheit"\n        value={fahrenheit}\n        onChange={handleFahrenheit}\n      />\n    </div>\n  );\n}`,
    hints: ["Keep ONE state (celsius) in the parent", "Derive fahrenheit from celsius", "Both inputs are controlled components"]
  }
];

// ============ RENDER PITFALLS ============
function renderPitfalls() {
  const container = document.getElementById('pitfalls-container');
  container.innerHTML = '<h3><span class="icon">‚ö†Ô∏è</span> Click each pitfall to learn how to avoid it</h3>' +
    pitfalls.map((p, i) => `
    <div class="pitfall-card">
      <div class="pitfall-header" onclick="togglePitfall(this)">
        <h4>${p.title}</h4>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="pitfall-body" id="pitfall-body-${i}">
        <div class="vs-grid">
          <div class="vs-card wrong">
            <div class="vs-label">‚ùå Wrong</div>
            <div class="vs-code">${escapeHtml(p.wrongCode)}</div>
          </div>
          <div class="vs-card right">
            <div class="vs-label">‚úÖ Correct</div>
            <div class="vs-code">${escapeHtml(p.rightCode)}</div>
          </div>
        </div>
        <div class="info-box warn" style="margin-top:12px">
          <span class="info-icon">üí°</span>
          <div class="info-content">${p.explanation}</div>
        </div>
      </div>
    </div>
  `).join('');
}

function togglePitfall(header) {
  const body = header.nextElementSibling;
  const isOpen = body.classList.contains('open');
  body.classList.toggle('open');
  header.classList.toggle('open');
}

function escapeHtml(text) {
  return text.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

// ============ RENDER CHALLENGES ============
function renderChallenges() {
  const container = document.getElementById('challenges-container');
  container.innerHTML = challenges.map((c, i) => `
    <div class="exercise-box">
      <div class="exercise-title">${c.title} <span class="badge badge-${c.difficulty}">${c.difficulty}</span></div>
      <div class="exercise-desc">${c.description}</div>

      <div style="margin-bottom:12px">
        <strong style="font-size:.85rem;color:var(--text)">üí° Hints:</strong>
        <ul style="margin-top:6px">
          ${c.hints.map(h => `<li style="font-size:.82rem;color:var(--text2);margin-bottom:4px">${h}</li>`).join('')}
        </ul>
      </div>

      <div class="exercise-editor">
        <textarea id="challenge-editor-${i}" placeholder="Write your solution here...">${c.starter}</textarea>
      </div>

      <div class="exercise-actions">
        <button class="btn btn-primary" onclick="showSolution(${i})">üëÅÔ∏è Show Solution</button>
        <button class="btn btn-secondary" onclick="resetChallenge(${i})">üîÑ Reset</button>
      </div>

      <div class="exercise-result" id="challenge-result-${i}"></div>

      <div id="challenge-solution-${i}" style="display:none;margin-top:16px">
        <div style="font-size:.85rem;font-weight:600;color:var(--green);margin-bottom:8px">‚úÖ Solution:</div>
        <div class="code-block">
          <div class="code-header"><span class="lang">jsx</span></div>
          <div class="code-content">${escapeHtml(c.solution)}</div>
        </div>
      </div>
    </div>
  `).join('') + '<button class="complete-section-btn" onclick="completeSection(\'challenges\')" style="margin-top:24px">‚úÖ Mark as Complete (+100 XP)</button>';
}

function showSolution(i) {
  const sol = document.getElementById(`challenge-solution-${i}`);
  sol.style.display = sol.style.display === 'none' ? 'block' : 'none';
  addXP(5);
}

function resetChallenge(i) {
  document.getElementById(`challenge-editor-${i}`).value = challenges[i].starter;
  document.getElementById(`challenge-solution-${i}`).style.display = 'none';
}

// ============ QUIZ ARENA ============
function scoreQuizArena() {
  const container = document.getElementById('quiz-arena');
  const questions = container.querySelectorAll('.quiz-question');
  let correct = 0;
  let total = questions.length;
  let unanswered = 0;

  questions.forEach(q => {
    if (q.classList.contains('answered-correct')) correct++;
    else if (!q.classList.contains('answered-wrong')) unanswered++;
  });

  if (unanswered > 0) {
    alert(`Please answer all questions first! ${unanswered} remaining.`);
    return;
  }

  const pct = Math.round((correct / total) * 100);
  const scoreDiv = document.getElementById('quiz-arena-score');
  let emoji = pct >= 90 ? 'üèÜ' : pct >= 70 ? '‚≠ê' : pct >= 50 ? 'üëç' : 'üìö';
  let msg = pct >= 90 ? 'Outstanding! React Master!' : pct >= 70 ? 'Great job! Almost there!' : pct >= 50 ? 'Good effort! Keep studying!' : 'Keep learning! You\'ll get there!';

  scoreDiv.style.display = 'block';
  scoreDiv.innerHTML = `
    <div class="score-circle">${pct}%</div>
    <div class="score-text">${emoji} ${msg}</div>
    <div class="score-sub">${correct} out of ${total} correct</div>
  `;
  scoreDiv.scrollIntoView({behavior:'smooth'});
  addXP(correct * 10);
}

function resetQuizArena() {
  document.getElementById('quiz-arena-score').style.display = 'none';
  renderQuiz('quiz-arena', arenaQuestions);
}

// ============ PARTICLES ============
function createParticles() {
  const container = document.getElementById('particles');
  for (let i = 0; i < 15; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    const size = Math.random() * 4 + 2;
    p.style.cssText = `
      width:${size}px;height:${size}px;
      left:${Math.random()*100}%;
      animation-duration:${Math.random()*20+15}s;
      animation-delay:${Math.random()*15}s;
    `;
    container.appendChild(p);
  }
}

// ============ INIT ============
function init() {
  createParticles();

  // Render all quizzes
  Object.keys(quizData).forEach(key => {
    renderQuiz('quiz-' + key, quizData[key]);
  });
  renderQuiz('quiz-arena', arenaQuestions);

  // Render pitfalls and challenges
  renderPitfalls();
  renderChallenges();
}

document.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>